!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=336)}([,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JWSSignatureVerificationFailed=t.JWKSTimeout=t.JWKSMultipleMatchingKeys=t.JWKSNoMatchingKey=t.JWKSInvalid=t.JWKInvalid=t.JWTInvalid=t.JWSInvalid=t.JWEInvalid=t.JWEDecryptionFailed=t.JOSENotSupported=t.JOSEAlgNotAllowed=t.JWTExpired=t.JWTClaimValidationFailed=t.JOSEError=void 0;class n extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}t.JOSEError=n;t.JWTClaimValidationFailed=class extends n{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=t,this.reason=r}};t.JWTExpired=class extends n{static get code(){return"ERR_JWT_EXPIRED"}constructor(e,t="unspecified",r="unspecified"){super(e),this.code="ERR_JWT_EXPIRED",this.claim=t,this.reason=r}};t.JOSEAlgNotAllowed=class extends n{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}};t.JOSENotSupported=class extends n{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}};t.JWEDecryptionFailed=class extends n{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}};t.JWEInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}};t.JWSInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}};t.JWTInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}};t.JWKInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}};t.JWKSInvalid=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}};t.JWKSNoMatchingKey=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}};t.JWKSMultipleMatchingKeys=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}},Symbol.asyncIterator;t.JWKSTimeout=class extends n{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}};t.JWSSignatureVerificationFailed=class extends n{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatKdf=t.lengthAndInput=t.uint32be=t.uint64be=t.p2s=t.concat=t.decoder=t.encoder=void 0;const n=r(78);t.encoder=new TextEncoder,t.decoder=new TextDecoder;function o(...e){const t=e.reduce((e,{length:t})=>e+t,0),r=new Uint8Array(t);let n=0;return e.forEach(e=>{r.set(e,n),n+=e.length}),r}function i(e,t,r){if(t<0||t>=2**32)throw new RangeError("value must be >= 0 and <= 4294967295. Received "+t);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function a(e){const t=new Uint8Array(4);return i(t,e),t}t.concat=o,t.p2s=function(e,r){return o(t.encoder.encode(e),new Uint8Array([0]),r)},t.uint64be=function(e){const t=Math.floor(e/2**32),r=e%2**32,n=new Uint8Array(8);return i(n,t,0),i(n,r,4),n},t.uint32be=a,t.lengthAndInput=function(e){return o(a(e.length),e)},t.concatKdf=async function(e,t,r){const o=Math.ceil((t>>3)/32),i=new Uint8Array(32*o);for(let t=0;t<o;t++){const o=new Uint8Array(4+e.length+r.length);o.set(a(t+1)),o.set(e,4),o.set(r,4+e.length),i.set(await(0,n.default)("sha256",o),32*t)}return i.slice(0,t>>3)}},function(e,t,r){"use strict";var n=r(39),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):i(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t){e.exports=require("util")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodeBase64=t.decodeBase64=void 0;const n=r(12),o=r(3);let i;n.Buffer.isEncoding("base64url")?t.encode=i=e=>n.Buffer.from(e).toString("base64url"):t.encode=i=e=>n.Buffer.from(e).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_");t.decodeBase64=e=>n.Buffer.from(e,"base64");t.encodeBase64=e=>n.Buffer.from(e).toString("base64");t.decode=e=>n.Buffer.from(function(e){let t=e;return t instanceof Uint8Array&&(t=o.decoder.decode(t)),t}(e),"base64")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("object"!=typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(5);t.default=o.types.isKeyObject?e=>o.types.isKeyObject(e):e=>null!=e&&e instanceof n.KeyObject},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCryptoKey=void 0;const n=r(2),o=r(5),i=n.webcrypto;t.default=i,t.isCryptoKey=o.types.isCryptoKey?e=>o.types.isCryptoKey(e):e=>!1},function(e,t,r){"use strict";function n(e,t,...r){if(r.length>2){const t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=" Received "+t:"function"==typeof t&&t.name?e+=" Received function "+t.name:"object"==typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=" Received an instance of "+t.constructor.name),e}Object.defineProperty(t,"__esModule",{value:!0}),t.withAlg=void 0,t.default=(e,...t)=>n("Key must be ",e,...t),t.withAlg=function(e,t,...r){return n(`Key for the ${e} algorithm must be `,t,...r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.types=void 0;const n=r(9),o=r(8);t.default=e=>(0,o.default)(e)||(0,n.isCryptoKey)(e);const i=["KeyObject"];t.types=i,(globalThis.CryptoKey||(null===n.default||void 0===n.default?void 0:n.default.CryptoKey))&&i.push("CryptoKey")},function(e,t){e.exports=require("buffer")},function(e,t,r){"use strict";function n(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function o(e,t){return e.name===t}function i(e){return parseInt(e.name.slice(4),10)}function a(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();e+=`one of ${t.join(", ")}, or ${r}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=t[0]+".";throw new TypeError(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkEncCryptoKey=t.checkSigCryptoKey=void 0,t.checkSigCryptoKey=function(e,t,...r){switch(t){case"HS256":case"HS384":case"HS512":{if(!o(e.algorithm,"HMAC"))throw n("HMAC");const r=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==r)throw n("SHA-"+r,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!o(e.algorithm,"RSASSA-PKCS1-v1_5"))throw n("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==r)throw n("SHA-"+r,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!o(e.algorithm,"RSA-PSS"))throw n("RSA-PSS");const r=parseInt(t.slice(2),10);if(i(e.algorithm.hash)!==r)throw n("SHA-"+r,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw n("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!o(e.algorithm,"ECDSA"))throw n("ECDSA");const r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw n(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}a(e,r)},t.checkEncCryptoKey=function(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!o(e.algorithm,"AES-GCM"))throw n("AES-GCM");const r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw n(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!o(e.algorithm,"AES-KW"))throw n("AES-KW");const r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw n(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw n("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!o(e.algorithm,"PBKDF2"))throw n("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!o(e.algorithm,"RSA-OAEP"))throw n("RSA-OAEP");const r=parseInt(t.slice(9),10)||1;if(i(e.algorithm.hash)!==r)throw n("SHA-"+r,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}a(e,r)}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("stream")},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(61):e.exports=r(63)},function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(12),o=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){const n=r(17)("jwks"),{retrieveSigningKeys:o}=r(75),{request:i,cacheSigningKey:a,rateLimitSigningKey:s,getKeysInterceptor:c,callbackSupport:u}=r(176),l=r(108),d=r(109);e.exports={JwksClient:class{constructor(e){this.options={rateLimit:!1,cache:!0,timeout:3e4,...e},this.options.getKeysInterceptor&&(this.getSigningKey=c(this,e)),this.options.rateLimit&&(this.getSigningKey=s(this,e)),this.options.cache&&(this.getSigningKey=a(this,e)),this.getSigningKey=u(this,e)}async getKeys(){n(`Fetching keys from '${this.options.jwksUri}'`);try{const e=await i({uri:this.options.jwksUri,headers:this.options.requestHeaders,agent:this.options.requestAgent,timeout:this.options.timeout,fetcher:this.options.fetcher});return n("Keys:",e.keys),e.keys}catch(e){const{errorMsg:t}=e;throw n("Failure:",t||e),t?new l(t):e}}async getSigningKeys(){const e=await this.getKeys();if(!e||!e.length)throw new l("The JWKS endpoint did not contain any keys");const t=await o(e);if(!t.length)throw new l("The JWKS endpoint did not contain any signing keys");return n("Signing Keys:",t),t}async getSigningKey(e){n(`Fetching signing key for '${e}'`);const t=await this.getSigningKeys(),r=null!=e;if(!r&&t.length>1)throw n("No KID specified and JWKS endpoint returned more than 1 key"),new d("No KID specified and JWKS endpoint returned more than 1 key");const o=t.find(t=>!r||t.kid===e);if(o)return o;throw n(`Unable to find a signing key that matches '${e}'`),new d(`Unable to find a signing key that matches '${e}'`)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(...e)=>{const t=e.filter(Boolean);if(0===t.length||1===t.length)return!0;let r;for(const e of t){const t=Object.keys(e);if(r&&0!==r.size)for(const e of t){if(r.has(e))return!1;r.add(e)}else r=new Set(t)}return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.default=function(e,t,r,o,i){if(void 0!==i.crit&&void 0===o.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!o||void 0===o.crit)return new Set;if(!Array.isArray(o.crit)||0===o.crit.length||o.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t;for(const t of o.crit){if(!a.has(t))throw new n.JOSENotSupported(`Extension Header Parameter "${t}" is not recognized`);if(void 0===i[t])throw new e(`Extension Header Parameter "${t}" is missing`);if(a.get(t)&&void 0===o[t])throw new e(`Extension Header Parameter "${t}" MUST be integrity protected`)}return new Set(o.crit)}},function(e,t,r){e.exports={ArgumentError:r(191),JwksError:r(108),JwksRateLimitError:r(107),SigningKeyNotFoundError:r(109)}},function(e,t,r){"use strict";var n=r(4);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,t,r){"use strict";var n=r(4),o=r(116),i=r(25),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?c=r(117):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(c=r(123)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(a)})),e.exports=u},function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,r){"use strict";var n=r(25);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},function(e,t){e.exports=require("url")},function(e,t,r){e.exports=function(e){function t(e){let r,o,i,a=null;function s(...e){if(!s.enabled)return;const n=s,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return"%";a++;const i=t.formatters[o];if("function"==typeof i){const t=e[a];r=i.call(n,t),e.splice(a,1),a--}return r}),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(62),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t){e.exports=require("tty")},function(e,t){var r=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};(r.prototype=Object.create(Error.prototype)).constructor=r,e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(2);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.randomFillSync}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setCurve=t.weakMap=void 0;const n=r(12),o=r(2),i=r(1),a=r(9),s=r(8),c=r(10),u=r(11),l=n.Buffer.from([42,134,72,206,61,3,1,7]),d=n.Buffer.from([43,129,4,0,34]),f=n.Buffer.from([43,129,4,0,35]),p=n.Buffer.from([43,129,4,0,10]);t.weakMap=new WeakMap;const h=(e,r)=>{var n;let y;if((0,a.isCryptoKey)(e))y=o.KeyObject.from(e);else{if(!(0,s.default)(e))throw new TypeError((0,c.default)(e,...u.types));y=e}if("secret"===y.type)throw new TypeError('only "private" or "public" type keys can be used for this operation');switch(y.asymmetricKeyType){case"ed25519":case"ed448":return"Ed"+y.asymmetricKeyType.slice(2);case"x25519":case"x448":return"X"+y.asymmetricKeyType.slice(1);case"ec":{if(t.weakMap.has(y))return t.weakMap.get(y);let e=null===(n=y.asymmetricKeyDetails)||void 0===n?void 0:n.namedCurve;if(e||"private"!==y.type){if(!e){const t=y.export({format:"der",type:"spki"}),r=t[1]<128?14:15,n=t[r],o=t.slice(r+1,r+1+n);if(o.equals(l))e="prime256v1";else if(o.equals(d))e="secp384r1";else if(o.equals(f))e="secp521r1";else{if(!o.equals(p))throw new i.JOSENotSupported("Unsupported key curve for this operation");e="secp256k1"}}}else e=h((0,o.createPublicKey)(y),!0);if(r)return e;const a=(e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new i.JOSENotSupported("Unsupported key curve for this operation")}})(e);return t.weakMap.set(y,a),a}default:throw new TypeError("Invalid asymmetric key type for this operation")}};t.setCurve=function(e,r){t.weakMap.set(e,r)},t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setModulusLength=t.weakMap=void 0,t.weakMap=new WeakMap;const n=(e,t)=>{let r=e.readUInt8(1);if(0==(128&r))return 0===t?r:n(e.subarray(2+r),t-1);const o=127&r;r=0;for(let t=0;t<o;t++){r<<=8;r|=e.readUInt8(2+t)}return 0===t?r:n(e.subarray(2+r),t-1)},o=e=>{var r,o;if(t.weakMap.has(e))return t.weakMap.get(e);const i=null!==(o=null===(r=e.asymmetricKeyDetails)||void 0===r?void 0:r.modulusLength)&&void 0!==o?o:((e,t)=>{const r=e.readUInt8(1);if(0==(128&r))return n(e.subarray(2),t);const o=127&r;return n(e.subarray(2+o),t)})(e.export({format:"der",type:"pkcs1"}),"private"===e.type?1:0)-1<<3;return t.weakMap.set(e,i),i};t.setModulusLength=(e,r)=>{t.weakMap.set(e,r)},t.default=(e,t)=>{if(o(e)<2048)throw new TypeError(t+" requires key modulusLength to be 2048 bits or larger")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitLength=void 0;const n=r(1),o=r(31);function i(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new n.JOSENotSupported("Unsupported JWE Algorithm: "+e)}}t.bitLength=i,t.default=e=>(0,o.default)(new Uint8Array(i(e)>>3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.importJWK=t.importPKCS8=t.importX509=t.importSPKI=void 0;const n=r(6),o=r(53),i=r(153),a=r(1),s=r(7);t.importSPKI=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PUBLIC KEY-----"))throw new TypeError('"spki" must be SPKI formatted string');return(0,o.fromSPKI)(e,t,r)},t.importX509=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN CERTIFICATE-----"))throw new TypeError('"x509" must be X.509 formatted string');return(0,o.fromX509)(e,t,r)},t.importPKCS8=async function(e,t,r){if("string"!=typeof e||0!==e.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return(0,o.fromPKCS8)(e,t,r)},t.importJWK=async function(e,t,r){var o;if(!(0,s.default)(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return null!=r||(r=!0!==e.ext),r?(0,i.default)({...e,alg:t,ext:null!==(o=e.ext)&&void 0!==o&&o}):(0,n.decode)(e.k);case"RSA":if(void 0!==e.oth)throw new a.JOSENotSupported('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return(0,i.default)({...e,alg:t});default:throw new a.JOSENotSupported('Unsupported "kty" (Key Type) Parameter value')}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jwkImport=t.jwkExport=t.rsaPssParams=t.oneShotCallback=void 0;const[n,o]=process.versions.node.split(".").map(e=>parseInt(e,10));t.oneShotCallback=n>=16||15===n&&o>=13,t.rsaPssParams=!("electron"in process.versions)&&(n>=17||16===n&&o>=9),t.jwkExport=n>=16||15===n&&o>=9,t.jwkImport=n>=16||15===n&&o>=12},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(10),o=r(11);t.default=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?((e,t)=>{if(!(t instanceof Uint8Array)){if(!(0,o.default)(t))throw new TypeError((0,n.withAlg)(e,t,...o.types,"Uint8Array"));if("secret"!==t.type)throw new TypeError(o.types.join(" or ")+' instances for symmetric algorithms must be of type "secret"')}})(e,t):((e,t,r)=>{if(!(0,o.default)(t))throw new TypeError((0,n.withAlg)(e,t,...o.types));if("secret"===t.type)throw new TypeError(o.types.join(" or ")+' instances for asymmetric algorithms must not be of type "secret"');if("sign"===r&&"public"===t.type)throw new TypeError(o.types.join(" or ")+' instances for asymmetric algorithm signing must be of type "private"');if("decrypt"===r&&"public"===t.type)throw new TypeError(o.types.join(" or ")+' instances for asymmetric algorithm decryption must be of type "private"');if(t.algorithm&&"verify"===r&&"private"===t.type)throw new TypeError(o.types.join(" or ")+' instances for asymmetric algorithm verifying must be of type "public"');if(t.algorithm&&"encrypt"===r&&"private"===t.type)throw new TypeError(o.types.join(" or ")+' instances for asymmetric algorithm encryption must be of type "public"')})(e,t,r)}},function(e,t){e.exports=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES256K","ES384","ES512","EdDSA"]},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(26);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";var n=r(119),o=r(120);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},function(e,t,r){var n=r(27),o=n.URL,i=r(14),a=r(15),s=r(16).Writable,c=r(124),u=r(125),l=["abort","aborted","connect","error","socket","timeout"],d=Object.create(null);l.forEach((function(e){d[e]=function(t,r,n){this._redirectable.emit(e,t,r,n)}}));var f=S("ERR_INVALID_URL","Invalid URL",TypeError),p=S("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),h=S("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),y=S("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),m=S("ERR_STREAM_WRITE_AFTER_END","write after end");function v(e,t){s.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){r._processResponse(e)},this._performRequest()}function g(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(i){var a=i+":",s=r[a]=e[i],l=t[i]=Object.create(s);Object.defineProperties(l,{request:{value:function(e,i,s){if(k(e)){var l;try{l=b(new o(e))}catch(t){l=n.parse(e)}if(!k(l.protocol))throw new f({input:e});e=l}else o&&e instanceof o?e=b(e):(s=i,i=e,e={protocol:a});return A(i)&&(s=i,i=null),(i=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,i)).nativeProtocols=r,k(i.host)||k(i.hostname)||(i.hostname="::1"),c.equal(i.protocol,a,"protocol mismatch"),u("options",i),new v(i,s)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,r){var n=l.request(e,t,r);return n.end(),n},configurable:!0,enumerable:!0,writable:!0}})})),t}function w(){}function b(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function E(e,t){var r;for(var n in t)e.test(n)&&(r=t[n],delete t[n]);return null==r?void 0:String(r).trim()}function S(e,t,r){function n(r){Error.captureStackTrace(this,this.constructor),Object.assign(this,r||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return n.prototype=new(r||Error),n.prototype.constructor=n,n.prototype.name="Error ["+e+"]",n}function _(e){for(var t of l)e.removeListener(t,d[t]);e.on("error",w),e.abort()}function k(e){return"string"==typeof e||e instanceof String}function A(e){return"function"==typeof e}v.prototype=Object.create(s.prototype),v.prototype.abort=function(){_(this._currentRequest),this.emit("abort")},v.prototype.write=function(e,t,r){if(this._ending)throw new m;if(!k(e)&&("object"!=typeof(n=e)||!("length"in n)))throw new TypeError("data should be a string, Buffer or Uint8Array");var n;A(t)&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new y),this.abort()):r&&r()},v.prototype.end=function(e,t,r){if(A(e)?(r=e,e=t=null):A(t)&&(r=t,t=null),e){var n=this,o=this._currentRequest;this.write(e,t,(function(){n._ended=!0,o.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},v.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},v.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},v.prototype.setTimeout=function(e,t){var r=this;function n(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function o(t){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout((function(){r.emit("timeout"),i()}),e),n(t)}function i(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",i),r.removeListener("error",i),r.removeListener("response",i),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",o)}return t&&this.on("timeout",t),this.socket?o(this.socket):this._currentRequest.once("socket",o),this.on("socket",n),this.on("abort",i),this.on("error",i),this.on("response",i),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){v.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(v.prototype,e,{get:function(){return this._currentRequest[e]}})})),v.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},v.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.slice(0,-1);this._options.agent=this._options.agents[r]}var o=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var i of(o._redirectable=this,l))o.on(i,d[i]);if(this._currentUrl=/^\//.test(this._options.path)?n.format(this._options):this._options.path,this._isRedirect){var a=0,s=this,c=this._requestBodyBuffers;!function e(t){if(o===s._currentRequest)if(t)s.emit("error",t);else if(a<c.length){var r=c[a++];o.finished||o.write(r.data,r.encoding,e)}else s._ended&&o.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},v.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(!r||!1===this._options.followRedirects||t<300||t>=400)return e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),void(this._requestBodyBuffers=[]);if(_(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)this.emit("error",new h);else{var o,i=this._options.beforeRedirect;i&&(o=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var a=this._options.method;((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],E(/^content-/i,this._options.headers));var s,l=E(/^host$/i,this._options.headers),d=n.parse(this._currentUrl),f=l||d.host,y=/^\w+:/.test(r)?this._currentUrl:n.format(Object.assign(d,{host:f}));try{s=n.resolve(y,r)}catch(e){return void this.emit("error",new p({cause:e}))}u("redirecting to",s),this._isRedirect=!0;var m=n.parse(s);if(Object.assign(this._options,m),(m.protocol!==d.protocol&&"https:"!==m.protocol||m.host!==f&&!function(e,t){c(k(e)&&k(t));var r=e.length-t.length-1;return r>0&&"."===e[r]&&e.endsWith(t)}(m.host,f))&&E(/^(?:authorization|cookie)$/i,this._options.headers),A(i)){var v={headers:e.headers,statusCode:t},g={url:y,method:a,headers:o};try{i(this._options,v,g)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){this.emit("error",new p({cause:e}))}}},e.exports=g({http:i,https:a}),e.exports.wrap=g},function(e,t){e.exports=require("zlib")},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";var n=r(4);e.exports=function(e,t){t=t||{};var r={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=c(void 0,e[o])):r[o]=c(e[o],t[o])}n.forEach(o,(function(e){n.isUndefined(t[e])||(r[e]=c(void 0,t[e]))})),n.forEach(i,u),n.forEach(a,(function(o){n.isUndefined(t[o])?n.isUndefined(e[o])||(r[o]=c(void 0,e[o])):r[o]=c(void 0,t[o])})),n.forEach(s,(function(n){n in t?r[n]=c(e[n],t[n]):n in e&&(r[n]=c(void 0,e[n]))}));var l=o.concat(i).concat(a).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(d,u),r}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){var n=r(133),o=r(137);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=o.verify,t.decode=o.decode,t.isValid=o.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new o(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenedDecrypt=void 0;const n=r(6),o=r(79),i=r(83),a=r(1),s=r(20),c=r(7),u=r(151),l=r(3),d=r(34),f=r(21),p=r(89);t.flattenedDecrypt=async function(e,t,r){var h;if(!(0,c.default)(e))throw new a.JWEInvalid("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new a.JWEInvalid("JOSE Header missing");if("string"!=typeof e.iv)throw new a.JWEInvalid("JWE Initialization Vector missing or incorrect type");if("string"!=typeof e.ciphertext)throw new a.JWEInvalid("JWE Ciphertext missing or incorrect type");if("string"!=typeof e.tag)throw new a.JWEInvalid("JWE Authentication Tag missing or incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new a.JWEInvalid("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new a.JWEInvalid("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new a.JWEInvalid("JWE AAD incorrect type");if(void 0!==e.header&&!(0,c.default)(e.header))throw new a.JWEInvalid("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!(0,c.default)(e.unprotected))throw new a.JWEInvalid("JWE Per-Recipient Unprotected Header incorrect type");let y;if(e.protected)try{const t=(0,n.decode)(e.protected);y=JSON.parse(l.decoder.decode(t))}catch{throw new a.JWEInvalid("JWE Protected Header is invalid")}if(!(0,s.default)(y,e.header,e.unprotected))throw new a.JWEInvalid("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");const m={...y,...e.header,...e.unprotected};if((0,f.default)(a.JWEInvalid,new Map,null==r?void 0:r.crit,y,m),void 0!==m.zip){if(!y||!y.zip)throw new a.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==m.zip)throw new a.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:v,enc:g}=m;if("string"!=typeof v||!v)throw new a.JWEInvalid("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof g||!g)throw new a.JWEInvalid("missing JWE Encryption Algorithm (enc) in JWE Header");const w=r&&(0,p.default)("keyManagementAlgorithms",r.keyManagementAlgorithms),b=r&&(0,p.default)("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(w&&!w.has(v))throw new a.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(b&&!b.has(g))throw new a.JOSEAlgNotAllowed('"enc" (Encryption Algorithm) Header Parameter not allowed');let E;if(void 0!==e.encrypted_key)try{E=(0,n.decode)(e.encrypted_key)}catch{throw new a.JWEInvalid("Failed to base64url decode the encrypted_key")}let S,_,k,A=!1;"function"==typeof t&&(t=await t(y,e),A=!0);try{S=await(0,u.default)(v,t,E,m,r)}catch(e){if(e instanceof TypeError||e instanceof a.JWEInvalid||e instanceof a.JOSENotSupported)throw e;S=(0,d.default)(g)}try{_=(0,n.decode)(e.iv)}catch{throw new a.JWEInvalid("Failed to base64url decode the iv")}try{k=(0,n.decode)(e.tag)}catch{throw new a.JWEInvalid("Failed to base64url decode the tag")}const P=l.encoder.encode(null!==(h=e.protected)&&void 0!==h?h:"");let x,O;x=void 0!==e.aad?(0,l.concat)(P,l.encoder.encode("."),l.encoder.encode(e.aad)):P;try{O=(0,n.decode)(e.ciphertext)}catch{throw new a.JWEInvalid("Failed to base64url decode the ciphertext")}let j=await(0,o.default)(g,S,O,_,k,x);"DEF"===m.zip&&(j=await((null==r?void 0:r.inflateRaw)||i.inflate)(j));const C={plaintext:j};if(void 0!==e.protected&&(C.protectedHeader=y),void 0!==e.aad)try{C.additionalAuthenticatedData=(0,n.decode)(e.aad)}catch{throw new a.JWEInvalid("Failed to base64url decode the aad")}return void 0!==e.unprotected&&(C.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(C.unprotectedHeader=e.header),A?{...C,key:t}:C}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bitLength=void 0;const n=r(1),o=r(31);function i(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new n.JOSENotSupported("Unsupported JWE Algorithm: "+e)}}t.bitLength=i,t.default=e=>(0,o.default)(new Uint8Array(i(e)>>3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);let o;t.default=e=>(o||(o=new Set((0,n.getCiphers)())),o.has(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unwrap=t.wrap=void 0;const n=r(12),o=r(2),i=r(1),a=r(3),s=r(9),c=r(13),u=r(8),l=r(10),d=r(51),f=r(11);function p(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw new TypeError("Invalid key size for alg: "+t)}function h(e,t,r){if((0,u.default)(e))return e;if(e instanceof Uint8Array)return(0,o.createSecretKey)(e);if((0,s.isCryptoKey)(e))return(0,c.checkEncCryptoKey)(e,t,r),o.KeyObject.from(e);throw new TypeError((0,l.default)(e,...f.types,"Uint8Array"))}t.wrap=(e,t,r)=>{const s=`aes${parseInt(e.slice(1,4),10)}-wrap`;if(!(0,d.default)(s))throw new i.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);const c=h(t,e,"wrapKey");p(c,e);const u=(0,o.createCipheriv)(s,c,n.Buffer.alloc(8,166));return(0,a.concat)(u.update(r),u.final())};t.unwrap=(e,t,r)=>{const s=`aes${parseInt(e.slice(1,4),10)}-wrap`;if(!(0,d.default)(s))throw new i.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`);const c=h(t,e,"unwrapKey");p(c,e);const u=(0,o.createDecipheriv)(s,c,n.Buffer.alloc(8,166));return(0,a.concat)(u.update(r),u.final())}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromX509=t.fromSPKI=t.fromPKCS8=t.toPKCS8=t.toSPKI=void 0;const n=r(2),o=r(12),i=r(9),a=r(8),s=r(10),c=r(11),u=(e,t,r)=>{let o;if((0,i.isCryptoKey)(r)){if(!r.extractable)throw new TypeError("CryptoKey is not extractable");o=n.KeyObject.from(r)}else{if(!(0,a.default)(r))throw new TypeError((0,s.default)(r,...c.types));o=r}if(o.type!==e)throw new TypeError(`key is not a ${e} key`);return o.export({format:"pem",type:t})};t.toSPKI=e=>u("public","spki",e);t.toPKCS8=e=>u("private","pkcs8",e);t.fromPKCS8=e=>(0,n.createPrivateKey)({key:o.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""),"base64"),type:"pkcs8",format:"der"});t.fromSPKI=e=>(0,n.createPublicKey)({key:o.Buffer.from(e.replace(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,""),"base64"),type:"spki",format:"der"});t.fromX509=e=>(0,n.createPublicKey)({key:e,type:"spki",format:"pem"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlattenedEncrypt=t.unprotected=void 0;const n=r(6),o=r(88),i=r(83),a=r(50),s=r(90),c=r(1),u=r(20),l=r(3),d=r(21);t.unprotected=Symbol();t.FlattenedEncrypt=class{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,r){if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new c.JWEInvalid("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!(0,u.default)(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new c.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const f={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if((0,d.default)(c.JWEInvalid,new Map,null==r?void 0:r.crit,this._protectedHeader,f),void 0!==f.zip){if(!this._protectedHeader||!this._protectedHeader.zip)throw new c.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if("DEF"!==f.zip)throw new c.JOSENotSupported('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}const{alg:p,enc:h}=f;if("string"!=typeof p||!p)throw new c.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof h||!h)throw new c.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let y,m,v,g,w,b,E;if("dir"===p){if(this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if("ECDH-ES"===p&&this._cek)throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let n;({cek:m,encryptedKey:y,parameters:n}=await(0,s.default)(p,h,e,this._cek,this._keyManagementParameters)),n&&(r&&t.unprotected in r?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...n}:this.setUnprotectedHeader(n):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...n}:this.setProtectedHeader(n))}if(this._iv||(this._iv=(0,a.default)(h)),g=this._protectedHeader?l.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):l.encoder.encode(""),this._aad?(w=(0,n.encode)(this._aad),v=(0,l.concat)(g,l.encoder.encode("."),l.encoder.encode(w))):v=g,"DEF"===f.zip){const e=await((null==r?void 0:r.deflateRaw)||i.deflate)(this._plaintext);({ciphertext:b,tag:E}=await(0,o.default)(h,e,m,this._iv,v))}else({ciphertext:b,tag:E}=await(0,o.default)(h,this._plaintext,m,this._iv,v));const S={ciphertext:(0,n.encode)(b),iv:(0,n.encode)(this._iv),tag:(0,n.encode)(E)};return y&&(S.encrypted_key=(0,n.encode)(y)),w&&(S.aad=w),this._protectedHeader&&(S.protected=l.decoder.decode(g)),this._sharedUnprotectedHeader&&(S.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(S.header=this._unprotectedHeader),S}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenedVerify=void 0;const n=r(6),o=r(159),i=r(1),a=r(3),s=r(20),c=r(7),u=r(37),l=r(21),d=r(89);t.flattenedVerify=async function(e,t,r){var f;if(!(0,c.default)(e))throw new i.JWSInvalid("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new i.JWSInvalid('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new i.JWSInvalid("JWS Protected Header incorrect type");if(void 0===e.payload)throw new i.JWSInvalid("JWS Payload missing");if("string"!=typeof e.signature)throw new i.JWSInvalid("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,c.default)(e.header))throw new i.JWSInvalid("JWS Unprotected Header incorrect type");let p={};if(e.protected)try{const t=(0,n.decode)(e.protected);p=JSON.parse(a.decoder.decode(t))}catch{throw new i.JWSInvalid("JWS Protected Header is invalid")}if(!(0,s.default)(p,e.header))throw new i.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const h={...p,...e.header};let y=!0;if((0,l.default)(i.JWSInvalid,new Map([["b64",!0]]),null==r?void 0:r.crit,p,h).has("b64")&&(y=p.b64,"boolean"!=typeof y))throw new i.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:m}=h;if("string"!=typeof m||!m)throw new i.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');const v=r&&(0,d.default)("algorithms",r.algorithms);if(v&&!v.has(m))throw new i.JOSEAlgNotAllowed('"alg" (Algorithm) Header Parameter not allowed');if(y){if("string"!=typeof e.payload)throw new i.JWSInvalid("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new i.JWSInvalid("JWS Payload must be a string or an Uint8Array instance");let g=!1;"function"==typeof t&&(t=await t(p,e),g=!0),(0,u.default)(m,t,"verify");const w=(0,a.concat)(a.encoder.encode(null!==(f=e.protected)&&void 0!==f?f:""),a.encoder.encode("."),"string"==typeof e.payload?a.encoder.encode(e.payload):e.payload);let b,E;try{b=(0,n.decode)(e.signature)}catch{throw new i.JWSInvalid("Failed to base64url decode the signature")}if(!await(0,o.default)(m,t,b,w))throw new i.JWSSignatureVerificationFailed;if(y)try{E=(0,n.decode)(e.payload)}catch{throw new i.JWSInvalid("Failed to base64url decode the payload")}else E="string"==typeof e.payload?a.encoder.encode(e.payload):e.payload;const S={payload:E};return void 0!==e.protected&&(S.protectedHeader=p),void 0!==e.header&&(S.unprotectedHeader=e.header),g?{...S,key:t}:S}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(3),i=r(97),a=r(98),s=r(7),c=e=>e.toLowerCase().replace(/^application\//,"");t.default=(e,t,r={})=>{const{typ:u}=r;if(u&&("string"!=typeof e.typ||c(e.typ)!==c(u)))throw new n.JWTClaimValidationFailed('unexpected "typ" JWT header value',"typ","check_failed");let l;try{l=JSON.parse(o.decoder.decode(t))}catch{}if(!(0,s.default)(l))throw new n.JWTInvalid("JWT Claims Set must be a top-level JSON object");const{requiredClaims:d=[],issuer:f,subject:p,audience:h,maxTokenAge:y}=r;void 0!==y&&d.push("iat"),void 0!==h&&d.push("aud"),void 0!==p&&d.push("sub"),void 0!==f&&d.push("iss");for(const e of new Set(d.reverse()))if(!(e in l))throw new n.JWTClaimValidationFailed(`missing required "${e}" claim`,e,"missing");if(f&&!(Array.isArray(f)?f:[f]).includes(l.iss))throw new n.JWTClaimValidationFailed('unexpected "iss" claim value',"iss","check_failed");if(p&&l.sub!==p)throw new n.JWTClaimValidationFailed('unexpected "sub" claim value',"sub","check_failed");if(h&&(m=l.aud,v="string"==typeof h?[h]:h,!("string"==typeof m?v.includes(m):Array.isArray(m)&&v.some(Set.prototype.has.bind(new Set(m))))))throw new n.JWTClaimValidationFailed('unexpected "aud" claim value',"aud","check_failed");var m,v;let g;switch(typeof r.clockTolerance){case"string":g=(0,a.default)(r.clockTolerance);break;case"number":g=r.clockTolerance;break;case"undefined":g=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:w}=r,b=(0,i.default)(w||new Date);if((void 0!==l.iat||y)&&"number"!=typeof l.iat)throw new n.JWTClaimValidationFailed('"iat" claim must be a number',"iat","invalid");if(void 0!==l.nbf){if("number"!=typeof l.nbf)throw new n.JWTClaimValidationFailed('"nbf" claim must be a number',"nbf","invalid");if(l.nbf>b+g)throw new n.JWTClaimValidationFailed('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==l.exp){if("number"!=typeof l.exp)throw new n.JWTClaimValidationFailed('"exp" claim must be a number',"exp","invalid");if(l.exp<=b-g)throw new n.JWTExpired('"exp" claim timestamp check failed',"exp","check_failed")}if(y){const e=b-l.iat;if(e-g>("number"==typeof y?y:(0,a.default)(y)))throw new n.JWTExpired('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(e<0-g)throw new n.JWTClaimValidationFailed('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return l}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlattenedSign=void 0;const n=r(6),o=r(95),i=r(20),a=r(1),s=r(3),c=r(37),u=r(21);t.FlattenedSign=class{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){if(!this._protectedHeader&&!this._unprotectedHeader)throw new a.JWSInvalid("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,i.default)(this._protectedHeader,this._unprotectedHeader))throw new a.JWSInvalid("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader};let l=!0;if((0,u.default)(a.JWSInvalid,new Map([["b64",!0]]),null==t?void 0:t.crit,this._protectedHeader,r).has("b64")&&(l=this._protectedHeader.b64,"boolean"!=typeof l))throw new a.JWSInvalid('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:d}=r;if("string"!=typeof d||!d)throw new a.JWSInvalid('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,c.default)(d,e,"sign");let f,p=this._payload;l&&(p=s.encoder.encode((0,n.encode)(p))),f=this._protectedHeader?s.encoder.encode((0,n.encode)(JSON.stringify(this._protectedHeader))):s.encoder.encode("");const h=(0,s.concat)(f,s.encoder.encode("."),p),y=await(0,o.default)(d,e,h),m={signature:(0,n.encode)(y),payload:""};return l&&(m.payload=s.decoder.decode(p)),this._unprotectedHeader&&(m.header=this._unprotectedHeader),this._protectedHeader&&(m.protected=s.decoder.decode(f)),m}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProduceJWT=void 0;const n=r(97),o=r(7),i=r(98);t.ProduceJWT=class{constructor(e){if(!(0,o.default)(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return this._payload="number"==typeof e?{...this._payload,nbf:e}:{...this._payload,nbf:(0,n.default)(new Date)+(0,i.default)(e)},this}setExpirationTime(e){return this._payload="number"==typeof e?{...this._payload,exp:e}:{...this._payload,exp:(0,n.default)(new Date)+(0,i.default)(e)},this}setIssuedAt(e){return this._payload=void 0===e?{...this._payload,iat:(0,n.default)(new Date)}:{...this._payload,iat:e},this}}},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const n=r(6);t.encode=n.encode,t.decode=n.decode},function(e,t,r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))}),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(28)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=o)return a(e,t,o,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(29),o=r(5);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(64);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(28)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},function(e,t,r){"use strict";const n=r(65),o=r(29),i=r(66),{env:a}=process;let s;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!t&&void 0===s)return 0;const r=s||0;if("dumb"===a.TERM)return r;if("win32"===process.platform){const e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in a)||"codeship"===a.CI_NAME?1:r;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if("truecolor"===a.COLORTERM)return 3;if("TERM_PROGRAM"in a){const e=parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:r}i("no-color")||i("no-colors")||i("color=false")||i("color=never")?s=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=1),"FORCE_COLOR"in a&&(s="true"===a.FORCE_COLOR?1:"false"===a.FORCE_COLOR?0:0===a.FORCE_COLOR.length?1:Math.min(parseInt(a.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(u(e,e&&e.isTTY))},stdout:c(u(!0,o.isatty(1))),stderr:c(u(!0,o.isatty(2)))}},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},function(e,t,r){var n=r(48);e.exports=function(e,t){t=t||{};var r=n.decode(e,t);if(!r)return null;var o=r.payload;if("string"==typeof o)try{var i=JSON.parse(o);null!==i&&"object"==typeof i&&(o=i)}catch(e){}return!0===t.complete?{header:r.header,payload:o,signature:r.signature}:o}},function(e,t,r){var n=r(18).Buffer,o=r(16);function i(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}r(5).inherits(i,o),i.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},i.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=i},function(e,t,r){var n=r(134),o=r(18).Buffer,i=r(2),a=r(135),s=r(5),c="secret must be a string or buffer",u="key must be a string or a buffer",l="function"==typeof i.createPublicKey;function d(e){if(!o.isBuffer(e)&&"string"!=typeof e){if(!l)throw y(u);if("object"!=typeof e)throw y(u);if("string"!=typeof e.type)throw y(u);if("string"!=typeof e.asymmetricKeyType)throw y(u);if("function"!=typeof e.export)throw y(u)}}function f(e){if(!o.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw y("key must be a string, a buffer or an object")}function p(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function h(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function y(e){var t=[].slice.call(arguments,1),r=s.format.bind(s,e).apply(null,t);return new TypeError(r)}function m(e){var t;return t=e,o.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function v(e){return function(t,r){!function(e){if(!o.isBuffer(e)){if("string"==typeof e)return e;if(!l)throw y(c);if("object"!=typeof e)throw y(c);if("secret"!==e.type)throw y(c);if("function"!=typeof e.export)throw y(c)}}(r),t=m(t);var n=i.createHmac("sha"+e,r);return p((n.update(t),n.digest("base64")))}}function g(e){return function(t,r,i){var a=v(e)(t,i);return n(o.from(r),o.from(a))}}function w(e){return function(t,r){f(r),t=m(t);var n=i.createSign("RSA-SHA"+e);return p((n.update(t),n.sign(r,"base64")))}}function b(e){return function(t,r,n){d(n),t=m(t),r=h(r);var o=i.createVerify("RSA-SHA"+e);return o.update(t),o.verify(n,r,"base64")}}function E(e){return function(t,r){f(r),t=m(t);var n=i.createSign("RSA-SHA"+e);return p((n.update(t),n.sign({key:r,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function S(e){return function(t,r,n){d(n),t=m(t),r=h(r);var o=i.createVerify("RSA-SHA"+e);return o.update(t),o.verify({key:n,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function _(e){var t=w(e);return function(){var r=t.apply(null,arguments);return r=a.derToJose(r,"ES"+e)}}function k(e){var t=b(e);return function(r,n,o){return n=a.joseToDer(n,"ES"+e).toString("base64"),t(r,n,o)}}function A(){return function(){return""}}function P(){return function(e,t){return""===t}}l&&(u+=" or a KeyObject",c+="or a KeyObject"),e.exports=function(e){var t={hs:v,rs:w,ps:E,es:_,none:A},r={hs:g,rs:b,ps:S,es:k,none:P},n=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw y('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var o=(n[1]||n[3]).toLowerCase(),i=n[2];return{sign:t[o](i),verify:r[o](i)}}},function(e,t,r){var n=r(12).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},function(e,t,r){var n=r(30),o=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};(o.prototype=Object.create(n.prototype)).constructor=o,e.exports=o},function(e,t,r){var n=r(30),o=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};(o.prototype=Object.create(n.prototype)).constructor=o,e.exports=o},function(e,t,r){var n=r(139);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var o=n(e);if(void 0===o)return;return Math.floor(r+o/1e3)}return"number"==typeof e?r+e:void 0}},function(e,t,r){var n=r(140);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},function(e,t,r){const n=r(76),o=r(2);e.exports={retrieveSigningKeys:async function(e){const t=[];e=e.filter(({use:e})=>"sig"===e||void 0===e).filter(({kty:e})=>"RSA"===e||"EC"===e||"OKP"===e);for(const r of e)try{const e=await n.importJWK(r,"RS256");if(!(e instanceof o.KeyObject)||"public"!==e.type)continue;const i=()=>e.export({format:"pem",type:"spki"});t.push({get publicKey(){return i()},get rsaPublicKey(){return i()},getPublicKey:()=>i(),..."string"==typeof r.kid&&r.kid?{kid:r.kid}:void 0,..."string"==typeof r.alg&&r.alg?{alg:r.alg}:void 0})}catch(e){continue}return t}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base64url=t.generateSecret=t.generateKeyPair=t.errors=t.decodeJwt=t.decodeProtectedHeader=t.importJWK=t.importX509=t.importPKCS8=t.importSPKI=t.exportJWK=t.exportSPKI=t.exportPKCS8=t.UnsecuredJWT=t.createRemoteJWKSet=t.createLocalJWKSet=t.EmbeddedJWK=t.calculateJwkThumbprintUri=t.calculateJwkThumbprint=t.EncryptJWT=t.SignJWT=t.GeneralSign=t.FlattenedSign=t.CompactSign=t.FlattenedEncrypt=t.CompactEncrypt=t.jwtDecrypt=t.jwtVerify=t.generalVerify=t.flattenedVerify=t.compactVerify=t.GeneralEncrypt=t.generalDecrypt=t.flattenedDecrypt=t.compactDecrypt=void 0;var n=r(77);Object.defineProperty(t,"compactDecrypt",{enumerable:!0,get:function(){return n.compactDecrypt}});var o=r(49);Object.defineProperty(t,"flattenedDecrypt",{enumerable:!0,get:function(){return o.flattenedDecrypt}});var i=r(155);Object.defineProperty(t,"generalDecrypt",{enumerable:!0,get:function(){return i.generalDecrypt}});var a=r(156);Object.defineProperty(t,"GeneralEncrypt",{enumerable:!0,get:function(){return a.GeneralEncrypt}});var s=r(92);Object.defineProperty(t,"compactVerify",{enumerable:!0,get:function(){return s.compactVerify}});var c=r(55);Object.defineProperty(t,"flattenedVerify",{enumerable:!0,get:function(){return c.flattenedVerify}});var u=r(161);Object.defineProperty(t,"generalVerify",{enumerable:!0,get:function(){return u.generalVerify}});var l=r(162);Object.defineProperty(t,"jwtVerify",{enumerable:!0,get:function(){return l.jwtVerify}});var d=r(163);Object.defineProperty(t,"jwtDecrypt",{enumerable:!0,get:function(){return d.jwtDecrypt}});var f=r(99);Object.defineProperty(t,"CompactEncrypt",{enumerable:!0,get:function(){return f.CompactEncrypt}});var p=r(54);Object.defineProperty(t,"FlattenedEncrypt",{enumerable:!0,get:function(){return p.FlattenedEncrypt}});var h=r(100);Object.defineProperty(t,"CompactSign",{enumerable:!0,get:function(){return h.CompactSign}});var y=r(57);Object.defineProperty(t,"FlattenedSign",{enumerable:!0,get:function(){return y.FlattenedSign}});var m=r(164);Object.defineProperty(t,"GeneralSign",{enumerable:!0,get:function(){return m.GeneralSign}});var v=r(165);Object.defineProperty(t,"SignJWT",{enumerable:!0,get:function(){return v.SignJWT}});var g=r(166);Object.defineProperty(t,"EncryptJWT",{enumerable:!0,get:function(){return g.EncryptJWT}});var w=r(167);Object.defineProperty(t,"calculateJwkThumbprint",{enumerable:!0,get:function(){return w.calculateJwkThumbprint}}),Object.defineProperty(t,"calculateJwkThumbprintUri",{enumerable:!0,get:function(){return w.calculateJwkThumbprintUri}});var b=r(168);Object.defineProperty(t,"EmbeddedJWK",{enumerable:!0,get:function(){return b.EmbeddedJWK}});var E=r(101);Object.defineProperty(t,"createLocalJWKSet",{enumerable:!0,get:function(){return E.createLocalJWKSet}});var S=r(169);Object.defineProperty(t,"createRemoteJWKSet",{enumerable:!0,get:function(){return S.createRemoteJWKSet}});var _=r(171);Object.defineProperty(t,"UnsecuredJWT",{enumerable:!0,get:function(){return _.UnsecuredJWT}});var k=r(91);Object.defineProperty(t,"exportPKCS8",{enumerable:!0,get:function(){return k.exportPKCS8}}),Object.defineProperty(t,"exportSPKI",{enumerable:!0,get:function(){return k.exportSPKI}}),Object.defineProperty(t,"exportJWK",{enumerable:!0,get:function(){return k.exportJWK}});var A=r(35);Object.defineProperty(t,"importSPKI",{enumerable:!0,get:function(){return A.importSPKI}}),Object.defineProperty(t,"importPKCS8",{enumerable:!0,get:function(){return A.importPKCS8}}),Object.defineProperty(t,"importX509",{enumerable:!0,get:function(){return A.importX509}}),Object.defineProperty(t,"importJWK",{enumerable:!0,get:function(){return A.importJWK}});var P=r(172);Object.defineProperty(t,"decodeProtectedHeader",{enumerable:!0,get:function(){return P.decodeProtectedHeader}});var x=r(173);Object.defineProperty(t,"decodeJwt",{enumerable:!0,get:function(){return x.decodeJwt}}),t.errors=r(1);var O=r(174);Object.defineProperty(t,"generateKeyPair",{enumerable:!0,get:function(){return O.generateKeyPair}});var j=r(175);Object.defineProperty(t,"generateSecret",{enumerable:!0,get:function(){return j.generateSecret}}),t.base64url=r(60)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactDecrypt=void 0;const n=r(49),o=r(1),i=r(3);t.compactDecrypt=async function(e,t,r){if(e instanceof Uint8Array&&(e=i.decoder.decode(e)),"string"!=typeof e)throw new o.JWEInvalid("Compact JWE must be a string or Uint8Array");const{0:a,1:s,2:c,3:u,4:l,length:d}=e.split(".");if(5!==d)throw new o.JWEInvalid("Invalid Compact JWE");const f=await(0,n.flattenedDecrypt)({ciphertext:u,iv:c||void 0,protected:a||void 0,tag:l||void 0,encrypted_key:s||void 0},t,r),p={plaintext:f.plaintext,protectedHeader:f.protectedHeader};return"function"==typeof t?{...p,key:f.key}:p}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2);t.default=(e,t)=>(0,n.createHash)(e).update(t).digest()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(80),i=r(81),a=r(3),s=r(1),c=r(150),u=r(82),l=r(9),d=r(13),f=r(8),p=r(10),h=r(51),y=r(11);t.default=(e,t,r,m,v,g)=>{let w;if((0,l.isCryptoKey)(t))(0,d.checkEncCryptoKey)(t,e,"decrypt"),w=n.KeyObject.from(t);else{if(!(t instanceof Uint8Array||(0,f.default)(t)))throw new TypeError((0,p.default)(t,...y.types,"Uint8Array"));w=t}switch((0,i.default)(e,w),(0,o.default)(e,m),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,o,i,l){const d=parseInt(e.slice(1,4),10);(0,f.default)(t)&&(t=t.export());const p=t.subarray(d>>3),y=t.subarray(0,d>>3),m=parseInt(e.slice(-3),10),v=`aes-${d}-cbc`;if(!(0,h.default)(v))throw new s.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);const g=(0,u.default)(l,o,r,m,y,d);let w,b;try{w=(0,c.default)(i,g)}catch{}if(!w)throw new s.JWEDecryptionFailed;try{const e=(0,n.createDecipheriv)(v,p,o);b=(0,a.concat)(e.update(r),e.final())}catch{}if(!b)throw new s.JWEDecryptionFailed;return b}(e,w,r,m,v,g);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,o,i,a){const c=`aes-${parseInt(e.slice(1,4),10)}-gcm`;if(!(0,h.default)(c))throw new s.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);try{const e=(0,n.createDecipheriv)(c,t,o,{authTagLength:16});e.setAuthTag(i),a.byteLength&&e.setAAD(a,{plaintextLength:r.length});const s=e.update(r);return e.final(),s}catch{throw new s.JWEDecryptionFailed}}(e,w,r,m,v,g);default:throw new s.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(50);t.default=(e,t)=>{if(t.length<<3!==(0,o.bitLength)(e))throw new n.JWEInvalid("Invalid Initialization Vector length")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1),o=r(8);t.default=(e,t)=>{let r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new n.JOSENotSupported(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){const e=t.byteLength<<3;if(e!==r)throw new n.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`)}else{if(!(0,o.default)(t)||"secret"!==t.type)throw new TypeError("Invalid Content Encryption Key type");{const e=t.symmetricKeySize<<3;if(e!==r)throw new n.JWEInvalid(`Invalid Content Encryption Key length. Expected ${r} bits, got ${e} bits`)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(3);t.default=function(e,t,r,i,a,s){const c=(0,o.concat)(e,t,r,(0,o.uint64be)(e.length<<3)),u=(0,n.createHmac)("sha"+i,a);return u.update(c),u.digest().slice(0,s>>3)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deflate=t.inflate=void 0;const n=r(5),o=r(43),i=(0,n.promisify)(o.inflateRaw),a=(0,n.promisify)(o.deflateRaw);t.inflate=e=>i(e);t.deflate=e=>a(e)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ecdhAllowed=t.generateEpk=t.deriveKey=void 0;const n=r(2),o=r(5),i=r(32),a=r(3),s=r(1),c=r(9),u=r(13),l=r(8),d=r(10),f=r(11),p=(0,o.promisify)(n.generateKeyPair);t.deriveKey=async function(e,t,r,o,i=new Uint8Array(0),s=new Uint8Array(0)){let p,h;if((0,c.isCryptoKey)(e))(0,u.checkEncCryptoKey)(e,"ECDH"),p=n.KeyObject.from(e);else{if(!(0,l.default)(e))throw new TypeError((0,d.default)(e,...f.types));p=e}if((0,c.isCryptoKey)(t))(0,u.checkEncCryptoKey)(t,"ECDH","deriveBits"),h=n.KeyObject.from(t);else{if(!(0,l.default)(t))throw new TypeError((0,d.default)(t,...f.types));h=t}const y=(0,a.concat)((0,a.lengthAndInput)(a.encoder.encode(r)),(0,a.lengthAndInput)(i),(0,a.lengthAndInput)(s),(0,a.uint32be)(o)),m=(0,n.diffieHellman)({privateKey:h,publicKey:p});return(0,a.concatKdf)(m,o,y)},t.generateEpk=async function(e){let t;if((0,c.isCryptoKey)(e))t=n.KeyObject.from(e);else{if(!(0,l.default)(e))throw new TypeError((0,d.default)(e,...f.types));t=e}switch(t.asymmetricKeyType){case"x25519":return p("x25519");case"x448":return p("x448");case"ec":{const e=(0,i.default)(t);return p("ec",{namedCurve:e})}default:throw new s.JOSENotSupported("Invalid or unsupported EPK")}};t.ecdhAllowed=e=>["P-256","P-384","P-521","X25519","X448"].includes((0,i.default)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decrypt=t.encrypt=void 0;const n=r(5),o=r(2),i=r(31),a=r(3),s=r(6),c=r(52),u=r(152),l=r(9),d=r(13),f=r(8),p=r(10),h=r(11),y=(0,n.promisify)(o.pbkdf2);function m(e,t){if((0,f.default)(e))return e.export();if(e instanceof Uint8Array)return e;if((0,l.isCryptoKey)(e))return(0,d.checkEncCryptoKey)(e,t,"deriveBits","deriveKey"),o.KeyObject.from(e).export();throw new TypeError((0,p.default)(e,...h.types,"Uint8Array"))}t.encrypt=async(e,t,r,n=2048,o=(0,i.default)(new Uint8Array(16)))=>{(0,u.default)(o);const l=(0,a.p2s)(e,o),d=parseInt(e.slice(13,16),10)>>3,f=m(t,e),p=await y(f,l,n,d,"sha"+e.slice(8,11));return{encryptedKey:await(0,c.wrap)(e.slice(-6),p,r),p2c:n,p2s:(0,s.encode)(o)}};t.decrypt=async(e,t,r,n,o)=>{(0,u.default)(o);const i=(0,a.p2s)(e,o),s=parseInt(e.slice(13,16),10)>>3,l=m(t,e),d=await y(l,i,n,s,"sha"+e.slice(8,11));return(0,c.unwrap)(e.slice(-6),d,r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decrypt=t.encrypt=void 0;const n=r(2),o=r(33),i=r(9),a=r(13),s=r(8),c=r(10),u=r(11),l=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");(0,o.default)(e,t)},d=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return n.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return n.constants.RSA_PKCS1_PADDING;default:return}},f=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function p(e,t,...r){if((0,s.default)(e))return e;if((0,i.isCryptoKey)(e))return(0,a.checkEncCryptoKey)(e,t,...r),n.KeyObject.from(e);throw new TypeError((0,c.default)(e,...u.types))}t.encrypt=(e,t,r)=>{const o=d(e),i=f(e),a=p(t,e,"wrapKey","encrypt");return l(a,e),(0,n.publicEncrypt)({key:a,oaepHash:i,padding:o},r)};t.decrypt=(e,t,r)=>{const o=d(e),i=f(e),a=p(t,e,"unwrapKey","decrypt");return l(a,e),(0,n.privateDecrypt)({key:a,oaepHash:i,padding:o},r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unwrap=t.wrap=void 0;const n=r(88),o=r(79),i=r(50),a=r(6);t.wrap=async function(e,t,r,o){const s=e.slice(0,7);o||(o=(0,i.default)(s));const{ciphertext:c,tag:u}=await(0,n.default)(s,r,t,o,new Uint8Array(0));return{encryptedKey:c,iv:(0,a.encode)(o),tag:(0,a.encode)(u)}},t.unwrap=async function(e,t,r,n,i){const a=e.slice(0,7);return(0,o.default)(a,t,r,n,i,new Uint8Array(0))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(80),i=r(81),a=r(3),s=r(82),c=r(9),u=r(13),l=r(8),d=r(10),f=r(1),p=r(51),h=r(11);t.default=(e,t,r,y,m)=>{let v;if((0,c.isCryptoKey)(r))(0,u.checkEncCryptoKey)(r,e,"encrypt"),v=n.KeyObject.from(r);else{if(!(r instanceof Uint8Array||(0,l.default)(r)))throw new TypeError((0,d.default)(r,...h.types,"Uint8Array"));v=r}switch((0,i.default)(e,v),(0,o.default)(e,y),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,r,o,i){const c=parseInt(e.slice(1,4),10);(0,l.default)(r)&&(r=r.export());const u=r.subarray(c>>3),d=r.subarray(0,c>>3),h=`aes-${c}-cbc`;if(!(0,p.default)(h))throw new f.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);const y=(0,n.createCipheriv)(h,u,o),m=(0,a.concat)(y.update(t),y.final()),v=parseInt(e.slice(-3),10);return{ciphertext:m,tag:(0,s.default)(i,o,m,v,d,c)}}(e,t,v,y,m);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,r,o,i){const a=`aes-${parseInt(e.slice(1,4),10)}-gcm`;if(!(0,p.default)(a))throw new f.JOSENotSupported(`alg ${e} is not supported by your javascript runtime`);const s=(0,n.createCipheriv)(a,r,o,{authTagLength:16});i.byteLength&&s.setAAD(i,{plaintextLength:t.length});const c=s.update(t);return s.final(),{ciphertext:c,tag:s.getAuthTag()}}(e,t,v,y,m);default:throw new f.JOSENotSupported("Unsupported JWE Content Encryption Algorithm")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(52),o=r(84),i=r(85),a=r(86),s=r(6),c=r(34),u=r(1),l=r(91),d=r(37),f=r(87);t.default=async function(e,t,r,p,h={}){let y,m,v;switch((0,d.default)(e,r,"encrypt"),e){case"dir":v=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!o.ecdhAllowed(r))throw new u.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:i,apv:a}=h;let{epk:d}=h;d||(d=(await o.generateEpk(r)).privateKey);const{x:f,y:g,crv:w,kty:b}=await(0,l.exportJWK)(d),E=await o.deriveKey(r,d,"ECDH-ES"===e?t:e,"ECDH-ES"===e?(0,c.bitLength)(t):parseInt(e.slice(-5,-2),10),i,a);if(m={epk:{x:f,crv:w,kty:b}},"EC"===b&&(m.epk.y=g),i&&(m.apu=(0,s.encode)(i)),a&&(m.apv=(0,s.encode)(a)),"ECDH-ES"===e){v=E;break}v=p||(0,c.default)(t);const S=e.slice(-6);y=await(0,n.wrap)(S,E,v);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":v=p||(0,c.default)(t),y=await(0,a.encrypt)(e,r,v);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{v=p||(0,c.default)(t);const{p2c:n,p2s:o}=h;({encryptedKey:y,...m}=await(0,i.encrypt)(e,r,v,n,o));break}case"A128KW":case"A192KW":case"A256KW":v=p||(0,c.default)(t),y=await(0,n.wrap)(e,r,v);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{v=p||(0,c.default)(t);const{iv:n}=h;({encryptedKey:y,...m}=await(0,f.wrap)(e,r,v,n));break}default:throw new u.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:v,encryptedKey:y,parameters:m}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exportJWK=t.exportPKCS8=t.exportSPKI=void 0;const n=r(53),o=r(53),i=r(157);t.exportSPKI=async function(e){return(0,n.toSPKI)(e)},t.exportPKCS8=async function(e){return(0,o.toPKCS8)(e)},t.exportJWK=async function(e){return(0,i.default)(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactVerify=void 0;const n=r(55),o=r(1),i=r(3);t.compactVerify=async function(e,t,r){if(e instanceof Uint8Array&&(e=i.decoder.decode(e)),"string"!=typeof e)throw new o.JWSInvalid("Compact JWS must be a string or Uint8Array");const{0:a,1:s,2:c,length:u}=e.split(".");if(3!==u)throw new o.JWSInvalid("Invalid Compact JWS");const l=await(0,n.flattenedVerify)({payload:s,protected:a,signature:c},t,r),d={payload:l.payload,protectedHeader:l.protectedHeader};return"function"==typeof t?{...d,key:l.key}:d}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.default=function(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(32),i=r(1),a=r(33),s=r(36),c={padding:n.constants.RSA_PKCS1_PSS_PADDING,saltLength:n.constants.RSA_PSS_SALTLEN_DIGEST},u=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);t.default=function(e,t){switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(t.asymmetricKeyType))throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");return t;case"RS256":case"RS384":case"RS512":if("rsa"!==t.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,a.default)(t,e),t;case s.rsaPssParams&&"PS256":case s.rsaPssParams&&"PS384":case s.rsaPssParams&&"PS512":if("rsa-pss"===t.asymmetricKeyType){const{hashAlgorithm:r,mgf1HashAlgorithm:n,saltLength:o}=t.asymmetricKeyDetails,i=parseInt(e.slice(-3),10);if(void 0!==r&&(r!=="sha"+i||n!==r))throw new TypeError('Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" '+e);if(void 0!==o&&o>i>>3)throw new TypeError('Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" '+e)}else if("rsa"!==t.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");return(0,a.default)(t,e),{key:t,...c};case!s.rsaPssParams&&"PS256":case!s.rsaPssParams&&"PS384":case!s.rsaPssParams&&"PS512":if("rsa"!==t.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");return(0,a.default)(t,e),{key:t,...c};case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==t.asymmetricKeyType)throw new TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");const r=(0,o.default)(t),n=u.get(e);if(r!==n)throw new TypeError(`Invalid key curve for the algorithm, its curve must be ${n}, got ${r}`);return{dsaEncoding:"ieee-p1363",key:t}}default:throw new i.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(5),i=r(93),a=r(160),s=r(94),c=r(96);let u;u=n.sign.length>3?(0,o.promisify)(n.sign):n.sign;t.default=async(e,t,r)=>{const o=(0,c.default)(e,t,"sign");if(e.startsWith("HS")){const t=n.createHmac((0,a.default)(e),o);return t.update(r),t.digest()}return u((0,i.default)(e),r,(0,s.default)(e,o))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(9),i=r(13),a=r(10),s=r(11);t.default=function(e,t,r){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError((0,a.default)(t,...s.types));return(0,n.createSecretKey)(t)}if(t instanceof n.KeyObject)return t;if((0,o.isCryptoKey)(t))return(0,i.checkSigCryptoKey)(t,e,r),n.KeyObject.from(t);throw new TypeError((0,a.default)(t,...s.types,"Uint8Array"))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>Math.floor(e.getTime()/1e3)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i;t.default=e=>{const t=n.exec(e);if(!t)throw new TypeError("Invalid time period format");const r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(86400*r);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactEncrypt=void 0;const n=r(54);t.CompactEncrypt=class{constructor(e){this._flattened=new n.FlattenedEncrypt(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){const r=await this._flattened.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactSign=void 0;const n=r(57);t.CompactSign=class{constructor(e){this._flattened=new n.FlattenedSign(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){const r=await this._flattened.sign(e,t);if(void 0===r.payload)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLocalJWKSet=t.LocalJWKSet=t.isJWKSLike=void 0;const n=r(35),o=r(1),i=r(7);function a(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(s)}function s(e){return(0,i.default)(e)}t.isJWKSLike=a;class c{constructor(e){if(this._cached=new WeakMap,!a(e))throw new o.JWKSInvalid("JSON Web Key Set malformed");var t;this._jwks=(t=e,"function"==typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t)))}async getKey(e,t){const{alg:r,kid:n}={...e,...null==t?void 0:t.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new o.JOSENotSupported('Unsupported "alg" value for a JSON Web Key Set')}}(r),a=this._jwks.keys.filter(e=>{let t=i===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&"string"==typeof e.alg&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===r&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t}),{0:s,length:c}=a;if(0===c)throw new o.JWKSNoMatchingKey;if(1!==c){const e=new o.JWKSMultipleMatchingKeys,{_cached:t}=this;throw e[Symbol.asyncIterator]=async function*(){for(const e of a)try{yield await u(t,e,r)}catch{continue}},e}return u(this._cached,s,r)}}async function u(e,t,r){const i=e.get(t)||e.set(t,{}).get(t);if(void 0===i[r]){const e=await(0,n.importJWK)({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new o.JWKSInvalid("JSON Web Key Set members must be public keys");i[r]=e}return i[r]}t.LocalJWKSet=c,t.createLocalJWKSet=function(e){const t=new c(e);return async function(e,r){return t.getKey(e,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateKeyPair=t.generateSecret=void 0;const n=r(2),o=r(5),i=r(31),a=r(33),s=r(1),c=(0,o.promisify)(n.generateKeyPair);t.generateSecret=async function(e,t){let r;switch(e){case"HS256":case"HS384":case"HS512":case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":r=parseInt(e.slice(-3),10);break;case"A128KW":case"A192KW":case"A256KW":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.slice(1,4),10);break;default:throw new s.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return(0,n.createSecretKey)((0,i.default)(new Uint8Array(r>>3)))},t.generateKeyPair=async function(e,t){var r,n;switch(e){case"RS256":case"RS384":case"RS512":case"PS256":case"PS384":case"PS512":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":case"RSA1_5":{const e=null!==(r=null==t?void 0:t.modulusLength)&&void 0!==r?r:2048;if("number"!=typeof e||e<2048)throw new s.JOSENotSupported("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");const n=await c("rsa",{modulusLength:e,publicExponent:65537});return(0,a.setModulusLength)(n.privateKey,e),(0,a.setModulusLength)(n.publicKey,e),n}case"ES256":return c("ec",{namedCurve:"P-256"});case"ES256K":return c("ec",{namedCurve:"secp256k1"});case"ES384":return c("ec",{namedCurve:"P-384"});case"ES512":return c("ec",{namedCurve:"P-521"});case"EdDSA":switch(null==t?void 0:t.crv){case void 0:case"Ed25519":return c("ed25519");case"Ed448":return c("ed448");default:throw new s.JOSENotSupported("Invalid or unsupported crv option provided, supported values are Ed25519 and Ed448")}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":const e=null!==(n=null==t?void 0:t.crv)&&void 0!==n?n:"P-256";switch(e){case void 0:case"P-256":case"P-384":case"P-521":return c("ec",{namedCurve:e});case"X25519":return c("x25519");case"X448":return c("x448");default:throw new s.JOSENotSupported("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}default:throw new s.JOSENotSupported('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}}},function(e,t,r){e.exports=d;var n,o=r(181),i=r(5),a=r(183),s={},c="function"==typeof Symbol;function u(e,t,r){var o;return s[t]?o=s[t]:(o=n(t),s[t]=o),2===arguments.length?e[o]:(e[o]=r,r)}function l(){return 1}function d(e){if(!(this instanceof d))return new d(e);"number"==typeof e&&(e={max:e}),e||(e={});var t=u(this,"max",e.max);(!t||"number"!=typeof t||t<=0)&&u(this,"max",1/0);var r=e.length||l;"function"!=typeof r&&(r=l),u(this,"lengthCalculator",r),u(this,"allowStale",e.stale||!1),u(this,"maxAge",e.maxAge||0),u(this,"dispose",e.dispose),this.reset()}function f(e,t,r,n){var o=r.value;h(e,o)&&(m(e,r),u(e,"allowStale")||(o=void 0)),o&&t.call(n,o.value,o.key,e)}function p(e,t,r){var n=u(e,"cache").get(t);if(n){var o=n.value;h(e,o)?(m(e,n),u(e,"allowStale")||(o=void 0)):r&&u(e,"lruList").unshiftNode(n),o&&(o=o.value)}return o}function h(e,t){if(!t||!t.maxAge&&!u(e,"maxAge"))return!1;var r=Date.now()-t.now;return t.maxAge?r>t.maxAge:u(e,"maxAge")&&r>u(e,"maxAge")}function y(e){if(u(e,"length")>u(e,"max"))for(var t=u(e,"lruList").tail;u(e,"length")>u(e,"max")&&null!==t;){var r=t.prev;m(e,t),t=r}}function m(e,t){if(t){var r=t.value;u(e,"dispose")&&u(e,"dispose").call(this,r.key,r.value),u(e,"length",u(e,"length")-r.length),u(e,"cache").delete(r.key),u(e,"lruList").removeNode(t)}}function v(e,t,r,n,o){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=o||0}n=c?function(e){return Symbol.for(e)}:function(e){return"_"+e},Object.defineProperty(d.prototype,"max",{set:function(e){(!e||"number"!=typeof e||e<=0)&&(e=1/0),u(this,"max",e),y(this)},get:function(){return u(this,"max")},enumerable:!0}),Object.defineProperty(d.prototype,"allowStale",{set:function(e){u(this,"allowStale",!!e)},get:function(){return u(this,"allowStale")},enumerable:!0}),Object.defineProperty(d.prototype,"maxAge",{set:function(e){(!e||"number"!=typeof e||e<0)&&(e=0),u(this,"maxAge",e),y(this)},get:function(){return u(this,"maxAge")},enumerable:!0}),Object.defineProperty(d.prototype,"lengthCalculator",{set:function(e){"function"!=typeof e&&(e=l),e!==u(this,"lengthCalculator")&&(u(this,"lengthCalculator",e),u(this,"length",0),u(this,"lruList").forEach((function(e){e.length=u(this,"lengthCalculator").call(this,e.value,e.key),u(this,"length",u(this,"length")+e.length)}),this)),y(this)},get:function(){return u(this,"lengthCalculator")},enumerable:!0}),Object.defineProperty(d.prototype,"length",{get:function(){return u(this,"length")},enumerable:!0}),Object.defineProperty(d.prototype,"itemCount",{get:function(){return u(this,"lruList").length},enumerable:!0}),d.prototype.rforEach=function(e,t){t=t||this;for(var r=u(this,"lruList").tail;null!==r;){var n=r.prev;f(this,e,r,t),r=n}},d.prototype.forEach=function(e,t){t=t||this;for(var r=u(this,"lruList").head;null!==r;){var n=r.next;f(this,e,r,t),r=n}},d.prototype.keys=function(){return u(this,"lruList").toArray().map((function(e){return e.key}),this)},d.prototype.values=function(){return u(this,"lruList").toArray().map((function(e){return e.value}),this)},d.prototype.reset=function(){u(this,"dispose")&&u(this,"lruList")&&u(this,"lruList").length&&u(this,"lruList").forEach((function(e){u(this,"dispose").call(this,e.key,e.value)}),this),u(this,"cache",new o),u(this,"lruList",new a),u(this,"length",0)},d.prototype.dump=function(){return u(this,"lruList").map((function(e){if(!h(this,e))return{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}}),this).toArray().filter((function(e){return e}))},d.prototype.dumpLru=function(){return u(this,"lruList")},d.prototype.inspect=function(e,t){var r="LRUCache {",n=!1;u(this,"allowStale")&&(r+="\n  allowStale: true",n=!0);var o=u(this,"max");o&&o!==1/0&&(n&&(r+=","),r+="\n  max: "+i.inspect(o,t),n=!0);var a=u(this,"maxAge");a&&(n&&(r+=","),r+="\n  maxAge: "+i.inspect(a,t),n=!0);var s=u(this,"lengthCalculator");s&&s!==l&&(n&&(r+=","),r+="\n  length: "+i.inspect(u(this,"length"),t),n=!0);var c=!1;return u(this,"lruList").forEach((function(e){c?r+=",\n  ":(n&&(r+=",\n"),c=!0,r+="\n  ");var o=i.inspect(e.key).split("\n").join("\n  "),u={value:e.value};e.maxAge!==a&&(u.maxAge=e.maxAge),s!==l&&(u.length=e.length),h(this,e)&&(u.stale=!0),u=i.inspect(u,t).split("\n").join("\n  "),r+=o+" => "+u})),(c||n)&&(r+="\n"),r+="}"},d.prototype.set=function(e,t,r){var n=(r=r||u(this,"maxAge"))?Date.now():0,o=u(this,"lengthCalculator").call(this,t,e);if(u(this,"cache").has(e)){if(o>u(this,"max"))return m(this,u(this,"cache").get(e)),!1;var i=u(this,"cache").get(e).value;return u(this,"dispose")&&u(this,"dispose").call(this,e,i.value),i.now=n,i.maxAge=r,i.value=t,u(this,"length",u(this,"length")+(o-i.length)),i.length=o,this.get(e),y(this),!0}var a=new v(e,t,o,n,r);return a.length>u(this,"max")?(u(this,"dispose")&&u(this,"dispose").call(this,e,t),!1):(u(this,"length",u(this,"length")+a.length),u(this,"lruList").unshift(a),u(this,"cache").set(e,u(this,"lruList").head),y(this),!0)},d.prototype.has=function(e){return!!u(this,"cache").has(e)&&!h(this,u(this,"cache").get(e).value)},d.prototype.get=function(e){return p(this,e,!0)},d.prototype.peek=function(e){return p(this,e,!1)},d.prototype.pop=function(){var e=u(this,"lruList").tail;return e?(m(this,e),e.value):null},d.prototype.del=function(e){m(this,u(this,"cache").get(e))},d.prototype.load=function(e){this.reset();for(var t=Date.now(),r=e.length-1;r>=0;r--){var n=e[r],o=n.e||0;if(0===o)this.set(n.k,n.v);else{var i=o-t;i>0&&this.set(n.k,n.v,i)}}},d.prototype.prune=function(){var e=this;u(this,"cache").forEach((function(t,r){p(e,r,!1)}))}},function(e,t,r){(function(e){var r="[object Arguments]",n="[object Function]",o="[object GeneratorFunction]",i="[object Map]",a="[object Set]",s=/\w*$/,c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,l={};l[r]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object DataView]"]=l["[object Boolean]"]=l["[object Date]"]=l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l[i]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l[a]=l["[object String]"]=l["[object Symbol]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Error]"]=l[n]=l["[object WeakMap]"]=!1;var d="object"==typeof global&&global&&global.Object===Object&&global,f="object"==typeof self&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),h=t&&!t.nodeType&&t,y=h&&"object"==typeof e&&e&&!e.nodeType&&e,m=y&&y.exports===h;function v(e,t){return e.set(t[0],t[1]),e}function g(e,t){return e.add(t),e}function w(e,t,r,n){var o=-1,i=e?e.length:0;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function b(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function E(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function S(e,t){return function(r){return e(t(r))}}function _(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var k,A=Array.prototype,P=Function.prototype,x=Object.prototype,O=p["__core-js_shared__"],j=(k=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",C=P.toString,J=x.hasOwnProperty,T=x.toString,I=RegExp("^"+C.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=m?p.Buffer:void 0,W=p.Symbol,R=p.Uint8Array,H=S(Object.getPrototypeOf,Object),M=Object.create,N=x.propertyIsEnumerable,B=A.splice,U=Object.getOwnPropertySymbols,D=K?K.isBuffer:void 0,F=S(Object.keys,Object),L=ye(p,"DataView"),V=ye(p,"Map"),$=ye(p,"Promise"),q=ye(p,"Set"),z=ye(p,"WeakMap"),G=ye(Object,"create"),X=be(L),Y=be(V),Z=be($),Q=be(q),ee=be(z),te=W?W.prototype:void 0,re=te?te.valueOf:void 0;function ne(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function oe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ie(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ae(e){this.__data__=new oe(e)}function se(e,t){var n=Se(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&_e(e)}(e)&&J.call(e,"callee")&&(!N.call(e,"callee")||T.call(e)==r)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],o=n.length,i=!!o;for(var a in e)!t&&!J.call(e,a)||i&&("length"==a||ge(a,o))||n.push(a);return n}function ce(e,t,r){var n=e[t];J.call(e,t)&&Ee(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function ue(e,t){for(var r=e.length;r--;)if(Ee(e[r][0],t))return r;return-1}function le(e,t,c,u,d,f,p){var h;if(u&&(h=f?u(e,d,f,p):u(e)),void 0!==h)return h;if(!Pe(e))return e;var y=Se(e);if(y){if(h=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&J.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,h)}else{var m=ve(e),S=m==n||m==o;if(ke(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if("[object Object]"==m||m==r||S&&!f){if(b(e))return f?e:{};if(h=function(e){return"function"!=typeof e.constructor||we(e)?{}:(t=H(e),Pe(t)?M(t):{});var t}(S?{}:e),!t)return function(e,t){return pe(e,me(e),t)}(e,function(e,t){return e&&pe(t,xe(t),e)}(h,e))}else{if(!l[m])return f?e:{};h=function(e,t,r,n){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return fe(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var r=t?fe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var r=t?fe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case i:return function(e,t,r){return w(t?r(E(e),!0):E(e),v,new e.constructor)}(e,n,r);case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,s.exec(e));return t.lastIndex=e.lastIndex,t}(e);case a:return function(e,t,r){return w(t?r(_(e),!0):_(e),g,new e.constructor)}(e,n,r);case"[object Symbol]":return c=e,re?Object(re.call(c)):{}}var c}(e,m,le,t)}}p||(p=new ae);var k=p.get(e);if(k)return k;if(p.set(e,h),!y)var A=c?function(e){return function(e,t,r){var n=t(e);return Se(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,xe,me)}(e):xe(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(A||e,(function(r,n){A&&(r=e[n=r]),ce(h,n,le(r,t,c,u,n,e,p))})),h}function de(e){return!(!Pe(e)||(t=e,j&&j in t))&&(Ae(e)||b(e)?I:c).test(be(e));var t}function fe(e){var t=new e.constructor(e.byteLength);return new R(t).set(new R(e)),t}function pe(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n?n(r[a],e[a],a,r,e):void 0;ce(r,a,void 0===s?e[a]:s)}return r}function he(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function ye(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return de(r)?r:void 0}ne.prototype.clear=function(){this.__data__=G?G(null):{}},ne.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ne.prototype.get=function(e){var t=this.__data__;if(G){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return J.call(t,e)?t[e]:void 0},ne.prototype.has=function(e){var t=this.__data__;return G?void 0!==t[e]:J.call(t,e)},ne.prototype.set=function(e,t){return this.__data__[e]=G&&void 0===t?"__lodash_hash_undefined__":t,this},oe.prototype.clear=function(){this.__data__=[]},oe.prototype.delete=function(e){var t=this.__data__,r=ue(t,e);return!(r<0)&&(r==t.length-1?t.pop():B.call(t,r,1),!0)},oe.prototype.get=function(e){var t=this.__data__,r=ue(t,e);return r<0?void 0:t[r][1]},oe.prototype.has=function(e){return ue(this.__data__,e)>-1},oe.prototype.set=function(e,t){var r=this.__data__,n=ue(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},ie.prototype.clear=function(){this.__data__={hash:new ne,map:new(V||oe),string:new ne}},ie.prototype.delete=function(e){return he(this,e).delete(e)},ie.prototype.get=function(e){return he(this,e).get(e)},ie.prototype.has=function(e){return he(this,e).has(e)},ie.prototype.set=function(e,t){return he(this,e).set(e,t),this},ae.prototype.clear=function(){this.__data__=new oe},ae.prototype.delete=function(e){return this.__data__.delete(e)},ae.prototype.get=function(e){return this.__data__.get(e)},ae.prototype.has=function(e){return this.__data__.has(e)},ae.prototype.set=function(e,t){var r=this.__data__;if(r instanceof oe){var n=r.__data__;if(!V||n.length<199)return n.push([e,t]),this;r=this.__data__=new ie(n)}return r.set(e,t),this};var me=U?S(U,Object):function(){return[]},ve=function(e){return T.call(e)};function ge(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||u.test(e))&&e>-1&&e%1==0&&e<t}function we(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||x)}function be(e){if(null!=e){try{return C.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ee(e,t){return e===t||e!=e&&t!=t}(L&&"[object DataView]"!=ve(new L(new ArrayBuffer(1)))||V&&ve(new V)!=i||$&&"[object Promise]"!=ve($.resolve())||q&&ve(new q)!=a||z&&"[object WeakMap]"!=ve(new z))&&(ve=function(e){var t=T.call(e),r="[object Object]"==t?e.constructor:void 0,n=r?be(r):void 0;if(n)switch(n){case X:return"[object DataView]";case Y:return i;case Z:return"[object Promise]";case Q:return a;case ee:return"[object WeakMap]"}return t});var Se=Array.isArray;function _e(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!Ae(e)}var ke=D||function(){return!1};function Ae(e){var t=Pe(e)?T.call(e):"";return t==n||t==o}function Pe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function xe(e){return _e(e)?se(e):function(e){if(!we(e))return F(e);var t=[];for(var r in Object(e))J.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return le(e,!0,!0)}}).call(this,r(130)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepFreeze=void 0,t.deepFreeze=function e(t){return t&&(Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(r){!t.hasOwnProperty(r)||null===t[r]||"object"!=typeof t[r]&&"function"!=typeof t[r]||t[r].constructor===Buffer||Object.isFrozen(t[r])||e(t[r])}))),t}},function(e,t){var r=function(e,t,r,n){if(this.bucketSize=e,this.tokensPerInterval=t,"string"==typeof r)switch(r){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+r)}else this.interval=r;this.parentBucket=n,this.content=0,this.lastDrip=+new Date};r.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(e,t){var r=this;return this.bucketSize?e>this.bucketSize?(process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),e>this.content?n():this.parentBucket?this.parentBucket.removeTokens(e,(function(o,i){return o?t(o,null):e>r.content?n():(r.content-=e,void t(null,Math.min(i,r.content)))})):(this.content-=e,process.nextTick(t.bind(null,null,this.content)),!0)):(process.nextTick(t.bind(null,null,e,Number.POSITIVE_INFINITY)),!0);function n(){var n=Math.ceil((e-r.content)*(r.interval/r.tokensPerInterval));return setTimeout((function(){r.removeTokens(e,t)}),n),!1}},tryRemoveTokens:function(e){return!this.bucketSize||!(e>this.bucketSize)&&(this.drip(),!(e>this.content)&&(!(this.parentBucket&&!this.parentBucket.tryRemoveTokens(e))&&(this.content-=e,!0)))},drip:function(){if(this.tokensPerInterval){var e=+new Date,t=Math.max(e-this.lastDrip,0);this.lastDrip=e;var r=t*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+r,this.bucketSize)}else this.content=this.bucketSize}},e.exports=r},function(e,t){function r(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksRateLimitError",this.message=e}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t){function r(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="JwksError",this.message=e}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t){function r(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="SigningKeyNotFoundError",this.message=e}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,r){e.exports=r(111)},function(e,t,r){"use strict";var n=r(4),o=r(39),i=r(112),a=r(46);function s(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var c=s(r(24));c.Axios=i,c.create=function(e){return s(a(c.defaults,e))},c.Cancel=r(47),c.CancelToken=r(127),c.isCancel=r(45),c.all=function(e){return Promise.all(e)},c.spread=r(128),c.isAxiosError=r(129),e.exports=c,e.exports.default=c},function(e,t,r){"use strict";var n=r(4),o=r(23),i=r(113),a=r(114),s=r(46),c=r(126),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!n){var l=[a,void 0];for(Array.prototype.unshift.apply(l,r),l=l.concat(i),o=Promise.resolve(e);l.length;)o=o.then(l.shift(),l.shift());return o}for(var d=e;r.length;){var f=r.shift(),p=r.shift();try{d=f(d)}catch(e){p(e);break}}try{o=a(d)}catch(e){return Promise.reject(e)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=l},function(e,t,r){"use strict";var n=r(4);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,r){"use strict";var n=r(4),o=r(115),i=r(45),a=r(24);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(4),o=r(24);e.exports=function(e,t,r){var i=this||o;return n.forEach(r,(function(r){e=r.call(i,e,t)})),e}},function(e,t,r){"use strict";var n=r(4);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(4),o=r(40),i=r(118),a=r(23),s=r(41),c=r(121),u=r(122),l=r(26);e.exports=function(e){return new Promise((function(t,r){var d=e.data,f=e.headers,p=e.responseType;n.isFormData(d)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var y=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(y+":"+m)}var v=s(e.baseURL,e.url);function g(){if(h){var n="getAllResponseHeaders"in h?c(h.getAllResponseHeaders()):null,i={data:p&&"text"!==p&&"json"!==p?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};o(t,r,i),h=null}}if(h.open(e.method.toUpperCase(),a(v,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,"onloadend"in h?h.onloadend=g:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(g)},h.onabort=function(){h&&(r(l("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){r(l("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},n.isStandardBrowserEnv()){var w=(e.withCredentials||u(v))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;w&&(f[e.xsrfHeaderName]=w)}"setRequestHeader"in h&&n.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),p&&"json"!==p&&(h.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),r(e),h=null)})),d||(d=null),h.send(d)}))}},function(e,t,r){"use strict";var n=r(4);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(4),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},function(e,t,r){"use strict";var n=r(4);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(4),o=r(40),i=r(41),a=r(23),s=r(14),c=r(15),u=r(42).http,l=r(42).https,d=r(27),f=r(43),p=r(44),h=r(26),y=r(25),m=/https:?/;e.exports=function(e){return new Promise((function(t,r){var v=function(e){t(e)},g=function(e){r(e)},w=e.data,b=e.headers;if("User-Agent"in b||"user-agent"in b?b["User-Agent"]||b["user-agent"]||(delete b["User-Agent"],delete b["user-agent"]):b["User-Agent"]="axios/"+p.version,w&&!n.isStream(w)){if(Buffer.isBuffer(w));else if(n.isArrayBuffer(w))w=Buffer.from(new Uint8Array(w));else{if(!n.isString(w))return g(h("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));w=Buffer.from(w,"utf-8")}b["Content-Length"]=w.length}var E=void 0;e.auth&&(E=(e.auth.username||"")+":"+(e.auth.password||""));var S=i(e.baseURL,e.url),_=d.parse(S),k=_.protocol||"http:";if(!E&&_.auth){var A=_.auth.split(":");E=(A[0]||"")+":"+(A[1]||"")}E&&delete b.Authorization;var P=m.test(k),x=P?e.httpsAgent:e.httpAgent,O={path:a(_.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:b,agent:x,agents:{http:e.httpAgent,https:e.httpsAgent},auth:E};e.socketPath?O.socketPath=e.socketPath:(O.hostname=_.hostname,O.port=_.port);var j,C=e.proxy;if(!C&&!1!==C){var J=k.slice(0,-1)+"_proxy",T=process.env[J]||process.env[J.toUpperCase()];if(T){var I=d.parse(T),K=process.env.no_proxy||process.env.NO_PROXY,W=!0;if(K)W=!K.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||("."===e[0]&&_.hostname.substr(_.hostname.length-e.length)===e||_.hostname===e))}));if(W&&(C={host:I.hostname,port:I.port,protocol:I.protocol},I.auth)){var R=I.auth.split(":");C.auth={username:R[0],password:R[1]}}}}C&&(O.headers.host=_.hostname+(_.port?":"+_.port:""),function e(t,r,n){if(t.hostname=r.host,t.host=r.host,t.port=r.port,t.path=n,r.auth){var o=Buffer.from(r.auth.username+":"+r.auth.password,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+o}t.beforeRedirect=function(t){t.headers.host=t.host,e(t,r,t.href)}}(O,C,k+"//"+_.hostname+(_.port?":"+_.port:"")+O.path));var H=P&&(!C||m.test(C.protocol));e.transport?j=e.transport:0===e.maxRedirects?j=H?c:s:(e.maxRedirects&&(O.maxRedirects=e.maxRedirects),j=H?l:u),e.maxBodyLength>-1&&(O.maxBodyLength=e.maxBodyLength);var M=j.request(O,(function(t){if(!M.aborted){var r=t,i=t.req||M;if(204!==t.statusCode&&"HEAD"!==i.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(f.createUnzip()),delete t.headers["content-encoding"]}var a={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:i};if("stream"===e.responseType)a.data=r,o(v,g,a);else{var s=[],c=0;r.on("data",(function(t){s.push(t),c+=t.length,e.maxContentLength>-1&&c>e.maxContentLength&&(r.destroy(),g(h("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,i)))})),r.on("error",(function(t){M.aborted||g(y(t,e,null,i))})),r.on("end",(function(){var t=Buffer.concat(s);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=n.stripBOM(t))),a.data=t,o(v,g,a)}))}}}));if(M.on("error",(function(t){M.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||g(y(t,e,null,M))})),e.timeout){var N=parseInt(e.timeout,10);if(isNaN(N))return void g(h("error trying to parse `config.timeout` to int",e,"ERR_PARSE_TIMEOUT",M));M.setTimeout(N,(function(){M.abort(),g(h("timeout of "+N+"ms exceeded",e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",M))}))}e.cancelToken&&e.cancelToken.promise.then((function(e){M.aborted||(M.abort(),g(e))})),n.isStream(w)?w.on("error",(function(t){g(y(t,e,null,M))})).pipe(M):M.end(w)}))}},function(e,t){e.exports=require("assert")},function(e,t,r){var n;e.exports=function(){if(!n){try{n=r(17)("follow-redirects")}catch(e){}"function"!=typeof n&&(n=function(){})}n.apply(null,arguments)}},function(e,t,r){"use strict";var n=r(44),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var i={},a=n.version.split(".");function s(e,t){for(var r=t?t.split("."):a,n=e.split("."),o=0;o<3;o++){if(r[o]>n[o])return!0;if(r[o]<n[o])return!1}return!1}o.transitional=function(e,t,r){var o=t&&s(t);function a(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new Error(a(n," has been removed in "+t));return o&&!i[n]&&(i[n]=!0,console.warn(a(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var i=n[o],a=t[i];if(a){var s=e[i],c=void 0===s||a(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:o}},function(e,t,r){"use strict";var n=r(47);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";function n(){}e.exports=n,n.maxLength=4096,n.parse=function(e){var t=n.maxLength;if("string"!=typeof e)throw new TypeError("str must be a string");if(e.length>t)throw new RangeError("str is too large (CookieParser.maxLength="+t+")");var r=new n;if(arguments.length>1){var o=arguments[1];if("object"==typeof o&&null!==o&&"function"==typeof o.decode)return r.slowParse(e,o.decode)}return r.parse(e)},n.prototype.decode=function(e){try{return decodeURIComponent(e)}catch(t){return e}},n.prototype.extract=function(e,t,r){return t===r+1?"":e.slice(this.trimForward(e,t),this.trimBackward(e,r)+1)},n.prototype.trimForward=function(e,t){for(var r=e.charCodeAt(t);this.isWhiteSpace(r);)r=e.charCodeAt(++t);return t},n.prototype.trimBackward=function(e,t){for(var r=e.charCodeAt(t);this.isWhiteSpace(r);)r=e.charCodeAt(--t);return t},n.prototype.isWhiteSpace=function(e){return e<=32},n.prototype.parse=function(e){var t={},r=0,n=0,o=0,i=0,a=!1,s=!1,c=0,u=e.length;e:for(;c<u;++c){var l=e.charCodeAt(c);if(l>127)return this.slowParse(e,this.decode);if(61===l){n=c-1;var d=c+1;for(l=e.charCodeAt(d);32===l;)d++,l=e.charCodeAt(d);for(34===l&&(d++,s=!0),o=d;d<u;++d)if(37===(l=e.charCodeAt(d)))a=!0;else if(59===l||44===l){if(s)(i=this.trimBackward(e,d-1)-1)<o&&(o=i);else i=d-1;var f=this.extract(e,r,n),p=this.extract(e,o,i);for(t[f]=a?this.decode(p):p,c=d;d<u;++d)if(32!==e.charCodeAt(d)){c=d-1;break}n=r=c+1,s=!1,a=!1;continue e}if(s)(i=this.trimBackward(e,d-1)-1)<o&&(o=i);else i=d-1;f=this.extract(e,r,n),p=this.extract(e,o,i);t[f]=a?this.decode(p):p,c=d}else 59!==l&&44!==l||(r=c+1)}return t},n.serialize=function(e,t,r){var n=[e+"="+((r=r||{}).encode||encodeURIComponent)(t)];return r.maxAge&&n.push("Max-Age="+r.maxAge),r.domain&&n.push("Domain="+r.domain),r.path&&n.push("Path="+r.path),r.expires&&n.push("Expires="+r.expires.toUTCString()),r.httpOnly&&n.push("HttpOnly"),r.secure&&n.push("Secure"),n.join("; ")},n.prototype.slowParse=function(e,t){var r={};return e.split(/[;,] */).forEach((function(e){var n=e.indexOf("=");if(!(n<0)){var o=e.substr(0,n).trim(),i=e.substr(++n,e.length).trim();if('"'==i[0]&&(i=i.slice(1,-1)),null==r[o])try{r[o]=t(i)}catch(e){r[o]=i}}})),r}},function(e,t,r){e.exports={decode:r(67),verify:r(138),sign:r(141),JsonWebTokenError:r(30),NotBeforeError:r(71),TokenExpiredError:r(72)}},function(e,t,r){var n=r(18).Buffer,o=r(68),i=r(69),a=r(16),s=r(70),c=r(5);function u(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(e){var t=e.header,r=e.payload,n=e.secret||e.privateKey,o=e.encoding,a=i(t.alg),l=function(e,t,r){r=r||"utf8";var n=u(s(e),"binary"),o=u(s(t),r);return c.format("%s.%s",n,o)}(t,r,o),d=a.sign(l,n);return c.format("%s.%s",l,d)}function d(e){var t=e.secret||e.privateKey||e.key,r=new o(t);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=r,this.payload=new o(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}c.inherits(d,a),d.prototype.sign=function(){try{var e=l({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},d.sign=l,e.exports=d},function(e,t,r){"use strict";var n=r(12).Buffer,o=r(12).SlowBuffer;function i(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(var r=0,o=0;o<e.length;o++)r|=e[o]^t[o];return 0===r}e.exports=i,i.install=function(){n.prototype.equal=o.prototype.equal=function(e){return i(this,e)}};var a=n.prototype.equal,s=o.prototype.equal;i.restore=function(){n.prototype.equal=a,o.prototype.equal=s}},function(e,t,r){"use strict";var n=r(18).Buffer,o=r(136);function i(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function a(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=i(e);var r=o(t),a=r+1,s=e.length,c=0;if(48!==e[c++])throw new Error('Could not find expected "seq"');var u=e[c++];if(129===u&&(u=e[c++]),s-c<u)throw new Error('"seq" specified length of "'+u+'", only "'+(s-c)+'" remaining');if(2!==e[c++])throw new Error('Could not find expected "int" for "r"');var l=e[c++];if(s-c-2<l)throw new Error('"r" specified length of "'+l+'", only "'+(s-c-2)+'" available');if(a<l)throw new Error('"r" specified length of "'+l+'", max of "'+a+'" is acceptable');var d=c;if(c+=l,2!==e[c++])throw new Error('Could not find expected "int" for "s"');var f=e[c++];if(s-c!==f)throw new Error('"s" specified length of "'+f+'", expected "'+(s-c)+'"');if(a<f)throw new Error('"s" specified length of "'+f+'", max of "'+a+'" is acceptable');var p=c;if((c+=f)!==s)throw new Error('Expected to consume entire buffer, but "'+(s-c)+'" bytes remain');var h=r-l,y=r-f,m=n.allocUnsafe(h+l+y+f);for(c=0;c<h;++c)m[c]=0;e.copy(m,c,d+Math.max(-h,0),d+l);for(var v=c=r;c<v+y;++c)m[c]=0;return e.copy(m,c,p+Math.max(-y,0),p+f),m=(m=m.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=i(e);var r=o(t),s=e.length;if(s!==2*r)throw new TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+s+'"');var c=a(e,0,r),u=a(e,r,e.length),l=r-c,d=r-u,f=2+l+1+1+d,p=f<128,h=n.allocUnsafe((p?2:3)+f),y=0;return h[y++]=48,p?h[y++]=f:(h[y++]=129,h[y++]=255&f),h[y++]=2,h[y++]=l,c<0?(h[y++]=0,y+=e.copy(h,y,0,r)):y+=e.copy(h,y,c,r),h[y++]=2,h[y++]=d,u<0?(h[y++]=0,e.copy(h,y,r)):e.copy(h,y,r+u),h}}},function(e,t,r){"use strict";function n(e){return(e/8|0)+(e%8==0?0:1)}var o={ES256:n(256),ES384:n(384),ES512:n(521)};e.exports=function(e){var t=o[e];if(t)return t;throw new Error('Unknown algorithm "'+e+'"')}},function(e,t,r){var n=r(18).Buffer,o=r(68),i=r(69),a=r(16),s=r(70),c=r(5),u=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function l(e){if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e))return e;try{return JSON.parse(e)}catch(e){return}}function d(e){var t=e.split(".",1)[0];return l(n.from(t,"base64").toString("binary"))}function f(e){return e.split(".")[2]}function p(e){return u.test(e)&&!!d(e)}function h(e,t,r){if(!t){var n=new Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var o=f(e=s(e)),a=function(e){return e.split(".",2).join(".")}(e);return i(t).verify(a,o,r)}function y(e,t){if(t=t||{},!p(e=s(e)))return null;var r=d(e);if(!r)return null;var o=function(e,t){t=t||"utf8";var r=e.split(".")[1];return n.from(r,"base64").toString(t)}(e);return("JWT"===r.typ||t.json)&&(o=JSON.parse(o,t.encoding)),{header:r,payload:o,signature:f(e)}}function m(e){var t=(e=e||{}).secret||e.publicKey||e.key,r=new o(t);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=r,this.signature=new o(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}c.inherits(m,a),m.prototype.verify=function(){try{var e=h(this.signature.buffer,this.algorithm,this.key.buffer),t=y(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=y,m.isValid=p,m.verify=h,e.exports=m},function(e,t,r){var n=r(30),o=r(71),i=r(72),a=r(67),s=r(73),c=r(74),u=r(48),l=["RS256","RS384","RS512","ES256","ES384","ES512"],d=["RS256","RS384","RS512"],f=["HS256","HS384","HS512"];c&&(l.splice(3,0,"PS256","PS384","PS512"),d.splice(3,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,c){var p;if("function"!=typeof r||c||(c=r,r={}),r||(r={}),r=Object.assign({},r),p=c||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return p(new n("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return p(new n("nonce must be a non-empty string"));var h=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return p(new n("jwt must be provided"));if("string"!=typeof e)return p(new n("jwt must be a string"));var y,m=e.split(".");if(3!==m.length)return p(new n("jwt malformed"));try{y=a(e,{complete:!0})}catch(e){return p(e)}if(!y)return p(new n("invalid token"));var v,g=y.header;if("function"==typeof t){if(!c)return p(new n("verify must be called asynchronous if secret or public key is provided as a callback"));v=t}else v=function(e,r){return r(null,t)};return v(g,(function(t,a){if(t)return p(new n("error in secret or public key callback: "+t.message));var c,v=""!==m[2].trim();if(!v&&a)return p(new n("jwt signature is required"));if(v&&!a)return p(new n("secret or public key must be provided"));if(v||r.algorithms||(r.algorithms=["none"]),r.algorithms||(r.algorithms=~a.toString().indexOf("BEGIN CERTIFICATE")||~a.toString().indexOf("BEGIN PUBLIC KEY")?l:~a.toString().indexOf("BEGIN RSA PUBLIC KEY")?d:f),!~r.algorithms.indexOf(y.header.alg))return p(new n("invalid algorithm"));try{c=u.verify(e,y.header.alg,a)}catch(e){return p(e)}if(!c)return p(new n("invalid signature"));var w=y.payload;if(void 0!==w.nbf&&!r.ignoreNotBefore){if("number"!=typeof w.nbf)return p(new n("invalid nbf value"));if(w.nbf>h+(r.clockTolerance||0))return p(new o("jwt not active",new Date(1e3*w.nbf)))}if(void 0!==w.exp&&!r.ignoreExpiration){if("number"!=typeof w.exp)return p(new n("invalid exp value"));if(h>=w.exp+(r.clockTolerance||0))return p(new i("jwt expired",new Date(1e3*w.exp)))}if(r.audience){var b=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(w.aud)?w.aud:[w.aud]).some((function(e){return b.some((function(t){return t instanceof RegExp?t.test(e):t===e}))})))return p(new n("jwt audience invalid. expected: "+b.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&w.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(w.iss)))return p(new n("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&w.sub!==r.subject)return p(new n("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&w.jti!==r.jwtid)return p(new n("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&w.nonce!==r.nonce)return p(new n("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof w.iat)return p(new n("iat required when maxAge is specified"));var E=s(r.maxAge,w.iat);if(void 0===E)return p(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(h>=E+(r.clockTolerance||0))return p(new i("maxAge exceeded",new Date(1e3*E)))}if(!0===r.complete){var S=y.signature;return p(null,{header:g,payload:w,signature:S})}return p(null,w)}))}},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=o)return a(e,t,o,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){var r;t=e.exports=$,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=t.re=[],i=t.src=[],a=0,s=a++;i[s]="0|[1-9]\\d*";var c=a++;i[c]="[0-9]+";var u=a++;i[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=a++;i[l]="("+i[s]+")\\.("+i[s]+")\\.("+i[s]+")";var d=a++;i[d]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var f=a++;i[f]="(?:"+i[s]+"|"+i[u]+")";var p=a++;i[p]="(?:"+i[c]+"|"+i[u]+")";var h=a++;i[h]="(?:-("+i[f]+"(?:\\."+i[f]+")*))";var y=a++;i[y]="(?:-?("+i[p]+"(?:\\."+i[p]+")*))";var m=a++;i[m]="[0-9A-Za-z-]+";var v=a++;i[v]="(?:\\+("+i[m]+"(?:\\."+i[m]+")*))";var g=a++,w="v?"+i[l]+i[h]+"?"+i[v]+"?";i[g]="^"+w+"$";var b="[v=\\s]*"+i[d]+i[y]+"?"+i[v]+"?",E=a++;i[E]="^"+b+"$";var S=a++;i[S]="((?:<|>)?=?)";var _=a++;i[_]=i[c]+"|x|X|\\*";var k=a++;i[k]=i[s]+"|x|X|\\*";var A=a++;i[A]="[v=\\s]*("+i[k]+")(?:\\.("+i[k]+")(?:\\.("+i[k]+")(?:"+i[h]+")?"+i[v]+"?)?)?";var P=a++;i[P]="[v=\\s]*("+i[_]+")(?:\\.("+i[_]+")(?:\\.("+i[_]+")(?:"+i[y]+")?"+i[v]+"?)?)?";var x=a++;i[x]="^"+i[S]+"\\s*"+i[A]+"$";var O=a++;i[O]="^"+i[S]+"\\s*"+i[P]+"$";var j=a++;i[j]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var C=a++;i[C]="(?:~>?)";var J=a++;i[J]="(\\s*)"+i[C]+"\\s+",o[J]=new RegExp(i[J],"g");var T=a++;i[T]="^"+i[C]+i[A]+"$";var I=a++;i[I]="^"+i[C]+i[P]+"$";var K=a++;i[K]="(?:\\^)";var W=a++;i[W]="(\\s*)"+i[K]+"\\s+",o[W]=new RegExp(i[W],"g");var R=a++;i[R]="^"+i[K]+i[A]+"$";var H=a++;i[H]="^"+i[K]+i[P]+"$";var M=a++;i[M]="^"+i[S]+"\\s*("+b+")$|^$";var N=a++;i[N]="^"+i[S]+"\\s*("+w+")$|^$";var B=a++;i[B]="(\\s*)"+i[S]+"\\s*("+b+"|"+i[A]+")",o[B]=new RegExp(i[B],"g");var U=a++;i[U]="^\\s*("+i[A]+")\\s+-\\s+("+i[A]+")\\s*$";var D=a++;i[D]="^\\s*("+i[P]+")\\s+-\\s+("+i[P]+")\\s*$";var F=a++;i[F]="(<|>)?=?\\s*\\*";for(var L=0;L<35;L++)r(L,i[L]),o[L]||(o[L]=new RegExp(i[L]));function V(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof $)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?o[E]:o[g]).test(e))return null;try{return new $(e,t)}catch(e){return null}}function $(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof $){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof $))return new $(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?o[E]:o[g]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<n)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=V,t.valid=function(e,t){var r=V(e,t);return r?r.version:null},t.clean=function(e,t){var r=V(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=$,$.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},$.prototype.toString=function(){return this.version},$.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof $||(e=new $(e,this.options)),this.compareMain(e)||this.comparePre(e)},$.prototype.compareMain=function(e){return e instanceof $||(e=new $(e,this.options)),z(this.major,e.major)||z(this.minor,e.minor)||z(this.patch,e.patch)},$.prototype.comparePre=function(e){if(e instanceof $||(e=new $(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return z(n,o)}while(++t)},$.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new $(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(Z(e,t))return null;var r=V(e),n=V(t),o="";if(r.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var a in r)if(("major"===a||"minor"===a||"patch"===a)&&r[a]!==n[a])return o+a;return i},t.compareIdentifiers=z;var q=/^[0-9]+$/;function z(e,t){var r=q.test(e),n=q.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}function G(e,t,r){return new $(e,r).compare(new $(t,r))}function X(e,t,r){return G(e,t,r)>0}function Y(e,t,r){return G(e,t,r)<0}function Z(e,t,r){return 0===G(e,t,r)}function Q(e,t,r){return 0!==G(e,t,r)}function ee(e,t,r){return G(e,t,r)>=0}function te(e,t,r){return G(e,t,r)<=0}function re(e,t,r,n){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return Z(e,r,n);case"!=":return Q(e,r,n);case">":return X(e,r,n);case">=":return ee(e,r,n);case"<":return Y(e,r,n);case"<=":return te(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}function ne(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ne){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===oe?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return z(t,e)},t.major=function(e,t){return new $(e,t).major},t.minor=function(e,t){return new $(e,t).minor},t.patch=function(e,t){return new $(e,t).patch},t.compare=G,t.compareLoose=function(e,t){return G(e,t,!0)},t.rcompare=function(e,t,r){return G(t,e,r)},t.sort=function(e,r){return e.sort((function(e,n){return t.compare(e,n,r)}))},t.rsort=function(e,r){return e.sort((function(e,n){return t.rcompare(e,n,r)}))},t.gt=X,t.lt=Y,t.eq=Z,t.neq=Q,t.gte=ee,t.lte=te,t.cmp=re,t.Comparator=ne;var oe={};function ie(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof ie)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new ie(e.raw,t);if(e instanceof ne)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ae(e){return!e||"x"===e.toLowerCase()||"*"===e}function se(e,t,r,n,o,i,a,s,c,u,l,d,f){return((t=ae(r)?"":ae(n)?">="+r+".0.0":ae(o)?">="+r+"."+n+".0":">="+t)+" "+(s=ae(c)?"":ae(u)?"<"+(+c+1)+".0.0":ae(l)?"<"+c+"."+(+u+1)+".0":d?"<="+c+"."+u+"."+l+"-"+d:"<="+s)).trim()}function ce(e,t,n){for(var o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(r(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function ue(e,t,r){try{t=new ie(t,r)}catch(e){return!1}return t.test(e)}function le(e,t,r,n){var o,i,a,s,c;switch(e=new $(e,n),t=new ie(t,n),r){case">":o=X,i=te,a=Y,s=">",c=">=";break;case"<":o=Y,i=ee,a=X,s="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],d=null,f=null;if(l.forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),d=d||e,f=f||e,o(e.semver,d.semver,n)?d=e:a(e.semver,f.semver,n)&&(f=e)})),d.operator===s||d.operator===c)return!1;if((!f.operator||f.operator===s)&&i(e,f.semver))return!1;if(f.operator===c&&a(e,f.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.options.loose?o[M]:o[N],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new $(r[2],this.options.loose):this.semver=oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return r("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new $(e,this.options)),re(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new ie(e.value,t),ue(this.value,r,t);if(""===e.operator)return r=new ie(this.value,t),ue(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=re(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=re(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&a||s||c},t.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?o[D]:o[U];e=e.replace(n,se),r("hyphen replace",e),e=e.replace(o[B],"$1$2$3"),r("comparator trim",e,o[B]),e=(e=(e=e.replace(o[J],"$1~")).replace(o[W],"$1^")).split(/\s+/).join(" ");var i=t?o[M]:o[N],a=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var n=t.loose?o[H]:o[R];return e.replace(n,(function(t,n,o,i,a){var s;return r("caret",e,t,n,o,i,a),ae(n)?s="":ae(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":ae(i)?s="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":a?(r("replaceCaret pr",a),s="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+a+" <"+(+n+1)+".0.0"):(r("no pr"),s="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),r("caret return",s),s}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var n=t.loose?o[I]:o[T];return e.replace(n,(function(t,n,o,i,a){var s;return r("tilde",e,t,n,o,i,a),ae(n)?s="":ae(o)?s=">="+n+".0.0 <"+(+n+1)+".0.0":ae(i)?s=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":a?(r("replaceTilde pr",a),s=">="+n+"."+o+"."+i+"-"+a+" <"+n+"."+(+o+1)+".0"):s=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",r("tilde return",s),s}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var n=t.loose?o[O]:o[x];return e.replace(n,(function(t,n,o,i,a,s){r("xRange",e,t,n,o,i,a,s);var c=ae(o),u=c||ae(i),l=u||ae(a);return"="===n&&l&&(n=""),c?t=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(i=0),a=0,">"===n?(n=">=",u?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===n&&(n="<",u?o=+o+1:i=+i+1),t=n+o+"."+i+"."+a):u?t=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(t=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),r("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(o[F],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(a=a.filter((function(e){return!!e.match(i)}))),a=a.map((function(e){return new ne(e,this.options)}),this)},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(r){return r.every((function(r){return e.set.some((function(e){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new ie(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new $(e,this.options));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e,this.options))return!0;return!1},t.satisfies=ue,t.maxSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new $(n=e,r)))})),n},t.minSatisfying=function(e,t,r){var n=null,o=null;try{var i=new ie(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new $(n=e,r)))})),n},t.minVersion=function(e,t){e=new ie(e,t);var r=new $("0.0.0");if(e.test(r))return r;if(r=new $("0.0.0-0"),e.test(r))return r;r=null;for(var n=0;n<e.set.length;++n){e.set[n].forEach((function(e){var t=new $(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!X(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return le(e,t,"<",r)},t.gtr=function(e,t,r){return le(e,t,">",r)},t.outside=le,t.prerelease=function(e,t){var r=V(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new ie(e,r),t=new ie(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof $)return e;if("string"!=typeof e)return null;var t=e.match(o[j]);if(null==t)return null;return V(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,r){var n=r(73),o=r(74),i=r(48),a=r(142),s=r(143),c=r(144),u=r(145),l=r(146),d=r(147),f=r(148),p=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];o&&p.splice(3,0,"PS256","PS384","PS512");var h={expiresIn:{isValid:function(e){return c(e)||d(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||d(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return d(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:a.bind(null,p),message:'"algorithm" must be a valid string enum value'},header:{isValid:l,message:'"header" must be an object'},encoding:{isValid:d,message:'"encoding" must be a string'},issuer:{isValid:d,message:'"issuer" must be a string'},subject:{isValid:d,message:'"subject" must be a string'},jwtid:{isValid:d,message:'"jwtid" must be a string'},noTimestamp:{isValid:s,message:'"noTimestamp" must be a boolean'},keyid:{isValid:d,message:'"keyid" must be a string'},mutatePayload:{isValid:s,message:'"mutatePayload" must be a boolean'}},y={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function m(e,t,r,n){if(!l(r))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach((function(o){var i=e[o];if(i){if(!i.isValid(r[o]))throw new Error(i.message)}else if(!t)throw new Error('"'+o+'" is not allowed in "'+n+'"')}))}var v={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},g=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,o){"function"==typeof r?(o=r,r={}):r=r||{};var a="object"==typeof e&&!Buffer.isBuffer(e),s=Object.assign({alg:r.algorithm||"HS256",typ:a?"JWT":void 0,kid:r.keyid},r.header);function c(e){if(o)return o(e);throw e}if(!t&&"none"!==r.algorithm)return c(new Error("secretOrPrivateKey must have a value"));if(void 0===e)return c(new Error("payload is required"));if(a){try{!function(e){m(y,!0,e,"payload")}(e)}catch(e){return c(e)}r.mutatePayload||(e=Object.assign({},e))}else{var u=g.filter((function(e){return void 0!==r[e]}));if(u.length>0)return c(new Error("invalid "+u.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return c(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return c(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{!function(e){m(h,!1,e,"options")}(r)}catch(e){return c(e)}var l=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:a&&(e.iat=l),void 0!==r.notBefore){try{e.nbf=n(r.notBefore,l)}catch(e){return c(e)}if(void 0===e.nbf)return c(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=n(r.expiresIn,l)}catch(e){return c(e)}if(void 0===e.exp)return c(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(v).forEach((function(t){var n=v[t];if(void 0!==r[t]){if(void 0!==e[n])return c(new Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=r[t]}}));var d=r.encoding||"utf8";if("function"!=typeof o)return i.sign({header:s,payload:e,secret:t,encoding:d});o=o&&f(o),i.createSign({header:s,privateKey:t,payload:e,encoding:d}).once("error",o).once("done",(function(e){o(null,e)}))}},function(e,t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=/^(?:0|[1-9]\d*)$/,s=parseInt;function c(e){return e!=e}function u(e,t){return function(e,t){for(var r=-1,n=e?e.length:0,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}(t,(function(t){return e[t]}))}var l,d,f=Object.prototype,p=f.hasOwnProperty,h=f.toString,y=f.propertyIsEnumerable,m=(l=Object.keys,d=Object,function(e){return l(d(e))}),v=Math.max;function g(e,t){var r=E(e)||function(e){return function(e){return k(e)&&S(e)}(e)&&p.call(e,"callee")&&(!y.call(e,"callee")||"[object Arguments]"==h.call(e))}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!p.call(e,i)||o&&("length"==i||b(i,n))||r.push(i);return r}function w(e){if(r=(t=e)&&t.constructor,n="function"==typeof r&&r.prototype||f,t!==n)return m(e);var t,r,n,o=[];for(var i in Object(e))p.call(e,i)&&"constructor"!=i&&o.push(i);return o}function b(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}var E=Array.isArray;function S(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=_(e)?h.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function _(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function k(e){return!!e&&"object"==typeof e}e.exports=function(e,t,a,l){var d;e=S(e)?e:(d=e)?u(d,function(e){return S(e)?g(e):w(e)}(d)):[],a=a&&!l?function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||k(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(_(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var a=o.test(e);return a||i.test(e)?s(e.slice(2),a?2:8):n.test(e)?NaN:+e}(e))===1/0||e===-1/0){return 17976931348623157e292*(e<0?-1:1)}return e==e?e:0}(e),a=t%1;return t==t?a?t-a:t:0}(a):0;var f=e.length;return a<0&&(a=v(f+a,0)),function(e){return"string"==typeof e||!E(e)&&k(e)&&"[object String]"==h.call(e)}(e)?a<=f&&e.indexOf(t,a)>-1:!!f&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,c,r);for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}(e,t,a)>-1}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Boolean]"==r.call(e)}},function(e,t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return"number"==typeof e&&e==function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var u=o.test(e);return u||i.test(e)?a(e.slice(2),u?2:8):n.test(e)?NaN:+e}(e))===1/0||e===-1/0){return 17976931348623157e292*(e<0?-1:1)}return e==e?e:0}(e),u=t%1;return t==t?u?t-u:t:0}(e)}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Number]"==r.call(e)}},function(e,t){var r,n,o=Function.prototype,i=Object.prototype,a=o.toString,s=i.hasOwnProperty,c=a.call(Object),u=i.toString,l=(r=Object.getPrototypeOf,n=Object,function(e){return r(n(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=u.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var r=s.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&a.call(r)==c}},function(e,t){var r=Object.prototype.toString,n=Array.isArray;e.exports=function(e){return"string"==typeof e||!n(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==r.call(e)}},function(e,t){var r=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s=Object.prototype.toString;function c(e,t){var c;if("function"!=typeof t)throw new TypeError("Expected a function");return e=function(e){var t=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==s.call(e)}(e))return NaN;if(u(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=u(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var c=o.test(e);return c||i.test(e)?a(e.slice(2),c?2:8):n.test(e)?NaN:+e}(e))===1/0||e===-1/0){return 17976931348623157e292*(e<0?-1:1)}return e==e?e:0}(e),c=t%1;return t==t?c?t-c:t:0}(e),function(){return--e>0&&(c=t.apply(this,arguments)),e<=1&&(t=void 0),c}}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return c(2,e)}},function(e,t,r){const{JwksClient:n}=r(19),o=r(22),{hapiJwt2Key:i,hapiJwt2KeyAsync:a}=r(192),{expressJwtSecret:s}=r(193),{koaJwtSecret:c}=r(194),{passportJwtSecret:u}=r(195);e.exports=e=>new n(e),e.exports.JwksClient=n,e.exports.ArgumentError=o.ArgumentError,e.exports.JwksError=o.JwksError,e.exports.JwksRateLimitError=o.JwksRateLimitError,e.exports.SigningKeyNotFoundError=o.SigningKeyNotFoundError,e.exports.expressJwtSecret=s,e.exports.hapiJwt2Key=i,e.exports.hapiJwt2KeyAsync=a,e.exports.koaJwtSecret=c,e.exports.passportJwtSecret=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2).timingSafeEqual;t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(52),o=r(84),i=r(85),a=r(86),s=r(6),c=r(1),u=r(34),l=r(35),d=r(37),f=r(7),p=r(87);t.default=async function(e,t,r,h,y){switch((0,d.default)(e,t,"decrypt"),e){case"dir":if(void 0!==r)throw new c.JWEInvalid("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new c.JWEInvalid("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!(0,f.default)(h.epk))throw new c.JWEInvalid('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!o.ecdhAllowed(t))throw new c.JOSENotSupported("ECDH with the provided key is not allowed or not supported by your javascript runtime");const i=await(0,l.importJWK)(h.epk,e);let a,d;if(void 0!==h.apu){if("string"!=typeof h.apu)throw new c.JWEInvalid('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{a=(0,s.decode)(h.apu)}catch{throw new c.JWEInvalid("Failed to base64url decode the apu")}}if(void 0!==h.apv){if("string"!=typeof h.apv)throw new c.JWEInvalid('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{d=(0,s.decode)(h.apv)}catch{throw new c.JWEInvalid("Failed to base64url decode the apv")}}const p=await o.deriveKey(i,t,"ECDH-ES"===e?h.enc:e,"ECDH-ES"===e?(0,u.bitLength)(h.enc):parseInt(e.slice(-5,-2),10),a,d);if("ECDH-ES"===e)return p;if(void 0===r)throw new c.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e.slice(-6),p,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new c.JWEInvalid("JWE Encrypted Key missing");return(0,a.decrypt)(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(void 0===r)throw new c.JWEInvalid("JWE Encrypted Key missing");if("number"!=typeof h.p2c)throw new c.JWEInvalid('JOSE Header "p2c" (PBES2 Count) missing or invalid');const n=(null==y?void 0:y.maxPBES2Count)||1e4;if(h.p2c>n)throw new c.JWEInvalid('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof h.p2s)throw new c.JWEInvalid('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let o;try{o=(0,s.decode)(h.p2s)}catch{throw new c.JWEInvalid("Failed to base64url decode the p2s")}return(0,i.decrypt)(e,t,r,h.p2c,o)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new c.JWEInvalid("JWE Encrypted Key missing");return(0,n.unwrap)(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(void 0===r)throw new c.JWEInvalid("JWE Encrypted Key missing");if("string"!=typeof h.iv)throw new c.JWEInvalid('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof h.tag)throw new c.JWEInvalid('JOSE Header "tag" (Authentication Tag) missing or invalid');let n,o;try{n=(0,s.decode)(h.iv)}catch{throw new c.JWEInvalid("Failed to base64url decode the iv")}try{o=(0,s.decode)(h.tag)}catch{throw new c.JWEInvalid("Failed to base64url decode the tag")}return(0,p.unwrap)(e,t,r,n,o)}default:throw new c.JOSENotSupported('Invalid or unsupported "alg" (JWE Algorithm) header value')}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.default=function(e){if(!(e instanceof Uint8Array)||e.length<8)throw new n.JWEInvalid("PBES2 Salt Input must be 8 or more octets")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),o=r(2),i=r(6),a=r(1),s=r(32),c=r(33),u=r(154),l=r(36);t.default=e=>{if(l.jwkImport&&"oct"!==e.kty)return e.d?(0,o.createPrivateKey)({format:"jwk",key:e}):(0,o.createPublicKey)({format:"jwk",key:e});switch(e.kty){case"oct":return(0,o.createSecretKey)((0,i.decode)(e.k));case"RSA":{const t=new u.default,r=void 0!==e.d,i=n.Buffer.from(e.n,"base64"),a=n.Buffer.from(e.e,"base64");r?(t.zero(),t.unsignedInteger(i),t.unsignedInteger(a),t.unsignedInteger(n.Buffer.from(e.d,"base64")),t.unsignedInteger(n.Buffer.from(e.p,"base64")),t.unsignedInteger(n.Buffer.from(e.q,"base64")),t.unsignedInteger(n.Buffer.from(e.dp,"base64")),t.unsignedInteger(n.Buffer.from(e.dq,"base64")),t.unsignedInteger(n.Buffer.from(e.qi,"base64"))):(t.unsignedInteger(i),t.unsignedInteger(a));const s={key:t.end(),format:"der",type:"pkcs1"},l=r?(0,o.createPrivateKey)(s):(0,o.createPublicKey)(s);return(0,c.setModulusLength)(l,i.length<<3),l}case"EC":{const t=new u.default,r=void 0!==e.d,i=n.Buffer.concat([n.Buffer.alloc(1,4),n.Buffer.from(e.x,"base64"),n.Buffer.from(e.y,"base64")]);if(r){t.zero();const r=new u.default;r.oidFor("ecPublicKey"),r.oidFor(e.crv),t.add(r.end());const a=new u.default;a.one(),a.octStr(n.Buffer.from(e.d,"base64"));const c=new u.default;c.bitStr(i);const l=c.end(n.Buffer.from([161]));a.add(l);const d=a.end(),f=new u.default;f.add(d);const p=f.end(n.Buffer.from([4]));t.add(p);const h=t.end(),y=(0,o.createPrivateKey)({key:h,format:"der",type:"pkcs8"});return(0,s.setCurve)(y,e.crv),y}const a=new u.default;a.oidFor("ecPublicKey"),a.oidFor(e.crv),t.add(a.end()),t.bitStr(i);const c=t.end(),l=(0,o.createPublicKey)({key:c,format:"der",type:"spki"});return(0,s.setCurve)(l,e.crv),l}case"OKP":{const t=new u.default;if(void 0!==e.d){t.zero();const r=new u.default;r.oidFor(e.crv),t.add(r.end());const i=new u.default;i.octStr(n.Buffer.from(e.d,"base64"));const a=i.end(n.Buffer.from([4]));t.add(a);const s=t.end();return(0,o.createPrivateKey)({key:s,format:"der",type:"pkcs8"})}const r=new u.default;r.oidFor(e.crv),t.add(r.end()),t.bitStr(n.Buffer.from(e.x,"base64"));const i=t.end();return(0,o.createPublicKey)({key:i,format:"der",type:"spki"})}default:throw new a.JOSENotSupported('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12),o=r(1),i=n.Buffer.from([0]),a=n.Buffer.from([2]),s=n.Buffer.from([3]),c=n.Buffer.from([48]),u=n.Buffer.from([4]),l=e=>{if(e<128)return n.Buffer.from([e]);const t=n.Buffer.alloc(5);t.writeUInt32BE(e,1);let r=1;for(;0===t[r];)r++;return t[r-1]=128|5-r,t.slice(r-1)},d=new Map([["P-256",n.Buffer.from("06 08 2A 86 48 CE 3D 03 01 07".replace(/ /g,""),"hex")],["secp256k1",n.Buffer.from("06 05 2B 81 04 00 0A".replace(/ /g,""),"hex")],["P-384",n.Buffer.from("06 05 2B 81 04 00 22".replace(/ /g,""),"hex")],["P-521",n.Buffer.from("06 05 2B 81 04 00 23".replace(/ /g,""),"hex")],["ecPublicKey",n.Buffer.from("06 07 2A 86 48 CE 3D 02 01".replace(/ /g,""),"hex")],["X25519",n.Buffer.from("06 03 2B 65 6E".replace(/ /g,""),"hex")],["X448",n.Buffer.from("06 03 2B 65 6F".replace(/ /g,""),"hex")],["Ed25519",n.Buffer.from("06 03 2B 65 70".replace(/ /g,""),"hex")],["Ed448",n.Buffer.from("06 03 2B 65 71".replace(/ /g,""),"hex")]]);t.default=class{constructor(){this.length=0,this.elements=[]}oidFor(e){const t=d.get(e);if(!t)throw new o.JOSENotSupported("Invalid or unsupported OID");this.elements.push(t),this.length+=t.length}zero(){this.elements.push(a,n.Buffer.from([1]),i),this.length+=3}one(){this.elements.push(a,n.Buffer.from([1]),n.Buffer.from([1])),this.length+=3}unsignedInteger(e){if(128&e[0]){const t=l(e.length+1);this.elements.push(a,t,i,e),this.length+=2+t.length+e.length}else{let t=0;for(;0===e[t]&&0==(128&e[t+1]);)t++;const r=l(e.length-t);this.elements.push(a,l(e.length-t),e.slice(t)),this.length+=1+r.length+e.length-t}}octStr(e){const t=l(e.length);this.elements.push(u,l(e.length),e),this.length+=1+t.length+e.length}bitStr(e){const t=l(e.length+1);this.elements.push(s,l(e.length+1),i,e),this.length+=1+t.length+e.length+1}add(e){this.elements.push(e),this.length+=e.length}end(e=c){const t=l(this.length);return n.Buffer.concat([e,t,...this.elements],1+t.length+this.length)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generalDecrypt=void 0;const n=r(49),o=r(1),i=r(7);t.generalDecrypt=async function(e,t,r){if(!(0,i.default)(e))throw new o.JWEInvalid("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(i.default))throw new o.JWEInvalid("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new o.JWEInvalid("JWE Recipients has no members");for(const o of e.recipients)try{return await(0,n.flattenedDecrypt)({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:o.encrypted_key,header:o.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new o.JWEDecryptionFailed}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralEncrypt=void 0;const n=r(54),o=r(1),i=r(34),a=r(20),s=r(90),c=r(6),u=r(21);class l{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addRecipient(...e){return this.parent.addRecipient(...e)}encrypt(...e){return this.parent.encrypt(...e)}done(){return this.parent}}t.GeneralEncrypt=class{constructor(e){this._recipients=[],this._plaintext=e}addRecipient(e,t){const r=new l(this,e,{crit:null==t?void 0:t.crit});return this._recipients.push(r),r}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}async encrypt(e){var t,r,l;if(!this._recipients.length)throw new o.JWEInvalid("at least one recipient must be added");if(e={deflateRaw:null==e?void 0:e.deflateRaw},1===this._recipients.length){const[t]=this._recipients,r=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(t.unprotectedHeader).encrypt(t.key,{...t.options,...e});let o={ciphertext:r.ciphertext,iv:r.iv,recipients:[{}],tag:r.tag};return r.aad&&(o.aad=r.aad),r.protected&&(o.protected=r.protected),r.unprotected&&(o.unprotected=r.unprotected),r.encrypted_key&&(o.recipients[0].encrypted_key=r.encrypted_key),r.header&&(o.recipients[0].header=r.header),o}let d;for(let e=0;e<this._recipients.length;e++){const t=this._recipients[e];if(!(0,a.default)(this._protectedHeader,this._unprotectedHeader,t.unprotectedHeader))throw new o.JWEInvalid("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader,...t.unprotectedHeader},{alg:n}=r;if("string"!=typeof n||!n)throw new o.JWEInvalid('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("dir"===n||"ECDH-ES"===n)throw new o.JWEInvalid('"dir" and "ECDH-ES" alg may only be used with a single recipient');if("string"!=typeof r.enc||!r.enc)throw new o.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(d){if(d!==r.enc)throw new o.JWEInvalid('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else d=r.enc;if((0,u.default)(o.JWEInvalid,new Map,t.options.crit,this._protectedHeader,r),!(void 0===r.zip||this._protectedHeader&&this._protectedHeader.zip))throw new o.JWEInvalid('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}const f=(0,i.default)(d);let p={ciphertext:"",iv:"",recipients:[],tag:""};for(let o=0;o<this._recipients.length;o++){const i=this._recipients[o],a={};p.recipients.push(a);const u={...this._protectedHeader,...this._unprotectedHeader,...i.unprotectedHeader}.alg.startsWith("PBES2")?2048+o:void 0;if(0===o){const t=await new n.FlattenedEncrypt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(f).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(i.unprotectedHeader).setKeyManagementParameters({p2c:u}).encrypt(i.key,{...i.options,...e,[n.unprotected]:!0});p.ciphertext=t.ciphertext,p.iv=t.iv,p.tag=t.tag,t.aad&&(p.aad=t.aad),t.protected&&(p.protected=t.protected),t.unprotected&&(p.unprotected=t.unprotected),a.encrypted_key=t.encrypted_key,t.header&&(a.header=t.header);continue}const{encryptedKey:h,parameters:y}=await(0,s.default)((null===(t=i.unprotectedHeader)||void 0===t?void 0:t.alg)||(null===(r=this._protectedHeader)||void 0===r?void 0:r.alg)||(null===(l=this._unprotectedHeader)||void 0===l?void 0:l.alg),d,i.key,f,{p2c:u});a.encrypted_key=(0,c.encode)(h),(i.unprotectedHeader||y)&&(a.header={...i.unprotectedHeader,...y})}return p}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(6),i=r(158),a=r(1),s=r(32),c=r(9),u=r(8),l=r(10),d=r(11),f=r(36),p=e=>{let t;if((0,c.isCryptoKey)(e)){if(!e.extractable)throw new TypeError("CryptoKey is not extractable");t=n.KeyObject.from(e)}else{if(!(0,u.default)(e)){if(e instanceof Uint8Array)return{kty:"oct",k:(0,o.encode)(e)};throw new TypeError((0,l.default)(e,...d.types,"Uint8Array"))}t=e}if(f.jwkExport){if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new a.JOSENotSupported("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})}switch(t.type){case"secret":return{kty:"oct",k:(0,o.encode)(t.export())};case"private":case"public":switch(t.asymmetricKeyType){case"rsa":{const e=t.export({format:"der",type:"pkcs1"}),r=new i.default(e);"private"===t.type&&r.unsignedInteger();const n=(0,o.encode)(r.unsignedInteger()),a=(0,o.encode)(r.unsignedInteger());let s;return"private"===t.type&&(s={d:(0,o.encode)(r.unsignedInteger()),p:(0,o.encode)(r.unsignedInteger()),q:(0,o.encode)(r.unsignedInteger()),dp:(0,o.encode)(r.unsignedInteger()),dq:(0,o.encode)(r.unsignedInteger()),qi:(0,o.encode)(r.unsignedInteger())}),r.end(),{kty:"RSA",n:n,e:a,...s}}case"ec":{const e=(0,s.default)(t);let r,i,c;switch(e){case"secp256k1":r=64,i=33,c=-1;break;case"P-256":r=64,i=36,c=-1;break;case"P-384":r=96,i=35,c=-3;break;case"P-521":r=132,i=35,c=-3;break;default:throw new a.JOSENotSupported("Unsupported curve")}if("public"===t.type){const n=t.export({type:"spki",format:"der"});return{kty:"EC",crv:e,x:(0,o.encode)(n.subarray(-r,-r/2)),y:(0,o.encode)(n.subarray(-r/2))}}const u=t.export({type:"pkcs8",format:"der"});return u.length<100&&(i+=c),{...p((0,n.createPublicKey)(t)),d:(0,o.encode)(u.subarray(i,i+r/2))}}case"ed25519":case"x25519":{const e=(0,s.default)(t);if("public"===t.type){const r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,o.encode)(r.subarray(-32))}}const r=t.export({type:"pkcs8",format:"der"});return{...p((0,n.createPublicKey)(t)),d:(0,o.encode)(r.subarray(-32))}}case"ed448":case"x448":{const e=(0,s.default)(t);if("public"===t.type){const r=t.export({type:"spki",format:"der"});return{kty:"OKP",crv:e,x:(0,o.encode)(r.subarray("Ed448"===e?-57:-56))}}const r=t.export({type:"pkcs8",format:"der"});return{...p((0,n.createPublicKey)(t)),d:(0,o.encode)(r.subarray("Ed448"===e?-57:-56))}}default:throw new a.JOSENotSupported("Unsupported key asymmetricKeyType")}default:throw new a.JOSENotSupported("Unsupported key type")}};t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){if(48!==e[0])throw new TypeError;this.buffer=e,this.offset=1;if(this.decodeLength()!==e.length-this.offset)throw new TypeError}decodeLength(){let e=this.buffer[this.offset++];if(128&e){const t=-129&e;e=0;for(let r=0;r<t;r++)e=e<<8|this.buffer[this.offset+r];this.offset+=t}return e}unsignedInteger(){if(2!==this.buffer[this.offset++])throw new TypeError;let e=this.decodeLength();0===this.buffer[this.offset]&&(this.offset++,e--);const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}end(){if(this.offset!==this.buffer.length)throw new TypeError}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2),o=r(5),i=r(93),a=r(94),s=r(95),c=r(96),u=r(36);let l;l=n.verify.length>4&&u.oneShotCallback?(0,o.promisify)(n.verify):n.verify;t.default=async(e,t,r,o)=>{const u=(0,c.default)(e,t,"verify");if(e.startsWith("HS")){const t=await(0,s.default)(e,u,o),i=r;try{return n.timingSafeEqual(i,t)}catch{return!1}}const d=(0,i.default)(e),f=(0,a.default)(e,u);try{return await l(d,o,f,r)}catch{return!1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(1);t.default=function(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new n.JOSENotSupported(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generalVerify=void 0;const n=r(55),o=r(1),i=r(7);t.generalVerify=async function(e,t,r){if(!(0,i.default)(e))throw new o.JWSInvalid("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(i.default))throw new o.JWSInvalid("JWS Signatures missing or incorrect type");for(const o of e.signatures)try{return await(0,n.flattenedVerify)({header:o.header,payload:e.payload,protected:o.protected,signature:o.signature},t,r)}catch{}throw new o.JWSSignatureVerificationFailed}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jwtVerify=void 0;const n=r(92),o=r(56),i=r(1);t.jwtVerify=async function(e,t,r){var a;const s=await(0,n.compactVerify)(e,t,r);if((null===(a=s.protectedHeader.crit)||void 0===a?void 0:a.includes("b64"))&&!1===s.protectedHeader.b64)throw new i.JWTInvalid("JWTs MUST NOT use unencoded payload");const c={payload:(0,o.default)(s.protectedHeader,s.payload,r),protectedHeader:s.protectedHeader};return"function"==typeof t?{...c,key:s.key}:c}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jwtDecrypt=void 0;const n=r(77),o=r(56),i=r(1);t.jwtDecrypt=async function(e,t,r){const a=await(0,n.compactDecrypt)(e,t,r),s=(0,o.default)(a.protectedHeader,a.plaintext,r),{protectedHeader:c}=a;if(void 0!==c.iss&&c.iss!==s.iss)throw new i.JWTClaimValidationFailed('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(void 0!==c.sub&&c.sub!==s.sub)throw new i.JWTClaimValidationFailed('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(void 0!==c.aud&&JSON.stringify(c.aud)!==JSON.stringify(s.aud))throw new i.JWTClaimValidationFailed('replicated "aud" claim header parameter mismatch',"aud","mismatch");const u={payload:s,protectedHeader:c};return"function"==typeof t?{...u,key:a.key}:u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralSign=void 0;const n=r(57),o=r(1);class i{constructor(e,t,r){this.parent=e,this.key=t,this.options=r}setProtectedHeader(e){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}setUnprotectedHeader(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}addSignature(...e){return this.parent.addSignature(...e)}sign(...e){return this.parent.sign(...e)}done(){return this.parent}}t.GeneralSign=class{constructor(e){this._signatures=[],this._payload=e}addSignature(e,t){const r=new i(this,e,t);return this._signatures.push(r),r}async sign(){if(!this._signatures.length)throw new o.JWSInvalid("at least one signature must be added");const e={signatures:[],payload:""};for(let t=0;t<this._signatures.length;t++){const r=this._signatures[t],i=new n.FlattenedSign(this._payload);i.setProtectedHeader(r.protectedHeader),i.setUnprotectedHeader(r.unprotectedHeader);const{payload:a,...s}=await i.sign(r.key,r.options);if(0===t)e.payload=a;else if(e.payload!==a)throw new o.JWSInvalid("inconsistent use of JWS Unencoded Payload (RFC7797)");e.signatures.push(s)}return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignJWT=void 0;const n=r(100),o=r(1),i=r(3),a=r(58);class s extends a.ProduceJWT{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){var r;const a=new n.CompactSign(i.encoder.encode(JSON.stringify(this._payload)));if(a.setProtectedHeader(this._protectedHeader),Array.isArray(null===(r=this._protectedHeader)||void 0===r?void 0:r.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new o.JWTInvalid("JWTs MUST NOT use unencoded payload");return a.sign(e,t)}}t.SignJWT=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EncryptJWT=void 0;const n=r(99),o=r(3),i=r(58);class a extends i.ProduceJWT{setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){const r=new n.CompactEncrypt(o.encoder.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),r.encrypt(e,t)}}t.EncryptJWT=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateJwkThumbprintUri=t.calculateJwkThumbprint=void 0;const n=r(78),o=r(6),i=r(1),a=r(3),s=r(7),c=(e,t)=>{if("string"!=typeof e||!e)throw new i.JWKInvalid(t+" missing or invalid")};async function u(e,t){if(!(0,s.default)(e))throw new TypeError("JWK must be an object");if(null!=t||(t="sha256"),"sha256"!==t&&"sha384"!==t&&"sha512"!==t)throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');let r;switch(e.kty){case"EC":c(e.crv,'"crv" (Curve) Parameter'),c(e.x,'"x" (X Coordinate) Parameter'),c(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":c(e.crv,'"crv" (Subtype of Key Pair) Parameter'),c(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":c(e.e,'"e" (Exponent) Parameter'),c(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":c(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new i.JOSENotSupported('"kty" (Key Type) Parameter missing or unsupported')}const u=a.encoder.encode(JSON.stringify(r));return(0,o.encode)(await(0,n.default)(t,u))}t.calculateJwkThumbprint=u,t.calculateJwkThumbprintUri=async function(e,t){null!=t||(t="sha256");const r=await u(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmbeddedJWK=void 0;const n=r(35),o=r(7),i=r(1);t.EmbeddedJWK=async function(e,t){const r={...e,...null==t?void 0:t.header};if(!(0,o.default)(r.jwk))throw new i.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a JSON object');const a=await(0,n.importJWK)({...r.jwk,ext:!0},r.alg,!0);if(a instanceof Uint8Array||"public"!==a.type)throw new i.JWSInvalid('"jwk" (JSON Web Key) Header Parameter must be a public key');return a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRemoteJWKSet=void 0;const n=r(170),o=r(1),i=r(101);class a extends i.LocalJWKSet{constructor(e,t){if(super({keys:[]}),this._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:null==t?void 0:t.agent,headers:null==t?void 0:t.headers},this._timeoutDuration="number"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3,this._cooldownDuration="number"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4,this._cacheMaxAge="number"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5}coolingDown(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return"number"==typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(e,t){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(e,t)}catch(r){if(r instanceof o.JWKSNoMatchingKey&&!1===this.coolingDown())return await this.reload(),super.getKey(e,t);throw r}}async reload(){this._pendingFetch&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=(0,n.default)(this._url,this._timeoutDuration,this._options).then(e=>{if(!(0,i.isJWKSLike)(e))throw new o.JWKSInvalid("JSON Web Key Set malformed");this._jwks={keys:e.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(e=>{throw this._pendingFetch=void 0,e})),await this._pendingFetch}}t.createRemoteJWKSet=function(e,t){const r=new a(e,t);return async function(e,t){return r.getKey(e,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(14),o=r(15),i=r(59),a=r(1),s=r(3);t.default=async(e,t,r)=>{let c;switch(e.protocol){case"https:":c=o.get;break;case"http:":c=n.get;break;default:throw new TypeError("Unsupported URL protocol.")}const{agent:u,headers:l}=r,d=c(e.href,{agent:u,timeout:t,headers:l}),[f]=await Promise.race([(0,i.once)(d,"response"),(0,i.once)(d,"timeout")]);if(!f)throw d.destroy(),new a.JWKSTimeout;if(200!==f.statusCode)throw new a.JOSEError("Expected 200 OK from the JSON Web Key Set HTTP response");const p=[];for await(const e of f)p.push(e);try{return JSON.parse(s.decoder.decode((0,s.concat)(...p)))}catch{throw new a.JOSEError("Failed to parse the JSON Web Key Set HTTP response as JSON")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsecuredJWT=void 0;const n=r(6),o=r(3),i=r(1),a=r(56),s=r(58);class c extends s.ProduceJWT{encode(){return`${n.encode(JSON.stringify({alg:"none"}))}.${n.encode(JSON.stringify(this._payload))}.`}static decode(e,t){if("string"!=typeof e)throw new i.JWTInvalid("Unsecured JWT must be a string");const{0:r,1:s,2:c,length:u}=e.split(".");if(3!==u||""!==c)throw new i.JWTInvalid("Invalid Unsecured JWT");let l;try{if(l=JSON.parse(o.decoder.decode(n.decode(r))),"none"!==l.alg)throw new Error}catch{throw new i.JWTInvalid("Invalid Unsecured JWT")}return{payload:(0,a.default)(l,n.decode(s),t),header:l}}}t.UnsecuredJWT=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeProtectedHeader=void 0;const n=r(60),o=r(3),i=r(7);t.decodeProtectedHeader=function(e){let t;if("string"==typeof e){const r=e.split(".");3!==r.length&&5!==r.length||([t]=r)}else if("object"==typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!=typeof t||!t)throw new Error;const e=JSON.parse(o.decoder.decode((0,n.decode)(t)));if(!(0,i.default)(e))throw new Error;return e}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeJwt=void 0;const n=r(60),o=r(3),i=r(7),a=r(1);t.decodeJwt=function(e){if("string"!=typeof e)throw new a.JWTInvalid("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:r}=e.split(".");if(5===r)throw new a.JWTInvalid("Only JWTs using Compact JWS serialization can be decoded");if(3!==r)throw new a.JWTInvalid("Invalid JWT");if(!t)throw new a.JWTInvalid("JWTs must contain a payload");let s,c;try{s=(0,n.decode)(t)}catch{throw new a.JWTInvalid("Failed to base64url decode the payload")}try{c=JSON.parse(o.decoder.decode(s))}catch{throw new a.JWTInvalid("Failed to parse the decoded payload as JSON")}if(!(0,i.default)(c))throw new a.JWTInvalid("Invalid JWT Claims Set");return c}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateKeyPair=void 0;const n=r(102);t.generateKeyPair=async function(e,t){return(0,n.generateKeyPair)(e,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateSecret=void 0;const n=r(102);t.generateSecret=async function(e,t){return(0,n.generateSecret)(e,t)}},function(e,t,r){e.exports={request:r(177).default,cacheSigningKey:r(178).default,rateLimitSigningKey:r(185).default,getKeysInterceptor:r(189).default,callbackSupport:r(190).default}},function(e,t,r){const n=r(14),o=r(15),i=r(27);e.exports.default=e=>e.fetcher?e.fetcher(e.uri):new Promise((t,r)=>{const{hostname:a,path:s,port:c,protocol:u}=i.parse(e.uri),l={hostname:a,path:s,port:c,method:"GET",...e.headers&&{headers:{...e.headers}},...e.timeout&&{timeout:e.timeout},...e.agent&&{agent:e.agent}},d=("https:"===u?o:n).request(l,e=>{let n="";e.setEncoding("utf8"),e.on("data",e=>{n+=e}),e.on("end",()=>{if(e.statusCode<200||e.statusCode>=300){const t=e.body&&(e.body.message||e.body)||e.statusMessage||"Http Error "+e.statusCode;r({errorMsg:t})}else try{t(n&&JSON.parse(n))}catch(e){r(e)}})});d.on("timeout",()=>d.destroy()).on("error",e=>r(e)).end()})},function(e,t,r){const n=r(17)("jwks"),o=r(179),{promisify:i,callbackify:a}=r(5);e.exports.default=function(e,{cacheMaxEntries:t=5,cacheMaxAge:r=6e5}){return n(`Configured caching of signing keys. Max: ${t} / Age: ${r}`),i(o({hash:e=>e,load:a(e.getSigningKey.bind(e)),maxAge:r,max:t}))}},function(e,t,r){"use strict";var n=r(180);e.exports=n.asyncMemoizer},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.asyncMemoizer=void 0;var s=a(r(103)),c=r(59),u=a(r(104)),l=r(105),d=r(184);function f(e){var t=new s.default(e),r=e.load,n=e.hash,a=e.bypass,d=e.itemMaxAge,f=e.freeze,p=e.clone,h=e.queueMaxAge||1e3,y=new Map,m=new c.EventEmitter,v=Object.assign({del:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=n.apply(void 0,o(e));t.del(i)},reset:function(){return t.reset()},keys:t.keys.bind(t),on:m.on.bind(m),once:m.once.bind(m)},e);if(e.disable)return Object.assign(r,v);function g(e,r,n){f&&n.forEach(l.deepFreeze),d?t.set(e,n,d.apply(void 0,o(r.concat(n)))):t.set(e,n)}function w(e,t){var r,n;try{for(var a=i(e),s=a.next();!s.done;s=a.next()){var c=s.value;p?setImmediate.apply(void 0,o([c],t.map(u.default))):setImmediate.apply(void 0,o([c],t))}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}}function b(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];m.emit.apply(m,o([e],t))}return Object.assign((function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var s,c=e.slice(0,-1),u=e.slice(-1).pop();if(a&&a.apply(void 0,o(c)))return b.apply(void 0,o(["miss"],c)),r.apply(void 0,o(e));s=0!==c.length||n?n.apply(void 0,o(c)):"_";var l=t.get(s);if(l)return b.apply(void 0,o(["hit"],c)),w([u],[null].concat(l));var d=y.get(s);if(d&&d.expiresAt>Date.now())return d.queue.push(u),void b.apply(void 0,o(["queue"],c));b.apply(void 0,o(["miss"],c));var f=Date.now(),p=[u];y.set(s,{queue:p,expiresAt:f+h});var m=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0];r||g(s,c,e.slice(1)),y.delete(s),b.apply(void 0,o(["loaded",Date.now()-f],c)),w(p,e)};r.apply(void 0,o(c,[m]))}),v)}t.asyncMemoizer=f,f.sync=d.syncMemoizer},function(e,t,r){"pseudomap"===process.env.npm_package_name&&"test"===process.env.npm_lifecycle_script&&(process.env.TEST_PSEUDOMAP="true"),"function"!=typeof Map||process.env.TEST_PSEUDOMAP?e.exports=r(182):e.exports=Map},function(e,t){var r=Object.prototype.hasOwnProperty;function n(e){if(!(this instanceof n))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),e)if(e instanceof n||"function"==typeof Map&&e instanceof Map)e.forEach((function(e,t){this.set(t,e)}),this);else{if(!Array.isArray(e))throw new TypeError("invalid argument");e.forEach((function(e){this.set(e[0],e[1])}),this)}}function o(e,t){return e===t||e!=e&&t!=t}function i(e,t,r){this.key=e,this.value=t,this._index=r}function a(e,t){for(var n=0,i="_"+t,a=i;r.call(e,a);a=i+n++)if(o(e[a].key,t))return e[a]}e.exports=n,n.prototype.forEach=function(e,t){t=t||this,Object.keys(this._data).forEach((function(r){"size"!==r&&e.call(t,this._data[r].value,this._data[r].key)}),this)},n.prototype.has=function(e){return!!a(this._data,e)},n.prototype.get=function(e){var t=a(this._data,e);return t&&t.value},n.prototype.set=function(e,t){!function(e,t,n){for(var a=0,s="_"+t,c=s;r.call(e,c);c=s+a++)if(o(e[c].key,t))return void(e[c].value=n);e.size++,e[c]=new i(t,n,c)}(this._data,e,t)},n.prototype.delete=function(e){var t=a(this._data,e);t&&(delete this._data[t._index],this._data.size--)},n.prototype.clear=function(){var e=Object.create(null);e.size=0,Object.defineProperty(this,"_data",{value:e,enumerable:!1,configurable:!0,writable:!1})},Object.defineProperty(n.prototype,"size",{get:function(){return this._data.size},set:function(e){},enumerable:!0,configurable:!0}),n.prototype.values=n.prototype.keys=n.prototype.entries=function(){throw new Error("iterators are not implemented in this version")}},function(e,t){function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function n(e,t){e.tail=new i(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new i(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function i(e,t,r,n){if(!(this instanceof i))return new i(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=r,r.Node=i,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)n(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},r.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},r.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var o=0;null!==n;o++)r=e(r,n.value,o),n=n.next;return r},r.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var o=this.length-1;null!==n;o--)r=e(r,n.value,o),n=n.prev;return r},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this}},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.syncMemoizer=void 0;var a=i(r(103)),s=r(59),c=i(r(104)),u=r(105);t.syncMemoizer=function(e){var t=new a.default(e),r=e.load,n=e.hash,i=e.bypass,l=e.itemMaxAge,d=e.freeze,f=e.clone,p=new s.EventEmitter,h=Object.assign({del:function(){var e=n.apply(void 0,o(arguments));t.del(e)},reset:function(){return t.reset()},keys:t.keys.bind(t),on:p.on.bind(p),once:p.once.bind(p)},e);if(e.disable)return Object.assign(r,h);function y(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.emit.apply(p,o([e],t))}function m(e){return e&&e.then&&"function"==typeof e.then}function v(e){var t=e;return f&&(t=m(t)?t.then(c.default):c.default(t)),d&&(m(t)?t=t.then(u.deepFreeze):u.deepFreeze(t)),t}return Object.assign((function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];if(i&&i.apply(void 0,o(e)))return y.apply(void 0,o(["miss"],e)),r.apply(void 0,o(e));var s=n.apply(void 0,o(e)),c=t.get(s);if(c)return y.apply(void 0,o(["hit"],e)),v(c);y.apply(void 0,o(["miss"],e));var u=r.apply(void 0,o(e));return l?t.set(s,u,l.apply(void 0,o(e.concat([u])))):t.set(s,u),v(u)}),h)}},function(e,t,r){const n=r(17)("jwks"),{RateLimiter:o}=r(186),i=r(107);e.exports.default=function(e,{jwksRequestsPerMinute:t=10}){const r=e.getSigningKey.bind(e),a=new o(t,"minute",!0);return n(`Configured rate limiting to JWKS endpoint at ${t}/minute`),async e=>await new Promise((t,o)=>{a.removeTokens(1,async(a,s)=>{if(a&&o(a),n("Requests to the JWKS endpoint available for the next minute:",s),s<0)n("Too many requests to the JWKS endpoint"),o(new i("Too many requests to the JWKS endpoint"));else try{const n=await r(e);t(n)}catch(e){o(e)}})})}},function(e,t,r){t.RateLimiter=r(187),t.TokenBucket=r(106)},function(e,t,r){var n=r(106),o=r(188),i=function(e,t,r){this.tokenBucket=new n(e,e,t,null),this.tokenBucket.content=e,this.curIntervalStart=o(),this.tokensThisInterval=0,this.fireImmediately=r};i.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(e,t){if(e>this.tokenBucket.bucketSize)return process.nextTick(t.bind(null,"Requested tokens "+e+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var r=this,n=o();if((n<this.curIntervalStart||n-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=n,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)process.nextTick(t.bind(null,null,-1));else{var i=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-n);setTimeout((function(){r.tokenBucket.removeTokens(e,a)}),i)}return!1}return this.tokenBucket.removeTokens(e,a);function a(n,o){if(n)return t(n,null);r.tokensThisInterval+=e,t(null,o)}},tryRemoveTokens:function(e){if(e>this.tokenBucket.bucketSize)return!1;var t=o();if((t<this.curIntervalStart||t-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=t,this.tokensThisInterval=0),e>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var r=this.tokenBucket.tryRemoveTokens(e);return r&&(this.tokensThisInterval+=e),r},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},e.exports=i},function(e,t){e.exports=function(){if("undefined"!=typeof process&&process.hrtime){var e=process.hrtime(),t=e[0],r=e[1];return 1e3*t+Math.floor(r/1e6)}return(new Date).getTime()}},function(e,t,r){const n=r(75).retrieveSigningKeys;e.exports.default=function(e,{getKeysInterceptor:t}){const r=e.getSigningKey.bind(e);return async e=>{const o=await t();let i;if(o&&o.length&&(i=await n(o)),i&&i.length){const t=i.find(t=>!e||t.kid===e);if(t)return t}return r(e)}}},function(e,t,r){const{callbackify:n}=r(5);e.exports.default=e=>{const t=e.getSigningKey.bind(e);return(e,r)=>{if(r){return n(t)(e,r)}return t(e)}}},function(e,t){function r(e){Error.call(this,e),Error.captureStackTrace(this,this.constructor),this.name="ArgumentError",this.message=e}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,e.exports=r},function(e,t,r){const{ArgumentError:n}=r(22),{JwksClient:o}=r(19),i=r(38),a=(e,t)=>e&&"SigningKeyNotFoundError"===e.name||e?t(e,null,null):void 0;e.exports.hapiJwt2KeyAsync=t=>{const r=e.exports.hapiJwt2Key(t);return function(e){return new Promise((t,n)=>{r(e,(e,r)=>{!r||e?n(e):t({key:r})})})}},e.exports.hapiJwt2Key=function(e){if(null==e)throw new n("An options object must be provided when initializing hapiJwt2Key");const t=new o(e),r=e.handleSigningKeyError||a;return function(e,n){return e&&e.header?i.includes(e.header.alg)?void t.getSigningKey(e.header.kid).then(e=>n(null,e.publicKey||e.rsaPublicKey,e)).catch(e=>r(e,e=>n(e,null,null))):n(new Error("Unsupported algorithm "+e.header.alg+" supplied."),null,null):n(new Error("Cannot find a signing certificate if there is no header"),null,null)}}},function(e,t,r){const{ArgumentError:n}=r(22),{JwksClient:o}=r(19),i=r(38),a=(e,t)=>e&&"SigningKeyNotFoundError"===e.name?t(null):e?t(e):void 0;e.exports.expressJwtSecret=function(e){if(null==e)throw new n("An options object must be provided when initializing expressJwtSecret");const t=new o(e),r=e.handleSigningKeyError||a,s=async(e,n)=>{if(!n)return;const o=n.header;if(o&&i.includes(o.alg))try{const e=await t.getSigningKey(o.kid);return e.publicKey||e.rsaPublicKey}catch(e){return new Promise((t,n)=>{r(e,e=>{if(!e)return t();n(e)})})}};return function(e,t,r,n){if(4!==arguments.length)return s(0,arguments[1]);s(0,{header:t}).then(e=>{setImmediate(n,null,e)}).catch(e=>{setImmediate(n,e)})}}},function(e,t,r){const{ArgumentError:n}=r(22),{JwksClient:o}=r(19),i=r(38);e.exports.koaJwtSecret=function(e={}){if(!e.jwksUri)throw new n("No JWKS provided. Please provide a jwksUri");const t=new o(e);return function({alg:r,kid:n}={}){return new Promise((o,a)=>{if(!i.includes(r))return a(new Error("Missing / invalid token algorithm"));t.getSigningKey(n).then(e=>{o(e.publicKey||e.rsaPublicKey)}).catch(t=>e.handleSigningKeyError?e.handleSigningKeyError(t).then(a):a(t))})}}},function(e,t,r){const n=r(76),{ArgumentError:o}=r(22),{JwksClient:i}=r(19),a=r(38),s=(e,t)=>e&&"SigningKeyNotFoundError"===e.name?t(null):e?t(e):void 0;e.exports.passportJwtSecret=function(e){if(null==e)throw new o("An options object must be provided when initializing passportJwtSecret");if(!e.jwksUri)throw new o("No JWKS provided. Please provide a jwksUri");const t=new i(e),r=e.handleSigningKeyError||s;return function(e,o,i){let s;try{s={payload:n.decodeJwt(o),header:n.decodeProtectedHeader(o)}}catch(e){s=null}if(!s||!a.includes(s.header.alg))return i(null,null);t.getSigningKey(s.header.kid).then(e=>{i(null,e.publicKey||e.rsaPublicKey)}).catch(e=>{r(e,e=>i(e,null))})}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){const n=r(110),o=r(131),i=r(132),a=r(149);let s,c,u;switch(process.env.NETLIFY_ENVIRONMENT){case"develop":s=process.env.FABMAN_TOKEN_STAGING,c=a({jwksUri:process.env.AUTH0_URL_DEVELOP+"/.well-known/jwks.json"}),u=process.env.ORIGIN_DEVELOP;break;case"staging":s=process.env.FABMAN_TOKEN_STAGING,c=a({jwksUri:process.env.AUTH0_URL_STAGING+"/.well-known/jwks.json"}),u=process.env.ORIGIN_STAGING;break;default:s=process.env.FABMAN_TOKEN,c=a({jwksUri:process.env.AUTH0_URL+"/.well-known/jwks.json"}),u=process.env.ORIGIN}const l=s,d=c,f=u;t.handler=function(e,t,r){let a=null;if(e.headers.cookie){const t=o.parse(e.headers.cookie);try{a=t.jwt}catch(e){return console.log(e),r(null,{statusCode:401,body:"Unauthorized"})}}if(!a)return r(null,{statusCode:401,body:"Unauthorized"});i.verify(a,(function(e,t){d.getSigningKey(e.kid,(function(e,r){const n=r.publicKey||r.rsaPublicKey;t(null,n)}))}),(function(t,o){if(t)console.log(t),r(null,{statusCode:500,body:"ERROR"});else{const t=o[f+"/fabmanId"],i=n.create({baseURL:"https://fabman.io/api/v1/",headers:{Authorization:"Bearer "+l}}),a=JSON.parse(e.body);i.put("members/"+t,a).then(e=>{const t={firstName:e.data.firstName,lastName:e.data.lastName,memberNumber:e.data.memberNumber,emailAddress:e.data.emailAddress,address:e.data.address,address2:e.data.address2,city:e.data.city,zip:e.data.zip,lockVersion:e.data.lockVersion};r(null,{statusCode:200,body:JSON.stringify(t)})}).catch(e=>{console.log(e),r(null,{statusCode:500,body:"ERROR"})})}}))}}]));