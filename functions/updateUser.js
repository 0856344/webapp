!(function (e, t) { for (const r in t)e[r] = t[r] }(exports, (function (e) { const t = {}; function r (n) { if (t[n]) return t[n].exports; const o = t[n] = { i: n, l: !1, exports: {} }; return e[n].call(o.exports, o, o.exports, r), o.l = !0, o.exports } return r.m = e, r.c = t, r.d = function (e, t, n) { r.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, r.r = function (e) { typeof Symbol !== 'undefined' && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' }), Object.defineProperty(e, '__esModule', { value: !0 }) }, r.t = function (e, t) { if (1 & t && (e = r(e)), 8 & t) return e; if (4 & t && typeof e === 'object' && e && e.__esModule) return e; const n = Object.create(null); if (r.r(n), Object.defineProperty(n, 'default', { enumerable: !0, value: e }), 2 & t && typeof e !== 'string') for (const o in e)r.d(n, o, function (t) { return e[t] }.bind(null, o)); return n }, r.n = function (e) { const t = e && e.__esModule ? function () { return e.default } : function () { return e }; return r.d(t, 'a', t), t }, r.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, r.p = '', r(r.s = 263) }([, function (e, t, r) { 'use strict'; const n = r(15); const o = Object.prototype.toString; function i (e) { return o.call(e) === '[object Array]' } function s (e) { return void 0 === e } function a (e) { return e !== null && typeof e === 'object' } function u (e) { if (o.call(e) !== '[object Object]') return !1; const t = Object.getPrototypeOf(e); return t === null || t === Object.prototype } function c (e) { return o.call(e) === '[object Function]' } function f (e, t) { if (e != null) if (typeof e !== 'object' && (e = [e]), i(e)) for (let r = 0, n = e.length; r < n; r++)t.call(null, e[r], r, e); else for (const o in e)Object.prototype.hasOwnProperty.call(e, o) && t.call(null, e[o], o, e) }e.exports = { isArray: i, isArrayBuffer: function (e) { return o.call(e) === '[object ArrayBuffer]' }, isBuffer: function (e) { return e !== null && !s(e) && e.constructor !== null && !s(e.constructor) && typeof e.constructor.isBuffer === 'function' && e.constructor.isBuffer(e) }, isFormData: function (e) { return typeof FormData !== 'undefined' && e instanceof FormData }, isArrayBufferView: function (e) { return typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView ? ArrayBuffer.isView(e) : e && e.buffer && e.buffer instanceof ArrayBuffer }, isString: function (e) { return typeof e === 'string' }, isNumber: function (e) { return typeof e === 'number' }, isObject: a, isPlainObject: u, isUndefined: s, isDate: function (e) { return o.call(e) === '[object Date]' }, isFile: function (e) { return o.call(e) === '[object File]' }, isBlob: function (e) { return o.call(e) === '[object Blob]' }, isFunction: c, isStream: function (e) { return a(e) && c(e.pipe) }, isURLSearchParams: function (e) { return typeof URLSearchParams !== 'undefined' && e instanceof URLSearchParams }, isStandardBrowserEnv: function () { return (typeof navigator === 'undefined' || navigator.product !== 'ReactNative' && navigator.product !== 'NativeScript' && navigator.product !== 'NS') && (typeof window !== 'undefined' && typeof document !== 'undefined') }, forEach: f, merge: function e () { const t = {}; function r (r, n) { u(t[n]) && u(r) ? t[n] = e(t[n], r) : u(r) ? t[n] = e({}, r) : i(r) ? t[n] = r.slice() : t[n] = r } for (let n = 0, o = arguments.length; n < o; n++)f(arguments[n], r); return t }, extend: function (e, t, r) { return f(t, function (t, o) { e[o] = r && typeof t === 'function' ? n(t, r) : t }), e }, trim: function (e) { return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, '') }, stripBOM: function (e) { return e.charCodeAt(0) === 65279 && (e = e.slice(1)), e } } }, function (e, t, r) { typeof process === 'undefined' || process.type === 'renderer' || !0 === process.browser || process.__nwjs ? e.exports = r(45) : e.exports = r(47) }, function (e, t) { e.exports = require('url') }, function (e, t) { e.exports = require('util') }, function (e, t, r) { 'use strict'; const n = r(1); function o (e) { return encodeURIComponent(e).replace(/%3A/gi, ':').replace(/%24/g, '$').replace(/%2C/gi, ',').replace(/%20/g, '+').replace(/%5B/gi, '[').replace(/%5D/gi, ']') }e.exports = function (e, t, r) { if (!t) return e; let i; if (r)i = r(t); else if (n.isURLSearchParams(t))i = t.toString(); else { const s = []; n.forEach(t, function (e, t) { e != null && (n.isArray(e) ? t += '[]' : e = [e], n.forEach(e, function (e) { n.isDate(e) ? e = e.toISOString() : n.isObject(e) && (e = JSON.stringify(e)), s.push(o(t) + '=' + o(e)) })) }), i = s.join('&') } if (i) { const a = e.indexOf('#'); a !== -1 && (e = e.slice(0, a)), e += (e.indexOf('?') === -1 ? '?' : '&') + i } return e } }, function (e, t, r) { 'use strict'; const n = r(1); const o = r(36); const i = r(7); const s = { 'Content-Type': 'application/x-www-form-urlencoded' }; function a (e, t) { !n.isUndefined(e) && n.isUndefined(e['Content-Type']) && (e['Content-Type'] = t) } let u; const c = { transitional: { silentJSONParsing: !0, forcedJSONParsing: !0, clarifyTimeoutError: !1 }, adapter: (typeof XMLHttpRequest !== 'undefined' ? u = r(37) : typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]' && (u = r(43)), u), transformRequest: [function (e, t) { return o(t, 'Accept'), o(t, 'Content-Type'), n.isFormData(e) || n.isArrayBuffer(e) || n.isBuffer(e) || n.isStream(e) || n.isFile(e) || n.isBlob(e) ? e : n.isArrayBufferView(e) ? e.buffer : n.isURLSearchParams(e) ? (a(t, 'application/x-www-form-urlencoded;charset=utf-8'), e.toString()) : n.isObject(e) || t && t['Content-Type'] === 'application/json' ? (a(t, 'application/json'), (function (e, t, r) { if (n.isString(e)) try { return (t || JSON.parse)(e), n.trim(e) } catch (e) { if (e.name !== 'SyntaxError') throw e } return (r || JSON.stringify)(e) }(e))) : e }], transformResponse: [function (e) { const t = this.transitional; const r = t && t.silentJSONParsing; const o = t && t.forcedJSONParsing; const s = !r && this.responseType === 'json'; if (s || o && n.isString(e) && e.length) try { return JSON.parse(e) } catch (e) { if (s) { if (e.name === 'SyntaxError') throw i(e, this, 'E_JSON_PARSE'); throw e } } return e }], timeout: 0, xsrfCookieName: 'XSRF-TOKEN', xsrfHeaderName: 'X-XSRF-TOKEN', maxContentLength: -1, maxBodyLength: -1, validateStatus: function (e) { return e >= 200 && e < 300 } }; c.headers = { common: { Accept: 'application/json, text/plain, */*' } }, n.forEach(['delete', 'get', 'head'], function (e) { c.headers[e] = {} }), n.forEach(['post', 'put', 'patch'], function (e) { c.headers[e] = n.merge(s) }), e.exports = c }, function (e, t, r) { 'use strict'; e.exports = function (e, t, r, n, o) { return e.config = t, r && (e.code = r), e.request = n, e.response = o, e.isAxiosError = !0, e.toJSON = function () { return { message: this.message, name: this.name, description: this.description, number: this.number, fileName: this.fileName, lineNumber: this.lineNumber, columnNumber: this.columnNumber, stack: this.stack, config: this.config, code: this.code } }, e } }, function (e, t, r) { 'use strict'; const n = r(7); e.exports = function (e, t, r, o, i) { const s = new Error(e); return n(s, t, r, o, i) } }, function (e, t) { e.exports = require('stream') }, function (e, t) { e.exports = require('http') }, function (e, t) { e.exports = require('https') }, function (e, t, r) {
  /*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
  const n = r(25); const o = n.Buffer; function i (e, t) { for (const r in e)t[r] = e[r] } function s (e, t, r) { return o(e, t, r) }o.from && o.alloc && o.allocUnsafe && o.allocUnsafeSlow ? e.exports = n : (i(n, t), t.Buffer = s), s.prototype = Object.create(o.prototype), i(o, s), s.from = function (e, t, r) { if (typeof e === 'number') throw new TypeError('Argument must not be a number'); return o(e, t, r) }, s.alloc = function (e, t, r) { if (typeof e !== 'number') throw new TypeError('Argument must be a number'); const n = o(e); return void 0 !== t ? typeof r === 'string' ? n.fill(t, r) : n.fill(t) : n.fill(0), n }, s.allocUnsafe = function (e) { if (typeof e !== 'number') throw new TypeError('Argument must be a number'); return o(e) }, s.allocUnsafeSlow = function (e) { if (typeof e !== 'number') throw new TypeError('Argument must be a number'); return n.SlowBuffer(e) }
}, function (e, t, r) { 'use strict'; Object.defineProperty(t, '__esModule', { value: !0 }), t.JwksClient = void 0; const n = Object.assign || function (e) { for (let t = 1; t < arguments.length; t++) { const r = arguments[t]; for (const n in r)Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }; const o = (function () { function e (e, t) { for (let r = 0; r < t.length; r++) { const n = t[r]; n.enumerable = n.enumerable || !1, n.configurable = !0, 'value' in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } return function (t, r, n) { return r && e(t.prototype, r), n && e(t, n), t } }()); const i = l(r(2)); const s = l(r(96)); const a = l(r(69)); const u = l(r(70)); const c = r(71); const f = r(105); function l (e) { return e && e.__esModule ? e : { default: e } }t.JwksClient = (function () { function e (t) { const r = this; !(function (e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') }(this, e)), this.getSigningKey = function (e, t) { r.logger("Fetching signing key for '" + e + "'"), r.getSigningKeys(function (n, o) { if (n) return t(n); const i = e != null; if (!i && o.length > 1) return r.logger('No KID specified and JWKS endpoint returned more than 1 key'), t(new u.default('No KID specified and JWKS endpoint returned more than 1 key')); const s = o.find(function (t) { return !i || t.kid === e }); return s ? t(null, s) : (r.logger("Unable to find a signing key that matches '" + e + "'"), t(new u.default("Unable to find a signing key that matches '" + e + "'"))) }) }, this.getKeysAsync = p(this.getKeys, this), this.getSigningKeysAsync = p(this.getSigningKeys, this), this.getSigningKeyAsync = p(this.getSigningKey, this), this.options = n({ rateLimit: !1, cache: !0, timeout: 3e4 }, t), this.logger = (0, i.default)('jwks'), this.options.getKeysInterceptor && (this.getSigningKey = (0, f.getKeysInterceptor)(this, t)), this.options.rateLimit && (this.getSigningKey = (0, f.rateLimitSigningKey)(this, t)), this.options.cache && (this.getSigningKey = (0, f.cacheSigningKey)(this, t)), (this.options.rateLimit || this.options.cache) && (this.getSigningKeyAsync = p(this.getSigningKey, this)) } return o(e, [{ key: 'getKeys', value: function (e) { const t = this; if (this.options.jwksObject) return this.logger('DEPRECATED: jwksObject is deprecated -- use getKeysInterceptor'), this.logger('Returning directly provided keyset.'), e(null, this.options.jwksObject.keys); this.logger("Fetching keys from '" + this.options.jwksUri + "'"), (0, s.default)({ uri: this.options.jwksUri, strictSSL: this.options.strictSsl, headers: this.options.requestHeaders, agentOptions: this.options.requestAgentOptions, proxy: this.options.proxy, timeout: this.options.timeout }, function (r, n) { if (r) { const o = r.response; return t.logger('Failure:', o && o.data || r), e(o ? new a.default(o.data || o.statusText || 'Http Error ' + o.status) : r) } return t.logger('Keys:', n.data.keys), e(null, n.data.keys) }) } }, { key: 'getSigningKeys', value: function (e) { const t = this; this.getKeys(function (r, n) { if (r) return e(r); if (!n || !n.length) return e(new a.default('The JWKS endpoint did not contain any keys')); const o = (0, c.retrieveSigningKeys)(n); return o.length ? (t.logger('Signing Keys:', o), e(null, o)) : e(new a.default('The JWKS endpoint did not contain any signing keys')) }) } }]), e }()); var p = function (e, t) { return function () { for (var r = arguments.length, n = Array(r), o = 0; o < r; o++)n[o] = arguments[o]; return new Promise(function (r, o) { e.call.apply(e, [t].concat(n, [function (e, t) { e && o(e), r(t) }])) }) } } }, function (e, t, r) { 'use strict'; Object.defineProperty(t, '__esModule', { value: !0 }), t.SigningKeyNotFoundError = t.JwksRateLimitError = t.JwksError = t.ArgumentError = void 0; const n = a(r(118)); const o = a(r(69)); const i = a(r(76)); const s = a(r(70)); function a (e) { return e && e.__esModule ? e : { default: e } }t.ArgumentError = n.default, t.JwksError = o.default, t.JwksRateLimitError = i.default, t.SigningKeyNotFoundError = s.default }, function (e, t, r) { 'use strict'; e.exports = function (e, t) { return function () { for (var r = new Array(arguments.length), n = 0; n < r.length; n++)r[n] = arguments[n]; return e.apply(t, r) } } }, function (e, t, r) { 'use strict'; const n = r(8); e.exports = function (e, t, r) { const o = r.config.validateStatus; r.status && o && !o(r.status) ? t(n('Request failed with status code ' + r.status, r.config, null, r.request, r)) : e(r) } }, function (e, t, r) { 'use strict'; const n = r(39); const o = r(40); e.exports = function (e, t) { return e && !n(t) ? o(e, t) : t } }, function (e, t, r) { const n = r(3); const o = n.URL; const i = r(10); const s = r(11); const a = r(9).Writable; const u = r(28); const c = r(44); const f = ['abort', 'aborted', 'connect', 'error', 'socket', 'timeout']; const l = Object.create(null); f.forEach(function (e) { l[e] = function (t, r, n) { this._redirectable.emit(e, t, r, n) } }); const p = x('ERR_FR_REDIRECTION_FAILURE', 'Redirected request failed'); const h = x('ERR_FR_TOO_MANY_REDIRECTS', 'Maximum number of redirects exceeded'); const d = x('ERR_FR_MAX_BODY_LENGTH_EXCEEDED', 'Request body larger than maxBodyLength limit'); const v = x('ERR_STREAM_WRITE_AFTER_END', 'write after end'); function g (e, t) { a.call(this), this._sanitizeOptions(e), this._options = e, this._ended = !1, this._ending = !1, this._redirectCount = 0, this._redirects = [], this._requestBodyLength = 0, this._requestBodyBuffers = [], t && this.on('response', t); const r = this; this._onNativeResponse = function (e) { r._processResponse(e) }, this._performRequest() } function y (e) { const t = { maxRedirects: 21, maxBodyLength: 10485760 }; const r = {}; return Object.keys(e).forEach(function (i) { const s = i + ':'; const a = r[s] = e[i]; const f = t[i] = Object.create(a); Object.defineProperties(f, { request: { value: function (e, i, a) { if (typeof e === 'string') { const f = e; try { e = b(new o(f)) } catch (t) { e = n.parse(f) } } else o && e instanceof o ? e = b(e) : (a = i, i = e, e = { protocol: s }); return typeof i === 'function' && (a = i, i = null), (i = Object.assign({ maxRedirects: t.maxRedirects, maxBodyLength: t.maxBodyLength }, e, i)).nativeProtocols = r, u.equal(i.protocol, s, 'protocol mismatch'), c('options', i), new g(i, a) }, configurable: !0, enumerable: !0, writable: !0 }, get: { value: function (e, t, r) { const n = f.request(e, t, r); return n.end(), n }, configurable: !0, enumerable: !0, writable: !0 } }) }), t } function m () {} function b (e) { const t = { protocol: e.protocol, hostname: e.hostname.startsWith('[') ? e.hostname.slice(1, -1) : e.hostname, hash: e.hash, search: e.search, pathname: e.pathname, path: e.pathname + e.search, href: e.href }; return e.port !== '' && (t.port = Number(e.port)), t } function w (e, t) { let r; for (const n in t)e.test(n) && (r = t[n], delete t[n]); return r == null ? void 0 : String(r).trim() } function x (e, t) { function r (e) { Error.captureStackTrace(this, this.constructor), e ? (this.message = t + ': ' + e.message, this.cause = e) : this.message = t } return r.prototype = new Error(), r.prototype.constructor = r, r.prototype.name = 'Error [' + e + ']', r.prototype.code = e, r } function _ (e) { for (let t = 0; t < f.length; t++)e.removeListener(f[t], l[f[t]]); e.on('error', m), e.abort() }g.prototype = Object.create(a.prototype), g.prototype.abort = function () { _(this._currentRequest), this.emit('abort') }, g.prototype.write = function (e, t, r) { if (this._ending) throw new v(); if (!(typeof e === 'string' || typeof e === 'object' && 'length' in e)) throw new TypeError('data should be a string, Buffer or Uint8Array'); typeof t === 'function' && (r = t, t = null), e.length !== 0 ? this._requestBodyLength + e.length <= this._options.maxBodyLength ? (this._requestBodyLength += e.length, this._requestBodyBuffers.push({ data: e, encoding: t }), this._currentRequest.write(e, t, r)) : (this.emit('error', new d()), this.abort()) : r && r() }, g.prototype.end = function (e, t, r) { if (typeof e === 'function' ? (r = e, e = t = null) : typeof t === 'function' && (r = t, t = null), e) { const n = this; const o = this._currentRequest; this.write(e, t, function () { n._ended = !0, o.end(null, null, r) }), this._ending = !0 } else this._ended = this._ending = !0, this._currentRequest.end(null, null, r) }, g.prototype.setHeader = function (e, t) { this._options.headers[e] = t, this._currentRequest.setHeader(e, t) }, g.prototype.removeHeader = function (e) { delete this._options.headers[e], this._currentRequest.removeHeader(e) }, g.prototype.setTimeout = function (e, t) { const r = this; function n (t) { t.setTimeout(e), t.removeListener('timeout', t.destroy), t.addListener('timeout', t.destroy) } function o (t) { r._timeout && clearTimeout(r._timeout), r._timeout = setTimeout(function () { r.emit('timeout'), i() }, e), n(t) } function i () { r._timeout && (clearTimeout(r._timeout), r._timeout = null), r.removeListener('abort', i), r.removeListener('error', i), r.removeListener('response', i), t && r.removeListener('timeout', t), r.socket || r._currentRequest.removeListener('socket', o) } return t && this.on('timeout', t), this.socket ? o(this.socket) : this._currentRequest.once('socket', o), this.on('socket', n), this.on('abort', i), this.on('error', i), this.on('response', i), this }, ['flushHeaders', 'getHeader', 'setNoDelay', 'setSocketKeepAlive'].forEach(function (e) { g.prototype[e] = function (t, r) { return this._currentRequest[e](t, r) } }), ['aborted', 'connection', 'socket'].forEach(function (e) { Object.defineProperty(g.prototype, e, { get: function () { return this._currentRequest[e] } }) }), g.prototype._sanitizeOptions = function (e) { if (e.headers || (e.headers = {}), e.host && (e.hostname || (e.hostname = e.host), delete e.host), !e.pathname && e.path) { const t = e.path.indexOf('?'); t < 0 ? e.pathname = e.path : (e.pathname = e.path.substring(0, t), e.search = e.path.substring(t)) } }, g.prototype._performRequest = function () { const e = this._options.protocol; const t = this._options.nativeProtocols[e]; if (t) { if (this._options.agents) { const r = e.substr(0, e.length - 1); this._options.agent = this._options.agents[r] } const o = this._currentRequest = t.request(this._options, this._onNativeResponse); this._currentUrl = n.format(this._options), o._redirectable = this; for (let i = 0; i < f.length; i++)o.on(f[i], l[f[i]]); if (this._isRedirect) { let s = 0; const a = this; const u = this._requestBodyBuffers; !(function e (t) { if (o === a._currentRequest) if (t)a.emit('error', t); else if (s < u.length) { const r = u[s++]; o.finished || o.write(r.data, r.encoding, e) } else a._ended && o.end() }()) } } else this.emit('error', new TypeError('Unsupported protocol ' + e)) }, g.prototype._processResponse = function (e) { const t = e.statusCode; this._options.trackRedirects && this._redirects.push({ url: this._currentUrl, headers: e.headers, statusCode: t }); const r = e.headers.location; if (!r || !1 === this._options.followRedirects || t < 300 || t >= 400) return e.responseUrl = this._currentUrl, e.redirects = this._redirects, this.emit('response', e), void (this._requestBodyBuffers = []); if (_(this._currentRequest), e.destroy(), ++this._redirectCount > this._options.maxRedirects) this.emit('error', new h()); else { ((t === 301 || t === 302) && this._options.method === 'POST' || t === 303 && !/^(?:GET|HEAD)$/.test(this._options.method)) && (this._options.method = 'GET', this._requestBodyBuffers = [], w(/^content-/i, this._options.headers)); let o; const i = w(/^host$/i, this._options.headers); const s = n.parse(this._currentUrl); const a = i || s.host; const u = /^\w+:/.test(r) ? this._currentUrl : n.format(Object.assign(s, { host: a })); try { o = n.resolve(u, r) } catch (e) { return void this.emit('error', new p(e)) }c('redirecting to', o), this._isRedirect = !0; const f = n.parse(o); if (Object.assign(this._options, f), (f.protocol !== s.protocol && f.protocol !== 'https:' || f.host !== a && !(function (e, t) { const r = e.length - t.length - 1; return r > 0 && e[r] === '.' && e.endsWith(t) }(f.host, a))) && w(/^(?:authorization|cookie)$/i, this._options.headers), typeof this._options.beforeRedirect === 'function') { const l = { headers: e.headers }; try { this._options.beforeRedirect.call(null, this._options, l) } catch (e) { return void this.emit('error', e) } this._sanitizeOptions(this._options) } try { this._performRequest() } catch (e) { this.emit('error', new p(e)) } } }, e.exports = y({ http: i, https: s }), e.exports.wrap = y }, function (e, t, r) { e.exports = function (e) { function t (e) { let r; let o; let i; let s = null; function a (...e) { if (!a.enabled) return; const n = a; const o = Number(new Date()); const i = o - (r || o); n.diff = i, n.prev = r, n.curr = o, r = o, e[0] = t.coerce(e[0]), typeof e[0] !== 'string' && e.unshift('%O'); let s = 0; e[0] = e[0].replace(/%([a-zA-Z%])/g, (r, o) => { if (r === '%%') return '%'; s++; const i = t.formatters[o]; if (typeof i === 'function') { const t = e[s]; r = i.call(n, t), e.splice(s, 1), s-- } return r }), t.formatArgs.call(n, e); (n.log || t.log).apply(n, e) } return a.namespace = e, a.useColors = t.useColors(), a.color = t.selectColor(e), a.extend = n, a.destroy = t.destroy, Object.defineProperty(a, 'enabled', { enumerable: !0, configurable: !1, get: () => s !== null ? s : (o !== t.namespaces && (o = t.namespaces, i = t.enabled(e)), i), set: e => { s = e } }), typeof t.init === 'function' && t.init(a), a } function n (e, r) { const n = t(this.namespace + (void 0 === r ? ':' : r) + e); return n.log = this.log, n } function o (e) { return e.toString().substring(2, e.toString().length - 2).replace(/\.\*\?$/, '*') } return t.debug = t, t.default = t, t.coerce = function (e) { if (e instanceof Error) return e.stack || e.message; return e }, t.disable = function () { const e = [...t.names.map(o), ...t.skips.map(o).map(e => '-' + e)].join(','); return t.enable(''), e }, t.enable = function (e) { let r; t.save(e), t.namespaces = e, t.names = [], t.skips = []; const n = (typeof e === 'string' ? e : '').split(/[\s,]+/); const o = n.length; for (r = 0; r < o; r++)n[r] && ((e = n[r].replace(/\*/g, '.*?'))[0] === '-' ? t.skips.push(new RegExp('^' + e.substr(1) + '$')) : t.names.push(new RegExp('^' + e + '$'))) }, t.enabled = function (e) { if (e[e.length - 1] === '*') return !0; let r, n; for (r = 0, n = t.skips.length; r < n; r++) if (t.skips[r].test(e)) return !1; for (r = 0, n = t.names.length; r < n; r++) if (t.names[r].test(e)) return !0; return !1 }, t.humanize = r(46), t.destroy = function () { console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.') }, Object.keys(e).forEach(r => { t[r] = e[r] }), t.names = [], t.skips = [], t.formatters = {}, t.selectColor = function (e) { let r = 0; for (let t = 0; t < e.length; t++)r = (r << 5) - r + e.charCodeAt(t), r |= 0; return t.colors[Math.abs(r) % t.colors.length] }, t.enable(t.load()), t } }, function (e, t) { e.exports = require('tty') }, function (e) { e.exports = JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}') }, function (e, t, r) { 'use strict'; e.exports = function (e) { return !(!e || !e.__CANCEL__) } }, function (e, t, r) { 'use strict'; const n = r(1); e.exports = function (e, t) { t = t || {}; const r = {}; const o = ['url', 'method', 'data']; const i = ['headers', 'auth', 'proxy', 'params']; const s = ['baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer', 'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName', 'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress', 'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent', 'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding']; const a = ['validateStatus']; function u (e, t) { return n.isPlainObject(e) && n.isPlainObject(t) ? n.merge(e, t) : n.isPlainObject(t) ? n.merge({}, t) : n.isArray(t) ? t.slice() : t } function c (o) { n.isUndefined(t[o]) ? n.isUndefined(e[o]) || (r[o] = u(void 0, e[o])) : r[o] = u(e[o], t[o]) }n.forEach(o, function (e) { n.isUndefined(t[e]) || (r[e] = u(void 0, t[e])) }), n.forEach(i, c), n.forEach(s, function (o) { n.isUndefined(t[o]) ? n.isUndefined(e[o]) || (r[o] = u(void 0, e[o])) : r[o] = u(void 0, t[o]) }), n.forEach(a, function (n) { n in t ? r[n] = u(e[n], t[n]) : n in e && (r[n] = u(void 0, e[n])) }); const f = o.concat(i).concat(s).concat(a); const l = Object.keys(e).concat(Object.keys(t)).filter(function (e) { return f.indexOf(e) === -1 }); return n.forEach(l, c), r } }, function (e, t, r) { 'use strict'; function n (e) { this.message = e }n.prototype.toString = function () { return 'Cancel' + (this.message ? ': ' + this.message : '') }, n.prototype.__CANCEL__ = !0, e.exports = n }, function (e, t) { e.exports = require('buffer') }, function (e, t) { const r = function (e, t) { Error.call(this, e), Error.captureStackTrace && Error.captureStackTrace(this, this.constructor), this.name = 'JsonWebTokenError', this.message = e, t && (this.inner = t) }; (r.prototype = Object.create(Error.prototype)).constructor = r, e.exports = r }, function (e, t, r) { e.exports = r(31) }, function (e, t) { e.exports = require('assert') }, function (e, t, r) { const n = r(79); const o = r(84); t.ALGORITHMS = ['HS256', 'HS384', 'HS512', 'RS256', 'RS384', 'RS512', 'PS256', 'PS384', 'PS512', 'ES256', 'ES384', 'ES512'], t.sign = n.sign, t.verify = o.verify, t.decode = o.decode, t.isValid = o.isValid, t.createSign = function (e) { return new n(e) }, t.createVerify = function (e) { return new o(e) } }, function (e, t) { e.exports = require('events') }, function (e, t, r) { 'use strict'; const n = r(1); const o = r(15); const i = r(32); const s = r(23); function a (e) { const t = new i(e); const r = o(i.prototype.request, t); return n.extend(r, i.prototype, t), n.extend(r, t), r } const u = a(r(6)); u.Axios = i, u.create = function (e) { return a(s(u.defaults, e)) }, u.Cancel = r(24), u.CancelToken = r(53), u.isCancel = r(22), u.all = function (e) { return Promise.all(e) }, u.spread = r(54), u.isAxiosError = r(55), e.exports = u, e.exports.default = u }, function (e, t, r) { 'use strict'; const n = r(1); const o = r(5); const i = r(33); const s = r(34); const a = r(23); const u = r(52); const c = u.validators; function f (e) { this.defaults = e, this.interceptors = { request: new i(), response: new i() } }f.prototype.request = function (e) { typeof e === 'string' ? (e = arguments[1] || {}).url = arguments[0] : e = e || {}, (e = a(this.defaults, e)).method ? e.method = e.method.toLowerCase() : this.defaults.method ? e.method = this.defaults.method.toLowerCase() : e.method = 'get'; const t = e.transitional; void 0 !== t && u.assertOptions(t, { silentJSONParsing: c.transitional(c.boolean, '1.0.0'), forcedJSONParsing: c.transitional(c.boolean, '1.0.0'), clarifyTimeoutError: c.transitional(c.boolean, '1.0.0') }, !1); const r = []; let n = !0; this.interceptors.request.forEach(function (t) { typeof t.runWhen === 'function' && !1 === t.runWhen(e) || (n = n && t.synchronous, r.unshift(t.fulfilled, t.rejected)) }); let o; const i = []; if (this.interceptors.response.forEach(function (e) { i.push(e.fulfilled, e.rejected) }), !n) { let f = [s, void 0]; for (Array.prototype.unshift.apply(f, r), f = f.concat(i), o = Promise.resolve(e); f.length;)o = o.then(f.shift(), f.shift()); return o } for (var l = e; r.length;) { const p = r.shift(); const h = r.shift(); try { l = p(l) } catch (e) { h(e); break } } try { o = s(l) } catch (e) { return Promise.reject(e) } for (;i.length;)o = o.then(i.shift(), i.shift()); return o }, f.prototype.getUri = function (e) { return e = a(this.defaults, e), o(e.url, e.params, e.paramsSerializer).replace(/^\?/, '') }, n.forEach(['delete', 'get', 'head', 'options'], function (e) { f.prototype[e] = function (t, r) { return this.request(a(r || {}, { method: e, url: t, data: (r || {}).data })) } }), n.forEach(['post', 'put', 'patch'], function (e) { f.prototype[e] = function (t, r, n) { return this.request(a(n || {}, { method: e, url: t, data: r })) } }), e.exports = f }, function (e, t, r) { 'use strict'; const n = r(1); function o () { this.handlers = [] }o.prototype.use = function (e, t, r) { return this.handlers.push({ fulfilled: e, rejected: t, synchronous: !!r && r.synchronous, runWhen: r ? r.runWhen : null }), this.handlers.length - 1 }, o.prototype.eject = function (e) { this.handlers[e] && (this.handlers[e] = null) }, o.prototype.forEach = function (e) { n.forEach(this.handlers, function (t) { t !== null && e(t) }) }, e.exports = o }, function (e, t, r) { 'use strict'; const n = r(1); const o = r(35); const i = r(22); const s = r(6); function a (e) { e.cancelToken && e.cancelToken.throwIfRequested() }e.exports = function (e) { return a(e), e.headers = e.headers || {}, e.data = o.call(e, e.data, e.headers, e.transformRequest), e.headers = n.merge(e.headers.common || {}, e.headers[e.method] || {}, e.headers), n.forEach(['delete', 'get', 'head', 'post', 'put', 'patch', 'common'], function (t) { delete e.headers[t] }), (e.adapter || s.adapter)(e).then(function (t) { return a(e), t.data = o.call(e, t.data, t.headers, e.transformResponse), t }, function (t) { return i(t) || (a(e), t && t.response && (t.response.data = o.call(e, t.response.data, t.response.headers, e.transformResponse))), Promise.reject(t) }) } }, function (e, t, r) { 'use strict'; const n = r(1); const o = r(6); e.exports = function (e, t, r) { const i = this || o; return n.forEach(r, function (r) { e = r.call(i, e, t) }), e } }, function (e, t, r) { 'use strict'; const n = r(1); e.exports = function (e, t) { n.forEach(e, function (r, n) { n !== t && n.toUpperCase() === t.toUpperCase() && (e[t] = r, delete e[n]) }) } }, function (e, t, r) { 'use strict'; const n = r(1); const o = r(16); const i = r(38); const s = r(5); const a = r(17); const u = r(41); const c = r(42); const f = r(8); e.exports = function (e) { return new Promise(function (t, r) { let l = e.data; const p = e.headers; const h = e.responseType; n.isFormData(l) && delete p['Content-Type']; let d = new XMLHttpRequest(); if (e.auth) { const v = e.auth.username || ''; const g = e.auth.password ? unescape(encodeURIComponent(e.auth.password)) : ''; p.Authorization = 'Basic ' + btoa(v + ':' + g) } const y = a(e.baseURL, e.url); function m () { if (d) { const n = 'getAllResponseHeaders' in d ? u(d.getAllResponseHeaders()) : null; const i = { data: h && h !== 'text' && h !== 'json' ? d.response : d.responseText, status: d.status, statusText: d.statusText, headers: n, config: e, request: d }; o(t, r, i), d = null } } if (d.open(e.method.toUpperCase(), s(y, e.params, e.paramsSerializer), !0), d.timeout = e.timeout, 'onloadend' in d ? d.onloadend = m : d.onreadystatechange = function () { d && d.readyState === 4 && (d.status !== 0 || d.responseURL && d.responseURL.indexOf('file:') === 0) && setTimeout(m) }, d.onabort = function () { d && (r(f('Request aborted', e, 'ECONNABORTED', d)), d = null) }, d.onerror = function () { r(f('Network Error', e, null, d)), d = null }, d.ontimeout = function () { let t = 'timeout of ' + e.timeout + 'ms exceeded'; e.timeoutErrorMessage && (t = e.timeoutErrorMessage), r(f(t, e, e.transitional && e.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED', d)), d = null }, n.isStandardBrowserEnv()) { const b = (e.withCredentials || c(y)) && e.xsrfCookieName ? i.read(e.xsrfCookieName) : void 0; b && (p[e.xsrfHeaderName] = b) }'setRequestHeader' in d && n.forEach(p, function (e, t) { void 0 === l && t.toLowerCase() === 'content-type' ? delete p[t] : d.setRequestHeader(t, e) }), n.isUndefined(e.withCredentials) || (d.withCredentials = !!e.withCredentials), h && h !== 'json' && (d.responseType = e.responseType), typeof e.onDownloadProgress === 'function' && d.addEventListener('progress', e.onDownloadProgress), typeof e.onUploadProgress === 'function' && d.upload && d.upload.addEventListener('progress', e.onUploadProgress), e.cancelToken && e.cancelToken.promise.then(function (e) { d && (d.abort(), r(e), d = null) }), l || (l = null), d.send(l) }) } }, function (e, t, r) { 'use strict'; const n = r(1); e.exports = n.isStandardBrowserEnv() ? { write: function (e, t, r, o, i, s) { const a = []; a.push(e + '=' + encodeURIComponent(t)), n.isNumber(r) && a.push('expires=' + new Date(r).toGMTString()), n.isString(o) && a.push('path=' + o), n.isString(i) && a.push('domain=' + i), !0 === s && a.push('secure'), document.cookie = a.join('; ') }, read: function (e) { const t = document.cookie.match(new RegExp('(^|;\\s*)(' + e + ')=([^;]*)')); return t ? decodeURIComponent(t[3]) : null }, remove: function (e) { this.write(e, '', Date.now() - 864e5) } } : { write: function () {}, read: function () { return null }, remove: function () {} } }, function (e, t, r) { 'use strict'; e.exports = function (e) { return /^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e) } }, function (e, t, r) { 'use strict'; e.exports = function (e, t) { return t ? e.replace(/\/+$/, '') + '/' + t.replace(/^\/+/, '') : e } }, function (e, t, r) { 'use strict'; const n = r(1); const o = ['age', 'authorization', 'content-length', 'content-type', 'etag', 'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since', 'last-modified', 'location', 'max-forwards', 'proxy-authorization', 'referer', 'retry-after', 'user-agent']; e.exports = function (e) { let t; let r; let i; const s = {}; return e ? (n.forEach(e.split('\n'), function (e) { if (i = e.indexOf(':'), t = n.trim(e.substr(0, i)).toLowerCase(), r = n.trim(e.substr(i + 1)), t) { if (s[t] && o.indexOf(t) >= 0) return; s[t] = t === 'set-cookie' ? (s[t] ? s[t] : []).concat([r]) : s[t] ? s[t] + ', ' + r : r } }), s) : s } }, function (e, t, r) { 'use strict'; const n = r(1); e.exports = n.isStandardBrowserEnv() ? (function () { let e; const t = /(msie|trident)/i.test(navigator.userAgent); const r = document.createElement('a'); function o (e) { let n = e; return t && (r.setAttribute('href', n), n = r.href), r.setAttribute('href', n), { href: r.href, protocol: r.protocol ? r.protocol.replace(/:$/, '') : '', host: r.host, search: r.search ? r.search.replace(/^\?/, '') : '', hash: r.hash ? r.hash.replace(/^#/, '') : '', hostname: r.hostname, port: r.port, pathname: r.pathname.charAt(0) === '/' ? r.pathname : '/' + r.pathname } } return e = o(window.location.href), function (t) { const r = n.isString(t) ? o(t) : t; return r.protocol === e.protocol && r.host === e.host } }()) : function () { return !0 } }, function (e, t, r) { 'use strict'; const n = r(1); const o = r(16); const i = r(17); const s = r(5); const a = r(10); const u = r(11); const c = r(18).http; const f = r(18).https; const l = r(3); const p = r(51); const h = r(21); const d = r(8); const v = r(7); const g = /https:?/; e.exports = function (e) { return new Promise(function (t, r) { const y = function (e) { t(e) }; const m = function (e) { r(e) }; let b = e.data; const w = e.headers; if ('User-Agent' in w || 'user-agent' in w ? w['User-Agent'] || w['user-agent'] || (delete w['User-Agent'], delete w['user-agent']) : w['User-Agent'] = 'axios/' + h.version, b && !n.isStream(b)) { if (Buffer.isBuffer(b));else if (n.isArrayBuffer(b))b = Buffer.from(new Uint8Array(b)); else { if (!n.isString(b)) return m(d('Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream', e)); b = Buffer.from(b, 'utf-8') }w['Content-Length'] = b.length } let x = void 0; e.auth && (x = (e.auth.username || '') + ':' + (e.auth.password || '')); const _ = i(e.baseURL, e.url); const S = l.parse(_); const E = S.protocol || 'http:'; if (!x && S.auth) { const j = S.auth.split(':'); x = (j[0] || '') + ':' + (j[1] || '') }x && delete w.Authorization; const k = g.test(E); const O = k ? e.httpsAgent : e.httpAgent; const C = { path: s(S.path, e.params, e.paramsSerializer).replace(/^\?/, ''), method: e.method.toUpperCase(), headers: w, agent: O, agents: { http: e.httpAgent, https: e.httpsAgent }, auth: x }; e.socketPath ? C.socketPath = e.socketPath : (C.hostname = S.hostname, C.port = S.port); let A; let R = e.proxy; if (!R && !1 !== R) { const T = E.slice(0, -1) + '_proxy'; const P = process.env[T] || process.env[T.toUpperCase()]; if (P) { const B = l.parse(P); const I = process.env.no_proxy || process.env.NO_PROXY; let N = !0; if (I)N = !I.split(',').map(function (e) { return e.trim() }).some(function (e) { return !!e && (e === '*' || (e[0] === '.' && S.hostname.substr(S.hostname.length - e.length) === e || S.hostname === e)) }); if (N && (R = { host: B.hostname, port: B.port, protocol: B.protocol }, B.auth)) { const F = B.auth.split(':'); R.auth = { username: F[0], password: F[1] } } } }R && (C.headers.host = S.hostname + (S.port ? ':' + S.port : ''), (function e (t, r, n) { if (t.hostname = r.host, t.host = r.host, t.port = r.port, t.path = n, r.auth) { const o = Buffer.from(r.auth.username + ':' + r.auth.password, 'utf8').toString('base64'); t.headers['Proxy-Authorization'] = 'Basic ' + o }t.beforeRedirect = function (t) { t.headers.host = t.host, e(t, r, t.href) } }(C, R, E + '//' + S.hostname + (S.port ? ':' + S.port : '') + C.path))); const L = k && (!R || g.test(R.protocol)); e.transport ? A = e.transport : e.maxRedirects === 0 ? A = L ? u : a : (e.maxRedirects && (C.maxRedirects = e.maxRedirects), A = L ? f : c), e.maxBodyLength > -1 && (C.maxBodyLength = e.maxBodyLength); var M = A.request(C, function (t) { if (!M.aborted) { let r = t; const i = t.req || M; if (t.statusCode !== 204 && i.method !== 'HEAD' && !1 !== e.decompress) switch (t.headers['content-encoding']) { case 'gzip':case 'compress':case 'deflate':r = r.pipe(p.createUnzip()), delete t.headers['content-encoding'] } const s = { status: t.statusCode, statusText: t.statusMessage, headers: t.headers, config: e, request: i }; if (e.responseType === 'stream')s.data = r, o(y, m, s); else { const a = []; let u = 0; r.on('data', function (t) { a.push(t), u += t.length, e.maxContentLength > -1 && u > e.maxContentLength && (r.destroy(), m(d('maxContentLength size of ' + e.maxContentLength + ' exceeded', e, null, i))) }), r.on('error', function (t) { M.aborted || m(v(t, e, null, i)) }), r.on('end', function () { let t = Buffer.concat(a); e.responseType !== 'arraybuffer' && (t = t.toString(e.responseEncoding), e.responseEncoding && e.responseEncoding !== 'utf8' || (t = n.stripBOM(t))), s.data = t, o(y, m, s) }) } } }); if (M.on('error', function (t) { M.aborted && t.code !== 'ERR_FR_TOO_MANY_REDIRECTS' || m(v(t, e, null, M)) }), e.timeout) { const K = parseInt(e.timeout, 10); if (isNaN(K)) return void m(d('error trying to parse `config.timeout` to int', e, 'ERR_PARSE_TIMEOUT', M)); M.setTimeout(K, function () { M.abort(), m(d('timeout of ' + K + 'ms exceeded', e, e.transitional && e.transitional.clarifyTimeoutError ? 'ETIMEDOUT' : 'ECONNABORTED', M)) }) }e.cancelToken && e.cancelToken.promise.then(function (e) { M.aborted || (M.abort(), m(e)) }), n.isStream(b) ? b.on('error', function (t) { m(v(t, e, null, M)) }).pipe(M) : M.end(b) }) } }, function (e, t, r) { let n; e.exports = function () { if (!n) { try { n = r(2)('follow-redirects') } catch (e) {} typeof n !== 'function' && (n = function () {}) }n.apply(null, arguments) } }, function (e, t, r) { t.formatArgs = function (t) { if (t[0] = (this.useColors ? '%c' : '') + this.namespace + (this.useColors ? ' %c' : ' ') + t[0] + (this.useColors ? '%c ' : ' ') + '+' + e.exports.humanize(this.diff), !this.useColors) return; const r = 'color: ' + this.color; t.splice(1, 0, r, 'color: inherit'); let n = 0; let o = 0; t[0].replace(/%[a-zA-Z%]/g, e => { e !== '%%' && (n++, e === '%c' && (o = n)) }), t.splice(o, 0, r) }, t.save = function (e) { try { e ? t.storage.setItem('debug', e) : t.storage.removeItem('debug') } catch (e) {} }, t.load = function () { let e; try { e = t.storage.getItem('debug') } catch (e) {}!e && typeof process !== 'undefined' && 'env' in process && (e = process.env.DEBUG); return e }, t.useColors = function () { if (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) return !0; if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) return !1; return typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || typeof window !== 'undefined' && window.console && (window.console.firebug || window.console.exception && window.console.table) || typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/) }, t.storage = (function () { try { return localStorage } catch (e) {} }()), t.destroy = (() => { let e = !1; return () => { e || (e = !0, console.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.')) } })(), t.colors = ['#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC', '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF', '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC', '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF', '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC', '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033', '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366', '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933', '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC', '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF', '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'], t.log = console.debug || console.log || (() => {}), e.exports = r(19)(t); const { formatters: n } = e.exports; n.j = function (e) { try { return JSON.stringify(e) } catch (e) { return '[UnexpectedJSONParseError]: ' + e.message } } }, function (e, t) { const r = 1e3; const n = 6e4; const o = 60 * n; const i = 24 * o; function s (e, t, r, n) { const o = t >= 1.5 * r; return Math.round(e / r) + ' ' + n + (o ? 's' : '') }e.exports = function (e, t) { t = t || {}; const a = typeof e; if (a === 'string' && e.length > 0) return (function (e) { if ((e = String(e)).length > 100) return; const t = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e); if (!t) return; const s = parseFloat(t[1]); switch ((t[2] || 'ms').toLowerCase()) { case 'years':case 'year':case 'yrs':case 'yr':case 'y':return 315576e5 * s; case 'weeks':case 'week':case 'w':return 6048e5 * s; case 'days':case 'day':case 'd':return s * i; case 'hours':case 'hour':case 'hrs':case 'hr':case 'h':return s * o; case 'minutes':case 'minute':case 'mins':case 'min':case 'm':return s * n; case 'seconds':case 'second':case 'secs':case 'sec':case 's':return s * r; case 'milliseconds':case 'millisecond':case 'msecs':case 'msec':case 'ms':return s; default: } }(e)); if (a === 'number' && isFinite(e)) return t.long ? (function (e) { const t = Math.abs(e); if (t >= i) return s(e, t, i, 'day'); if (t >= o) return s(e, t, o, 'hour'); if (t >= n) return s(e, t, n, 'minute'); if (t >= r) return s(e, t, r, 'second'); return e + ' ms' }(e)) : (function (e) { const t = Math.abs(e); if (t >= i) return Math.round(e / i) + 'd'; if (t >= o) return Math.round(e / o) + 'h'; if (t >= n) return Math.round(e / n) + 'm'; if (t >= r) return Math.round(e / r) + 's'; return e + 'ms' }(e)); throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(e)) } }, function (e, t, r) { const n = r(20); const o = r(4); t.init = function (e) { e.inspectOpts = {}; const r = Object.keys(t.inspectOpts); for (let n = 0; n < r.length; n++)e.inspectOpts[r[n]] = t.inspectOpts[r[n]] }, t.log = function (...e) { return process.stderr.write(o.format(...e) + '\n') }, t.formatArgs = function (r) { const { namespace: n, useColors: o } = this; if (o) { const t = this.color; const o = '[3' + (t < 8 ? t : '8;5;' + t); const i = `  ${o};1m${n} [0m`; r[0] = i + r[0].split('\n').join('\n' + i), r.push(o + 'm+' + e.exports.humanize(this.diff) + '[0m') } else r[0] = (function () { if (t.inspectOpts.hideDate) return ''; return (new Date()).toISOString() + ' ' }()) + n + ' ' + r[0] }, t.save = function (e) { e ? process.env.DEBUG = e : delete process.env.DEBUG }, t.load = function () { return process.env.DEBUG }, t.useColors = function () { return 'colors' in t.inspectOpts ? Boolean(t.inspectOpts.colors) : n.isatty(process.stderr.fd) }, t.destroy = o.deprecate(() => {}, 'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'), t.colors = [6, 2, 3, 4, 5, 1]; try { const e = r(48); e && (e.stderr || e).level >= 2 && (t.colors = [20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68, 69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134, 135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 214, 215, 220, 221]) } catch (e) {}t.inspectOpts = Object.keys(process.env).filter(e => /^debug_/i.test(e)).reduce((e, t) => { const r = t.substring(6).toLowerCase().replace(/_([a-z])/g, (e, t) => t.toUpperCase()); let n = process.env[t]; return n = !!/^(yes|on|true|enabled)$/i.test(n) || !/^(no|off|false|disabled)$/i.test(n) && (n === 'null' ? null : Number(n)), e[r] = n, e }, {}), e.exports = r(19)(t); const { formatters: i } = e.exports; i.o = function (e) { return this.inspectOpts.colors = this.useColors, o.inspect(e, this.inspectOpts).split('\n').map(e => e.trim()).join(' ') }, i.O = function (e) { return this.inspectOpts.colors = this.useColors, o.inspect(e, this.inspectOpts) } }, function (e, t, r) { 'use strict'; const n = r(49); const o = r(20); const i = r(50); const { env: s } = process; let a; function u (e) { return e !== 0 && { level: e, hasBasic: !0, has256: e >= 2, has16m: e >= 3 } } function c (e, t) { if (a === 0) return 0; if (i('color=16m') || i('color=full') || i('color=truecolor')) return 3; if (i('color=256')) return 2; if (e && !t && void 0 === a) return 0; const r = a || 0; if (s.TERM === 'dumb') return r; if (process.platform === 'win32') { const e = n.release().split('.'); return Number(e[0]) >= 10 && Number(e[2]) >= 10586 ? Number(e[2]) >= 14931 ? 3 : 2 : 1 } if ('CI' in s) return ['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(e => e in s) || s.CI_NAME === 'codeship' ? 1 : r; if ('TEAMCITY_VERSION' in s) return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION) ? 1 : 0; if (s.COLORTERM === 'truecolor') return 3; if ('TERM_PROGRAM' in s) { const e = parseInt((s.TERM_PROGRAM_VERSION || '').split('.')[0], 10); switch (s.TERM_PROGRAM) { case 'iTerm.app':return e >= 3 ? 3 : 2; case 'Apple_Terminal':return 2 } } return /-256(color)?$/i.test(s.TERM) ? 2 : /^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM) || 'COLORTERM' in s ? 1 : r }i('no-color') || i('no-colors') || i('color=false') || i('color=never') ? a = 0 : (i('color') || i('colors') || i('color=true') || i('color=always')) && (a = 1), 'FORCE_COLOR' in s && (a = s.FORCE_COLOR === 'true' ? 1 : s.FORCE_COLOR === 'false' ? 0 : s.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(s.FORCE_COLOR, 10), 3)), e.exports = { supportsColor: function (e) { return u(c(e, e && e.isTTY)) }, stdout: u(c(!0, o.isatty(1))), stderr: u(c(!0, o.isatty(2))) } }, function (e, t) { e.exports = require('os') }, function (e, t, r) { 'use strict'; e.exports = (e, t = process.argv) => { const r = e.startsWith('-') ? '' : e.length === 1 ? '-' : '--'; const n = t.indexOf(r + e); const o = t.indexOf('--'); return n !== -1 && (o === -1 || n < o) } }, function (e, t) { e.exports = require('zlib') }, function (e, t, r) { 'use strict'; const n = r(21); const o = {}; ['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach(function (e, t) { o[e] = function (r) { return typeof r === e || 'a' + (t < 1 ? 'n ' : ' ') + e } }); const i = {}; const s = n.version.split('.'); function a (e, t) { for (let r = t ? t.split('.') : s, n = e.split('.'), o = 0; o < 3; o++) { if (r[o] > n[o]) return !0; if (r[o] < n[o]) return !1 } return !1 }o.transitional = function (e, t, r) { const o = t && a(t); function s (e, t) { return '[Axios v' + n.version + "] Transitional option '" + e + "'" + t + (r ? '. ' + r : '') } return function (r, n, a) { if (!1 === e) throw new Error(s(n, ' has been removed in ' + t)); return o && !i[n] && (i[n] = !0, console.warn(s(n, ' has been deprecated since v' + t + ' and will be removed in the near future'))), !e || e(r, n, a) } }, e.exports = { isOlderVersion: a, assertOptions: function (e, t, r) { if (typeof e !== 'object') throw new TypeError('options must be an object'); for (let n = Object.keys(e), o = n.length; o-- > 0;) { const i = n[o]; const s = t[i]; if (s) { const a = e[i]; const u = void 0 === a || s(a, i, e); if (!0 !== u) throw new TypeError('option ' + i + ' must be ' + u) } else if (!0 !== r) throw Error('Unknown option ' + i) } }, validators: o } }, function (e, t, r) { 'use strict'; const n = r(24); function o (e) { if (typeof e !== 'function') throw new TypeError('executor must be a function.'); let t; this.promise = new Promise(function (e) { t = e }); const r = this; e(function (e) { r.reason || (r.reason = new n(e), t(r.reason)) }) }o.prototype.throwIfRequested = function () { if (this.reason) throw this.reason }, o.source = function () { let e; return { token: new o(function (t) { e = t }), cancel: e } }, e.exports = o }, function (e, t, r) { 'use strict'; e.exports = function (e) { return function (t) { return e.apply(null, t) } } }, function (e, t, r) { 'use strict'; e.exports = function (e) { return typeof e === 'object' && !0 === e.isAxiosError } }, function (e, t, r) { e.exports = { decode: r(57), verify: r(85), sign: r(87), JsonWebTokenError: r(26), NotBeforeError: r(61), TokenExpiredError: r(62) } }, function (e, t, r) { const n = r(29); e.exports = function (e, t) { t = t || {}; const r = n.decode(e, t); if (!r) return null; let o = r.payload; if (typeof o === 'string') try { const i = JSON.parse(o); i !== null && typeof i === 'object' && (o = i) } catch (e) {} return !0 === t.complete ? { header: r.header, payload: o, signature: r.signature } : o } }, function (e, t, r) { const n = r(12).Buffer; const o = r(9); function i (e) { if (this.buffer = null, this.writable = !0, this.readable = !0, !e) return this.buffer = n.alloc(0), this; if (typeof e.pipe === 'function') return this.buffer = n.alloc(0), e.pipe(this), this; if (e.length || typeof e === 'object') return this.buffer = e, this.writable = !1, process.nextTick(function () { this.emit('end', e), this.readable = !1, this.emit('close') }.bind(this)), this; throw new TypeError('Unexpected data type (' + typeof e + ')') }r(4).inherits(i, o), i.prototype.write = function (e) { this.buffer = n.concat([this.buffer, n.from(e)]), this.emit('data', e) }, i.prototype.end = function (e) { e && this.write(e), this.emit('end', e), this.emit('close'), this.writable = !1, this.readable = !1 }, e.exports = i }, function (e, t, r) { const n = r(80); const o = r(12).Buffer; const i = r(81); const s = r(82); const a = r(4); let u = 'secret must be a string or buffer'; let c = 'key must be a string or a buffer'; const f = typeof i.createPublicKey === 'function'; function l (e) { if (!o.isBuffer(e) && typeof e !== 'string') { if (!f) throw v(c); if (typeof e !== 'object') throw v(c); if (typeof e.type !== 'string') throw v(c); if (typeof e.asymmetricKeyType !== 'string') throw v(c); if (typeof e.export !== 'function') throw v(c) } } function p (e) { if (!o.isBuffer(e) && typeof e !== 'string' && typeof e !== 'object') throw v('key must be a string, a buffer or an object') } function h (e) { return e.replace(/=/g, '').replace(/\+/g, '-').replace(/\//g, '_') } function d (e) { const t = 4 - (e = e.toString()).length % 4; if (t !== 4) for (let r = 0; r < t; ++r)e += '='; return e.replace(/\-/g, '+').replace(/_/g, '/') } function v (e) { const t = [].slice.call(arguments, 1); const r = a.format.bind(a, e).apply(null, t); return new TypeError(r) } function g (e) { let t; return t = e, o.isBuffer(t) || typeof t === 'string' || (e = JSON.stringify(e)), e } function y (e) { return function (t, r) { !(function (e) { if (!o.isBuffer(e)) { if (typeof e === 'string') return e; if (!f) throw v(u); if (typeof e !== 'object') throw v(u); if (e.type !== 'secret') throw v(u); if (typeof e.export !== 'function') throw v(u) } }(r)), t = g(t); const n = i.createHmac('sha' + e, r); return h((n.update(t), n.digest('base64'))) } } function m (e) { return function (t, r, i) { const s = y(e)(t, i); return n(o.from(r), o.from(s)) } } function b (e) { return function (t, r) { p(r), t = g(t); const n = i.createSign('RSA-SHA' + e); return h((n.update(t), n.sign(r, 'base64'))) } } function w (e) { return function (t, r, n) { l(n), t = g(t), r = d(r); const o = i.createVerify('RSA-SHA' + e); return o.update(t), o.verify(n, r, 'base64') } } function x (e) { return function (t, r) { p(r), t = g(t); const n = i.createSign('RSA-SHA' + e); return h((n.update(t), n.sign({ key: r, padding: i.constants.RSA_PKCS1_PSS_PADDING, saltLength: i.constants.RSA_PSS_SALTLEN_DIGEST }, 'base64'))) } } function _ (e) { return function (t, r, n) { l(n), t = g(t), r = d(r); const o = i.createVerify('RSA-SHA' + e); return o.update(t), o.verify({ key: n, padding: i.constants.RSA_PKCS1_PSS_PADDING, saltLength: i.constants.RSA_PSS_SALTLEN_DIGEST }, r, 'base64') } } function S (e) { const t = b(e); return function () { let r = t.apply(null, arguments); return r = s.derToJose(r, 'ES' + e) } } function E (e) { const t = w(e); return function (r, n, o) { return n = s.joseToDer(n, 'ES' + e).toString('base64'), t(r, n, o) } } function j () { return function () { return '' } } function k () { return function (e, t) { return t === '' } }f && (c += ' or a KeyObject', u += 'or a KeyObject'), e.exports = function (e) { const t = { hs: y, rs: b, ps: x, es: S, none: j }; const r = { hs: m, rs: w, ps: _, es: E, none: k }; const n = e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i); if (!n) throw v('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".', e); const o = (n[1] || n[3]).toLowerCase(); const i = n[2]; return { sign: t[o](i), verify: r[o](i) } } }, function (e, t, r) { const n = r(25).Buffer; e.exports = function (e) { return typeof e === 'string' ? e : typeof e === 'number' || n.isBuffer(e) ? e.toString() : JSON.stringify(e) } }, function (e, t, r) { const n = r(26); const o = function (e, t) { n.call(this, e), this.name = 'NotBeforeError', this.date = t }; (o.prototype = Object.create(n.prototype)).constructor = o, e.exports = o }, function (e, t, r) { const n = r(26); const o = function (e, t) { n.call(this, e), this.name = 'TokenExpiredError', this.expiredAt = t }; (o.prototype = Object.create(n.prototype)).constructor = o, e.exports = o }, function (e, t, r) { const n = r(64); e.exports = function (e, t) { const r = t || Math.floor(Date.now() / 1e3); if (typeof e === 'string') { const o = n(e); if (void 0 === o) return; return Math.floor(r + o / 1e3) } return typeof e === 'number' ? r + e : void 0 } }, function (e, t) { const r = 1e3; const n = 6e4; const o = 60 * n; const i = 24 * o; function s (e, t, r, n) { const o = t >= 1.5 * r; return Math.round(e / r) + ' ' + n + (o ? 's' : '') }e.exports = function (e, t) { t = t || {}; const a = typeof e; if (a === 'string' && e.length > 0) return (function (e) { if ((e = String(e)).length > 100) return; const t = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e); if (!t) return; const s = parseFloat(t[1]); switch ((t[2] || 'ms').toLowerCase()) { case 'years':case 'year':case 'yrs':case 'yr':case 'y':return 315576e5 * s; case 'weeks':case 'week':case 'w':return 6048e5 * s; case 'days':case 'day':case 'd':return s * i; case 'hours':case 'hour':case 'hrs':case 'hr':case 'h':return s * o; case 'minutes':case 'minute':case 'mins':case 'min':case 'm':return s * n; case 'seconds':case 'second':case 'secs':case 'sec':case 's':return s * r; case 'milliseconds':case 'millisecond':case 'msecs':case 'msec':case 'ms':return s; default: } }(e)); if (a === 'number' && isFinite(e)) return t.long ? (function (e) { const t = Math.abs(e); if (t >= i) return s(e, t, i, 'day'); if (t >= o) return s(e, t, o, 'hour'); if (t >= n) return s(e, t, n, 'minute'); if (t >= r) return s(e, t, r, 'second'); return e + ' ms' }(e)) : (function (e) { const t = Math.abs(e); if (t >= i) return Math.round(e / i) + 'd'; if (t >= o) return Math.round(e / o) + 'h'; if (t >= n) return Math.round(e / n) + 'm'; if (t >= r) return Math.round(e / r) + 's'; return e + 'ms' }(e)); throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(e)) } }, function (e, t, r) { const n = r(86); e.exports = n.satisfies(process.version, '^6.12.0 || >=8.0.0') }, function (e, t) { e.exports = require('net') }, function (e, t) { e.exports = require('tls') }, function (e, t, r) { 'use strict'; const n = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; const o = r(30); const i = n(r(2)); const s = n(r(100)); const a = i.default('agent-base'); function u () { const { stack: e } = new Error(); return typeof e === 'string' && e.split('\n').some(e => e.indexOf('(https.js:') !== -1 || e.indexOf('node:https:') !== -1) } function c (e, t) { return new c.Agent(e, t) }!(function (e) { class t extends o.EventEmitter {constructor (e, t) { super(); let r = t; typeof e === 'function' ? this.callback = e : e && (r = e), this.timeout = null, r && typeof r.timeout === 'number' && (this.timeout = r.timeout), this.maxFreeSockets = 1, this.maxSockets = 1, this.maxTotalSockets = 1 / 0, this.sockets = {}, this.freeSockets = {}, this.requests = {}, this.options = {} } get defaultPort () { return typeof this.explicitDefaultPort === 'number' ? this.explicitDefaultPort : u() ? 443 : 80 } set defaultPort (e) { this.explicitDefaultPort = e } get protocol () { return typeof this.explicitProtocol === 'string' ? this.explicitProtocol : u() ? 'https:' : 'http:' } set protocol (e) { this.explicitProtocol = e }callback (e, t, r) { throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`') }addRequest (e, t) { const r = Object.assign({}, t); typeof r.secureEndpoint !== 'boolean' && (r.secureEndpoint = u()), r.host == null && (r.host = 'localhost'), r.port == null && (r.port = r.secureEndpoint ? 443 : 80), r.protocol == null && (r.protocol = r.secureEndpoint ? 'https:' : 'http:'), r.host && r.path && delete r.path, delete r.agent, delete r.hostname, delete r._defaultAgent, delete r.defaultPort, delete r.createConnection, e._last = !0, e.shouldKeepAlive = !1; let n = !1; let o = null; const i = r.timeout || this.timeout; const c = t => { e._hadError || (e.emit('error', t), e._hadError = !0) }; const f = () => { o = null, n = !0; const e = new Error(`A "socket" was not created for HTTP request before ${i}ms`); e.code = 'ETIMEOUT', c(e) }; const l = e => { n || (o !== null && (clearTimeout(o), o = null), c(e)) }; const p = t => { if (n) return; if (o != null && (clearTimeout(o), o = null), i = t, Boolean(i) && typeof i.addRequest === 'function') return a('Callback returned another Agent instance %o', t.constructor.name), void t.addRequest(e, r); let i; if (t) return t.once('free', () => { this.freeSocket(t, r) }), void e.onSocket(t); const s = new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``); c(s) }; if (typeof this.callback === 'function') { this.promisifiedCallback || (this.callback.length >= 3 ? (a('Converting legacy callback function to promise'), this.promisifiedCallback = s.default(this.callback)) : this.promisifiedCallback = this.callback), typeof i === 'number' && i > 0 && (o = setTimeout(f, i)), 'port' in r && typeof r.port !== 'number' && (r.port = Number(r.port)); try { a('Resolving socket for %o request: %o', r.protocol, `${e.method} ${e.path}`), Promise.resolve(this.promisifiedCallback(e, r)).then(p, l) } catch (e) { Promise.reject(e).catch(l) } } else c(new Error('`callback` is not defined')) }freeSocket (e, t) { a('Freeing socket %o %o', e.constructor.name, t), e.destroy() }destroy () { a('Destroying agent %o', this.constructor.name) }}e.Agent = t, e.prototype = e.Agent.prototype }(c || (c = {}))), e.exports = c }, function (e, t, r) { 'use strict'; function n (e) { Error.call(this, e), Error.captureStackTrace(this, this.constructor), this.name = 'JwksError', this.message = e }n.prototype = Object.create(Error.prototype), n.prototype.constructor = n, e.exports = n }, function (e, t, r) { 'use strict'; function n (e) { Error.call(this, e), Error.captureStackTrace(this, this.constructor), this.name = 'SigningKeyNotFoundError', this.message = e }n.prototype = Object.create(Error.prototype), n.prototype.constructor = n, e.exports = n }, function (e, t, r) { 'use strict'; function n (e) { return e = '-----BEGIN CERTIFICATE-----\n' + (e = e.match(/.{1,64}/g).join('\n')) + '\n-----END CERTIFICATE-----\n' } function o (e) { const t = e[0]; return t < '0' || t > '7' ? '00' + e : e } function i (e) { const t = e.toString(16); return t.length % 2 ? '0' + t : t } function s (e) { if (e <= 127) return i(e); const t = i(e); return i(128 + t.length / 2) + t } function a (e, t) { const r = Buffer.from(e, 'base64'); const n = Buffer.from(t, 'base64'); const i = o(r.toString('hex')); const a = o(n.toString('hex')); const u = i.length / 2; const c = a.length / 2; const f = s(u); const l = s(c); const p = '30' + s(u + c + f.length / 2 + l.length / 2 + 2) + '02' + f + i + '02' + l + a; let h = '-----BEGIN RSA PUBLIC KEY-----\n'; return h += '' + Buffer.from(p, 'hex').toString('base64').match(/.{1,64}/g).join('\n'), h += '\n-----END RSA PUBLIC KEY-----\n' }Object.defineProperty(t, '__esModule', { value: !0 }), t.certToPEM = n, t.rsaPublicKeyToPEM = a, t.retrieveSigningKeys = function (e) { return e.filter(function (e) { return e.kty === 'RSA' && ((!e.hasOwnProperty('use') || e.use === 'sig') && (e.x5c && e.x5c.length || e.n && e.e)) }).map(function (e) { const t = { kid: e.kid, alg: e.alg, nbf: e.nbf }; return e.x5c && e.x5c.length ? (t.publicKey = n(e.x5c[0]), t.getPublicKey = function () { return t.publicKey }) : (t.rsaPublicKey = a(e.n, e.e), t.getPublicKey = function () { return t.rsaPublicKey }), t }) } }, function (e, t, r) { e.exports = l; let n; const o = r(109); const i = r(4); const s = r(111); const a = {}; const u = typeof Symbol === 'function'; function c (e, t, r) { let o; return a[t] ? o = a[t] : (o = n(t), a[t] = o), arguments.length === 2 ? e[o] : (e[o] = r, r) } function f () { return 1 } function l (e) { if (!(this instanceof l)) return new l(e); typeof e === 'number' && (e = { max: e }), e || (e = {}); const t = c(this, 'max', e.max); (!t || typeof t !== 'number' || t <= 0) && c(this, 'max', 1 / 0); let r = e.length || f; typeof r !== 'function' && (r = f), c(this, 'lengthCalculator', r), c(this, 'allowStale', e.stale || !1), c(this, 'maxAge', e.maxAge || 0), c(this, 'dispose', e.dispose), this.reset() } function p (e, t, r, n) { let o = r.value; d(e, o) && (g(e, r), c(e, 'allowStale') || (o = void 0)), o && t.call(n, o.value, o.key, e) } function h (e, t, r) { const n = c(e, 'cache').get(t); if (n) { var o = n.value; d(e, o) ? (g(e, n), c(e, 'allowStale') || (o = void 0)) : r && c(e, 'lruList').unshiftNode(n), o && (o = o.value) } return o } function d (e, t) { if (!t || !t.maxAge && !c(e, 'maxAge')) return !1; const r = Date.now() - t.now; return t.maxAge ? r > t.maxAge : c(e, 'maxAge') && r > c(e, 'maxAge') } function v (e) { if (c(e, 'length') > c(e, 'max')) for (let t = c(e, 'lruList').tail; c(e, 'length') > c(e, 'max') && t !== null;) { const r = t.prev; g(e, t), t = r } } function g (e, t) { if (t) { const r = t.value; c(e, 'dispose') && c(e, 'dispose').call(this, r.key, r.value), c(e, 'length', c(e, 'length') - r.length), c(e, 'cache').delete(r.key), c(e, 'lruList').removeNode(t) } } function y (e, t, r, n, o) { this.key = e, this.value = t, this.length = r, this.now = n, this.maxAge = o || 0 }n = u ? function (e) { return Symbol.for(e) } : function (e) { return '_' + e }, Object.defineProperty(l.prototype, 'max', { set: function (e) { (!e || typeof e !== 'number' || e <= 0) && (e = 1 / 0), c(this, 'max', e), v(this) }, get: function () { return c(this, 'max') }, enumerable: !0 }), Object.defineProperty(l.prototype, 'allowStale', { set: function (e) { c(this, 'allowStale', !!e) }, get: function () { return c(this, 'allowStale') }, enumerable: !0 }), Object.defineProperty(l.prototype, 'maxAge', { set: function (e) { (!e || typeof e !== 'number' || e < 0) && (e = 0), c(this, 'maxAge', e), v(this) }, get: function () { return c(this, 'maxAge') }, enumerable: !0 }), Object.defineProperty(l.prototype, 'lengthCalculator', { set: function (e) { typeof e !== 'function' && (e = f), e !== c(this, 'lengthCalculator') && (c(this, 'lengthCalculator', e), c(this, 'length', 0), c(this, 'lruList').forEach(function (e) { e.length = c(this, 'lengthCalculator').call(this, e.value, e.key), c(this, 'length', c(this, 'length') + e.length) }, this)), v(this) }, get: function () { return c(this, 'lengthCalculator') }, enumerable: !0 }), Object.defineProperty(l.prototype, 'length', { get: function () { return c(this, 'length') }, enumerable: !0 }), Object.defineProperty(l.prototype, 'itemCount', { get: function () { return c(this, 'lruList').length }, enumerable: !0 }), l.prototype.rforEach = function (e, t) { t = t || this; for (let r = c(this, 'lruList').tail; r !== null;) { const n = r.prev; p(this, e, r, t), r = n } }, l.prototype.forEach = function (e, t) { t = t || this; for (let r = c(this, 'lruList').head; r !== null;) { const n = r.next; p(this, e, r, t), r = n } }, l.prototype.keys = function () { return c(this, 'lruList').toArray().map(function (e) { return e.key }, this) }, l.prototype.values = function () { return c(this, 'lruList').toArray().map(function (e) { return e.value }, this) }, l.prototype.reset = function () { c(this, 'dispose') && c(this, 'lruList') && c(this, 'lruList').length && c(this, 'lruList').forEach(function (e) { c(this, 'dispose').call(this, e.key, e.value) }, this), c(this, 'cache', new o()), c(this, 'lruList', new s()), c(this, 'length', 0) }, l.prototype.dump = function () { return c(this, 'lruList').map(function (e) { if (!d(this, e)) return { k: e.key, v: e.value, e: e.now + (e.maxAge || 0) } }, this).toArray().filter(function (e) { return e }) }, l.prototype.dumpLru = function () { return c(this, 'lruList') }, l.prototype.inspect = function (e, t) { let r = 'LRUCache {'; let n = !1; c(this, 'allowStale') && (r += '\n  allowStale: true', n = !0); const o = c(this, 'max'); o && o !== 1 / 0 && (n && (r += ','), r += '\n  max: ' + i.inspect(o, t), n = !0); const s = c(this, 'maxAge'); s && (n && (r += ','), r += '\n  maxAge: ' + i.inspect(s, t), n = !0); const a = c(this, 'lengthCalculator'); a && a !== f && (n && (r += ','), r += '\n  length: ' + i.inspect(c(this, 'length'), t), n = !0); let u = !1; return c(this, 'lruList').forEach(function (e) { u ? r += ',\n  ' : (n && (r += ',\n'), u = !0, r += '\n  '); const o = i.inspect(e.key).split('\n').join('\n  '); let c = { value: e.value }; e.maxAge !== s && (c.maxAge = e.maxAge), a !== f && (c.length = e.length), d(this, e) && (c.stale = !0), c = i.inspect(c, t).split('\n').join('\n  '), r += o + ' => ' + c }), (u || n) && (r += '\n'), r += '}' }, l.prototype.set = function (e, t, r) { const n = (r = r || c(this, 'maxAge')) ? Date.now() : 0; const o = c(this, 'lengthCalculator').call(this, t, e); if (c(this, 'cache').has(e)) { if (o > c(this, 'max')) return g(this, c(this, 'cache').get(e)), !1; const i = c(this, 'cache').get(e).value; return c(this, 'dispose') && c(this, 'dispose').call(this, e, i.value), i.now = n, i.maxAge = r, i.value = t, c(this, 'length', c(this, 'length') + (o - i.length)), i.length = o, this.get(e), v(this), !0 } const s = new y(e, t, o, n, r); return s.length > c(this, 'max') ? (c(this, 'dispose') && c(this, 'dispose').call(this, e, t), !1) : (c(this, 'length', c(this, 'length') + s.length), c(this, 'lruList').unshift(s), c(this, 'cache').set(e, c(this, 'lruList').head), v(this), !0) }, l.prototype.has = function (e) { return !!c(this, 'cache').has(e) && !d(this, c(this, 'cache').get(e).value) }, l.prototype.get = function (e) { return h(this, e, !0) }, l.prototype.peek = function (e) { return h(this, e, !1) }, l.prototype.pop = function () { const e = c(this, 'lruList').tail; return e ? (g(this, e), e.value) : null }, l.prototype.del = function (e) { g(this, c(this, 'cache').get(e)) }, l.prototype.load = function (e) { this.reset(); for (let t = Date.now(), r = e.length - 1; r >= 0; r--) { const n = e[r]; const o = n.e || 0; if (o === 0) this.set(n.k, n.v); else { const i = o - t; i > 0 && this.set(n.k, n.v, i) } } }, l.prototype.prune = function () { const e = this; c(this, 'cache').forEach(function (t, r) { h(e, r, !1) }) } }, function (e, t, r) { (function (e) { const r = '[object Arguments]'; const n = '[object Function]'; const o = '[object GeneratorFunction]'; const i = '[object Map]'; const s = '[object Set]'; const a = /\w*$/; const u = /^\[object .+?Constructor\]$/; const c = /^(?:0|[1-9]\d*)$/; const f = {}; f[r] = f['[object Array]'] = f['[object ArrayBuffer]'] = f['[object DataView]'] = f['[object Boolean]'] = f['[object Date]'] = f['[object Float32Array]'] = f['[object Float64Array]'] = f['[object Int8Array]'] = f['[object Int16Array]'] = f['[object Int32Array]'] = f[i] = f['[object Number]'] = f['[object Object]'] = f['[object RegExp]'] = f[s] = f['[object String]'] = f['[object Symbol]'] = f['[object Uint8Array]'] = f['[object Uint8ClampedArray]'] = f['[object Uint16Array]'] = f['[object Uint32Array]'] = !0, f['[object Error]'] = f[n] = f['[object WeakMap]'] = !1; const l = typeof global === 'object' && global && global.Object === Object && global; const p = typeof self === 'object' && self && self.Object === Object && self; const h = l || p || Function('return this')(); const d = t && !t.nodeType && t; const v = d && typeof e === 'object' && e && !e.nodeType && e; const g = v && v.exports === d; function y (e, t) { return e.set(t[0], t[1]), e } function m (e, t) { return e.add(t), e } function b (e, t, r, n) { let o = -1; const i = e ? e.length : 0; for (n && i && (r = e[++o]); ++o < i;)r = t(r, e[o], o, e); return r } function w (e) { let t = !1; if (e != null && typeof e.toString !== 'function') try { t = !!(e + '') } catch (e) {} return t } function x (e) { let t = -1; const r = Array(e.size); return e.forEach(function (e, n) { r[++t] = [n, e] }), r } function _ (e, t) { return function (r) { return e(t(r)) } } function S (e) { let t = -1; const r = Array(e.size); return e.forEach(function (e) { r[++t] = e }), r } let E; const j = Array.prototype; const k = Function.prototype; const O = Object.prototype; const C = h['__core-js_shared__']; const A = (E = /[^.]+$/.exec(C && C.keys && C.keys.IE_PROTO || '')) ? 'Symbol(src)_1.' + E : ''; const R = k.toString; const T = O.hasOwnProperty; const P = O.toString; const B = RegExp('^' + R.call(T).replace(/[\\^$.*+?()[\]{}|]/g, '\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'); const I = g ? h.Buffer : void 0; const N = h.Symbol; const F = h.Uint8Array; const L = _(Object.getPrototypeOf, Object); const M = Object.create; const K = O.propertyIsEnumerable; const U = j.splice; const q = Object.getOwnPropertySymbols; const D = I ? I.isBuffer : void 0; const J = _(Object.keys, Object); const $ = ve(h, 'DataView'); const z = ve(h, 'Map'); const H = ve(h, 'Promise'); const V = ve(h, 'Set'); const G = ve(h, 'WeakMap'); const W = ve(Object, 'create'); const Y = we($); const X = we(z); const Z = we(H); const Q = we(V); const ee = we(G); const te = N ? N.prototype : void 0; const re = te ? te.valueOf : void 0; function ne (e) { let t = -1; const r = e ? e.length : 0; for (this.clear(); ++t < r;) { const n = e[t]; this.set(n[0], n[1]) } } function oe (e) { let t = -1; const r = e ? e.length : 0; for (this.clear(); ++t < r;) { const n = e[t]; this.set(n[0], n[1]) } } function ie (e) { let t = -1; const r = e ? e.length : 0; for (this.clear(); ++t < r;) { const n = e[t]; this.set(n[0], n[1]) } } function se (e) { this.__data__ = new oe(e) } function ae (e, t) { const n = _e(e) || (function (e) { return (function (e) { return (function (e) { return !!e && typeof e === 'object' }(e)) && Se(e) }(e)) && T.call(e, 'callee') && (!K.call(e, 'callee') || P.call(e) == r) }(e)) ? (function (e, t) { for (var r = -1, n = Array(e); ++r < e;)n[r] = t(r); return n }(e.length, String)) : []; const o = n.length; const i = !!o; for (const s in e)!t && !T.call(e, s) || i && (s == 'length' || me(s, o)) || n.push(s); return n } function ue (e, t, r) { const n = e[t]; T.call(e, t) && xe(n, r) && (void 0 !== r || t in e) || (e[t] = r) } function ce (e, t) { for (let r = e.length; r--;) if (xe(e[r][0], t)) return r; return -1 } function fe (e, t, u, c, l, p, h) { let d; if (c && (d = p ? c(e, l, p, h) : c(e)), void 0 !== d) return d; if (!ke(e)) return e; const v = _e(e); if (v) { if (d = (function (e) { const t = e.length; const r = e.constructor(t); t && typeof e[0] === 'string' && T.call(e, 'index') && (r.index = e.index, r.input = e.input); return r }(e)), !t) return (function (e, t) { let r = -1; const n = e.length; t || (t = Array(n)); for (;++r < n;)t[r] = e[r]; return t }(e, d)) } else { const g = ye(e); const _ = g == n || g == o; if (Ee(e)) return (function (e, t) { if (t) return e.slice(); const r = new e.constructor(e.length); return e.copy(r), r }(e, t)); if (g == '[object Object]' || g == r || _ && !p) { if (w(e)) return p ? e : {}; if (d = (function (e) { return typeof e.constructor !== 'function' || be(e) ? {} : (t = L(e), ke(t) ? M(t) : {}); let t }(_ ? {} : e)), !t) return (function (e, t) { return he(e, ge(e), t) }(e, (function (e, t) { return e && he(t, Oe(t), e) }(d, e)))) } else { if (!f[g]) return p ? e : {}; d = (function (e, t, r, n) { const o = e.constructor; switch (t) { case '[object ArrayBuffer]':return pe(e); case '[object Boolean]':case '[object Date]':return new o(+e); case '[object DataView]':return (function (e, t) { const r = t ? pe(e.buffer) : e.buffer; return new e.constructor(r, e.byteOffset, e.byteLength) }(e, n)); case '[object Float32Array]':case '[object Float64Array]':case '[object Int8Array]':case '[object Int16Array]':case '[object Int32Array]':case '[object Uint8Array]':case '[object Uint8ClampedArray]':case '[object Uint16Array]':case '[object Uint32Array]':return (function (e, t) { const r = t ? pe(e.buffer) : e.buffer; return new e.constructor(r, e.byteOffset, e.length) }(e, n)); case i:return (function (e, t, r) { return b(t ? r(x(e), !0) : x(e), y, new e.constructor()) }(e, n, r)); case '[object Number]':case '[object String]':return new o(e); case '[object RegExp]':return (function (e) { const t = new e.constructor(e.source, a.exec(e)); return t.lastIndex = e.lastIndex, t }(e)); case s:return (function (e, t, r) { return b(t ? r(S(e), !0) : S(e), m, new e.constructor()) }(e, n, r)); case '[object Symbol]':return u = e, re ? Object(re.call(u)) : {} } let u }(e, g, fe, t)) } }h || (h = new se()); const E = h.get(e); if (E) return E; if (h.set(e, d), !v) var j = u ? (function (e) { return (function (e, t, r) { const n = t(e); return _e(e) ? n : (function (e, t) { for (let r = -1, n = t.length, o = e.length; ++r < n;)e[o + r] = t[r]; return e }(n, r(e))) }(e, Oe, ge)) }(e)) : Oe(e); return (function (e, t) { for (let r = -1, n = e ? e.length : 0; ++r < n && !1 !== t(e[r], r, e);); }(j || e, function (r, n) { j && (r = e[n = r]), ue(d, n, fe(r, t, u, c, n, e, h)) })), d } function le (e) { return !(!ke(e) || (t = e, A && A in t)) && (je(e) || w(e) ? B : u).test(we(e)); let t } function pe (e) { const t = new e.constructor(e.byteLength); return new F(t).set(new F(e)), t } function he (e, t, r, n) { r || (r = {}); for (let o = -1, i = t.length; ++o < i;) { const s = t[o]; const a = n ? n(r[s], e[s], s, r, e) : void 0; ue(r, s, void 0 === a ? e[s] : a) } return r } function de (e, t) { let r; let n; const o = e.__data__; return ((n = typeof (r = t)) == 'string' || n == 'number' || n == 'symbol' || n == 'boolean' ? r !== '__proto__' : r === null) ? o[typeof t === 'string' ? 'string' : 'hash'] : o.map } function ve (e, t) { const r = (function (e, t) { return e == null ? void 0 : e[t] }(e, t)); return le(r) ? r : void 0 }ne.prototype.clear = function () { this.__data__ = W ? W(null) : {} }, ne.prototype.delete = function (e) { return this.has(e) && delete this.__data__[e] }, ne.prototype.get = function (e) { const t = this.__data__; if (W) { const r = t[e]; return r === '__lodash_hash_undefined__' ? void 0 : r } return T.call(t, e) ? t[e] : void 0 }, ne.prototype.has = function (e) { const t = this.__data__; return W ? void 0 !== t[e] : T.call(t, e) }, ne.prototype.set = function (e, t) { return this.__data__[e] = W && void 0 === t ? '__lodash_hash_undefined__' : t, this }, oe.prototype.clear = function () { this.__data__ = [] }, oe.prototype.delete = function (e) { const t = this.__data__; const r = ce(t, e); return !(r < 0) && (r == t.length - 1 ? t.pop() : U.call(t, r, 1), !0) }, oe.prototype.get = function (e) { const t = this.__data__; const r = ce(t, e); return r < 0 ? void 0 : t[r][1] }, oe.prototype.has = function (e) { return ce(this.__data__, e) > -1 }, oe.prototype.set = function (e, t) { const r = this.__data__; const n = ce(r, e); return n < 0 ? r.push([e, t]) : r[n][1] = t, this }, ie.prototype.clear = function () { this.__data__ = { hash: new ne(), map: new (z || oe)(), string: new ne() } }, ie.prototype.delete = function (e) { return de(this, e).delete(e) }, ie.prototype.get = function (e) { return de(this, e).get(e) }, ie.prototype.has = function (e) { return de(this, e).has(e) }, ie.prototype.set = function (e, t) { return de(this, e).set(e, t), this }, se.prototype.clear = function () { this.__data__ = new oe() }, se.prototype.delete = function (e) { return this.__data__.delete(e) }, se.prototype.get = function (e) { return this.__data__.get(e) }, se.prototype.has = function (e) { return this.__data__.has(e) }, se.prototype.set = function (e, t) { let r = this.__data__; if (r instanceof oe) { const n = r.__data__; if (!z || n.length < 199) return n.push([e, t]), this; r = this.__data__ = new ie(n) } return r.set(e, t), this }; var ge = q ? _(q, Object) : function () { return [] }; var ye = function (e) { return P.call(e) }; function me (e, t) { return !!(t = t == null ? 9007199254740991 : t) && (typeof e === 'number' || c.test(e)) && e > -1 && e % 1 == 0 && e < t } function be (e) { const t = e && e.constructor; return e === (typeof t === 'function' && t.prototype || O) } function we (e) { if (e != null) { try { return R.call(e) } catch (e) {} try { return e + '' } catch (e) {} } return '' } function xe (e, t) { return e === t || e != e && t != t }($ && ye(new $(new ArrayBuffer(1))) != '[object DataView]' || z && ye(new z()) != i || H && ye(H.resolve()) != '[object Promise]' || V && ye(new V()) != s || G && ye(new G()) != '[object WeakMap]') && (ye = function (e) { const t = P.call(e); const r = t == '[object Object]' ? e.constructor : void 0; const n = r ? we(r) : void 0; if (n) switch (n) { case Y:return '[object DataView]'; case X:return i; case Z:return '[object Promise]'; case Q:return s; case ee:return '[object WeakMap]' } return t }); var _e = Array.isArray; function Se (e) { return e != null && (function (e) { return typeof e === 'number' && e > -1 && e % 1 == 0 && e <= 9007199254740991 }(e.length)) && !je(e) } var Ee = D || function () { return !1 }; function je (e) { const t = ke(e) ? P.call(e) : ''; return t == n || t == o } function ke (e) { const t = typeof e; return !!e && (t == 'object' || t == 'function') } function Oe (e) { return Se(e) ? ae(e) : (function (e) { if (!be(e)) return J(e); const t = []; for (const r in Object(e))T.call(e, r) && r != 'constructor' && t.push(r); return t }(e)) }e.exports = function (e) { return fe(e, !0, !0) } }).call(this, r(77)(e)) }, function (e, t, r) { 'use strict'; Object.defineProperty(t, '__esModule', { value: !0 }), t.deepFreeze = function e (t) { return t && (Object.freeze(t), Object.getOwnPropertyNames(t).forEach(function (r) { !t.hasOwnProperty(r) || t[r] === null || typeof t[r] !== 'object' && typeof t[r] !== 'function' || t[r].constructor === Buffer || Object.isFrozen(t[r]) || e(t[r]) })), t } }, function (e, t) { const r = function (e, t, r, n) { if (this.bucketSize = e, this.tokensPerInterval = t, typeof r === 'string') switch (r) { case 'sec':case 'second':this.interval = 1e3; break; case 'min':case 'minute':this.interval = 6e4; break; case 'hr':case 'hour':this.interval = 36e5; break; case 'day':this.interval = 864e5; break; default:throw new Error('Invaid interval ' + r) } else this.interval = r; this.parentBucket = n, this.content = 0, this.lastDrip = +new Date() }; r.prototype = { bucketSize: 1, tokensPerInterval: 1, interval: 1e3, parentBucket: null, content: 0, lastDrip: 0, removeTokens: function (e, t) { const r = this; return this.bucketSize ? e > this.bucketSize ? (process.nextTick(t.bind(null, 'Requested tokens ' + e + ' exceeds bucket size ' + this.bucketSize, null)), !1) : (this.drip(), e > this.content ? n() : this.parentBucket ? this.parentBucket.removeTokens(e, function (o, i) { return o ? t(o, null) : e > r.content ? n() : (r.content -= e, void t(null, Math.min(i, r.content))) }) : (this.content -= e, process.nextTick(t.bind(null, null, this.content)), !0)) : (process.nextTick(t.bind(null, null, e, Number.POSITIVE_INFINITY)), !0); function n () { const n = Math.ceil((e - r.content) * (r.interval / r.tokensPerInterval)); return setTimeout(function () { r.removeTokens(e, t) }, n), !1 } }, tryRemoveTokens: function (e) { return !this.bucketSize || !(e > this.bucketSize) && (this.drip(), !(e > this.content) && (!(this.parentBucket && !this.parentBucket.tryRemoveTokens(e)) && (this.content -= e, !0))) }, drip: function () { if (this.tokensPerInterval) { const e = +new Date(); const t = Math.max(e - this.lastDrip, 0); this.lastDrip = e; const r = t * (this.tokensPerInterval / this.interval); this.content = Math.min(this.content + r, this.bucketSize) } else this.content = this.bucketSize } }, e.exports = r }, function (e, t, r) { 'use strict'; function n (e) { Error.call(this, e), Error.captureStackTrace(this, this.constructor), this.name = 'JwksRateLimitError', this.message = e }n.prototype = Object.create(Error.prototype), n.prototype.constructor = n, e.exports = n }, function (e, t) { e.exports = function (e) { return e.webpackPolyfill || (e.deprecate = function () {}, e.paths = [], e.children || (e.children = []), Object.defineProperty(e, 'loaded', { enumerable: !0, get: function () { return e.l } }), Object.defineProperty(e, 'id', { enumerable: !0, get: function () { return e.i } }), e.webpackPolyfill = 1), e } }, function (e, t, r) { 'use strict'; function n () {}e.exports = n, n.maxLength = 4096, n.parse = function (e) { const t = n.maxLength; if (typeof e !== 'string') throw new TypeError('str must be a string'); if (e.length > t) throw new RangeError('str is too large (CookieParser.maxLength=' + t + ')'); const r = new n(); if (arguments.length > 1) { const o = arguments[1]; if (typeof o === 'object' && o !== null && typeof o.decode === 'function') return r.slowParse(e, o.decode) } return r.parse(e) }, n.prototype.decode = function (e) { try { return decodeURIComponent(e) } catch (t) { return e } }, n.prototype.extract = function (e, t, r) { return t === r + 1 ? '' : e.slice(this.trimForward(e, t), this.trimBackward(e, r) + 1) }, n.prototype.trimForward = function (e, t) { for (let r = e.charCodeAt(t); this.isWhiteSpace(r);)r = e.charCodeAt(++t); return t }, n.prototype.trimBackward = function (e, t) { for (let r = e.charCodeAt(t); this.isWhiteSpace(r);)r = e.charCodeAt(--t); return t }, n.prototype.isWhiteSpace = function (e) { return e <= 32 }, n.prototype.parse = function (e) { const t = {}; let r = 0; let n = 0; let o = 0; let i = 0; let s = !1; let a = !1; let u = 0; const c = e.length; e:for (;u < c; ++u) { let f = e.charCodeAt(u); if (f > 127) return this.slowParse(e, this.decode); if (f === 61) { n = u - 1; let l = u + 1; for (f = e.charCodeAt(l); f === 32;)l++, f = e.charCodeAt(l); for (f === 34 && (l++, a = !0), o = l; l < c; ++l) if ((f = e.charCodeAt(l)) === 37)s = !0; else if (f === 59 || f === 44) { if (a)(i = this.trimBackward(e, l - 1) - 1) < o && (o = i); else i = l - 1; var p = this.extract(e, r, n); var h = this.extract(e, o, i); for (t[p] = s ? this.decode(h) : h, u = l; l < c; ++l) if (e.charCodeAt(l) !== 32) { u = l - 1; break }n = r = u + 1, a = !1, s = !1; continue e } if (a)(i = this.trimBackward(e, l - 1) - 1) < o && (o = i); else i = l - 1; p = this.extract(e, r, n), h = this.extract(e, o, i); t[p] = s ? this.decode(h) : h, u = l } else f !== 59 && f !== 44 || (r = u + 1) } return t }, n.serialize = function (e, t, r) { const n = [e + '=' + ((r = r || {}).encode || encodeURIComponent)(t)]; return r.maxAge && n.push('Max-Age=' + r.maxAge), r.domain && n.push('Domain=' + r.domain), r.path && n.push('Path=' + r.path), r.expires && n.push('Expires=' + r.expires.toUTCString()), r.httpOnly && n.push('HttpOnly'), r.secure && n.push('Secure'), n.join('; ') }, n.prototype.slowParse = function (e, t) { const r = {}; return e.split(/[;,] */).forEach(function (e) { let n = e.indexOf('='); if (!(n < 0)) { const o = e.substr(0, n).trim(); let i = e.substr(++n, e.length).trim(); if (i[0] == '"' && (i = i.slice(1, -1)), r[o] == null) try { r[o] = t(i) } catch (e) { r[o] = i } } }), r } }, function (e, t, r) { const n = r(12).Buffer; const o = r(58); const i = r(59); const s = r(9); const a = r(60); const u = r(4); function c (e, t) { return n.from(e, t).toString('base64').replace(/=/g, '').replace(/\+/g, '-').replace(/\//g, '_') } function f (e) { const t = e.header; const r = e.payload; const n = e.secret || e.privateKey; const o = e.encoding; const s = i(t.alg); const f = (function (e, t, r) { r = r || 'utf8'; const n = c(a(e), 'binary'); const o = c(a(t), r); return u.format('%s.%s', n, o) }(t, r, o)); const l = s.sign(f, n); return u.format('%s.%s', f, l) } function l (e) { const t = e.secret || e.privateKey || e.key; const r = new o(t); this.readable = !0, this.header = e.header, this.encoding = e.encoding, this.secret = this.privateKey = this.key = r, this.payload = new o(e.payload), this.secret.once('close', function () { !this.payload.writable && this.readable && this.sign() }.bind(this)), this.payload.once('close', function () { !this.secret.writable && this.readable && this.sign() }.bind(this)) }u.inherits(l, s), l.prototype.sign = function () { try { const e = f({ header: this.header, payload: this.payload.buffer, secret: this.secret.buffer, encoding: this.encoding }); return this.emit('done', e), this.emit('data', e), this.emit('end'), this.readable = !1, e } catch (e) { this.readable = !1, this.emit('error', e), this.emit('close') } }, l.sign = f, e.exports = l }, function (e, t, r) { 'use strict'; const n = r(25).Buffer; const o = r(25).SlowBuffer; function i (e, t) { if (!n.isBuffer(e) || !n.isBuffer(t)) return !1; if (e.length !== t.length) return !1; for (var r = 0, o = 0; o < e.length; o++)r |= e[o] ^ t[o]; return r === 0 }e.exports = i, i.install = function () { n.prototype.equal = o.prototype.equal = function (e) { return i(this, e) } }; const s = n.prototype.equal; const a = o.prototype.equal; i.restore = function () { n.prototype.equal = s, o.prototype.equal = a } }, function (e, t) { e.exports = require('crypto') }, function (e, t, r) { 'use strict'; const n = r(12).Buffer; const o = r(83); function i (e) { if (n.isBuffer(e)) return e; if (typeof e === 'string') return n.from(e, 'base64'); throw new TypeError('ECDSA signature must be a Base64 string or a Buffer') } function s (e, t, r) { for (var n = 0; t + n < r && e[t + n] === 0;)++n; return e[t + n] >= 128 && --n, n }e.exports = { derToJose: function (e, t) { e = i(e); const r = o(t); const s = r + 1; const a = e.length; let u = 0; if (e[u++] !== 48) throw new Error('Could not find expected "seq"'); let c = e[u++]; if (c === 129 && (c = e[u++]), a - u < c) throw new Error('"seq" specified length of "' + c + '", only "' + (a - u) + '" remaining'); if (e[u++] !== 2) throw new Error('Could not find expected "int" for "r"'); const f = e[u++]; if (a - u - 2 < f) throw new Error('"r" specified length of "' + f + '", only "' + (a - u - 2) + '" available'); if (s < f) throw new Error('"r" specified length of "' + f + '", max of "' + s + '" is acceptable'); const l = u; if (u += f, e[u++] !== 2) throw new Error('Could not find expected "int" for "s"'); const p = e[u++]; if (a - u !== p) throw new Error('"s" specified length of "' + p + '", expected "' + (a - u) + '"'); if (s < p) throw new Error('"s" specified length of "' + p + '", max of "' + s + '" is acceptable'); const h = u; if ((u += p) !== a) throw new Error('Expected to consume entire buffer, but "' + (a - u) + '" bytes remain'); const d = r - f; const v = r - p; let g = n.allocUnsafe(d + f + v + p); for (u = 0; u < d; ++u)g[u] = 0; e.copy(g, u, l + Math.max(-d, 0), l + f); for (let y = u = r; u < y + v; ++u)g[u] = 0; return e.copy(g, u, h + Math.max(-v, 0), h + p), g = (g = g.toString('base64')).replace(/=/g, '').replace(/\+/g, '-').replace(/\//g, '_') }, joseToDer: function (e, t) { e = i(e); const r = o(t); const a = e.length; if (a !== 2 * r) throw new TypeError('"' + t + '" signatures must be "' + 2 * r + '" bytes, saw "' + a + '"'); const u = s(e, 0, r); const c = s(e, r, e.length); const f = r - u; const l = r - c; const p = 2 + f + 1 + 1 + l; const h = p < 128; const d = n.allocUnsafe((h ? 2 : 3) + p); let v = 0; return d[v++] = 48, h ? d[v++] = p : (d[v++] = 129, d[v++] = 255 & p), d[v++] = 2, d[v++] = f, u < 0 ? (d[v++] = 0, v += e.copy(d, v, 0, r)) : v += e.copy(d, v, u, r), d[v++] = 2, d[v++] = l, c < 0 ? (d[v++] = 0, e.copy(d, v, r)) : e.copy(d, v, r + c), d } } }, function (e, t, r) { 'use strict'; function n (e) { return (e / 8 | 0) + (e % 8 == 0 ? 0 : 1) } const o = { ES256: n(256), ES384: n(384), ES512: n(521) }; e.exports = function (e) { const t = o[e]; if (t) return t; throw new Error('Unknown algorithm "' + e + '"') } }, function (e, t, r) { const n = r(12).Buffer; const o = r(58); const i = r(59); const s = r(9); const a = r(60); const u = r(4); const c = /^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/; function f (e) { if (function (e) { return Object.prototype.toString.call(e) === '[object Object]' }(e)) return e; try { return JSON.parse(e) } catch (e) { } } function l (e) { const t = e.split('.', 1)[0]; return f(n.from(t, 'base64').toString('binary')) } function p (e) { return e.split('.')[2] } function h (e) { return c.test(e) && !!l(e) } function d (e, t, r) { if (!t) { const n = new Error('Missing algorithm parameter for jws.verify'); throw n.code = 'MISSING_ALGORITHM', n } const o = p(e = a(e)); const s = (function (e) { return e.split('.', 2).join('.') }(e)); return i(t).verify(s, o, r) } function v (e, t) { if (t = t || {}, !h(e = a(e))) return null; const r = l(e); if (!r) return null; let o = (function (e, t) { t = t || 'utf8'; const r = e.split('.')[1]; return n.from(r, 'base64').toString(t) }(e)); return (r.typ === 'JWT' || t.json) && (o = JSON.parse(o, t.encoding)), { header: r, payload: o, signature: p(e) } } function g (e) { const t = (e = e || {}).secret || e.publicKey || e.key; const r = new o(t); this.readable = !0, this.algorithm = e.algorithm, this.encoding = e.encoding, this.secret = this.publicKey = this.key = r, this.signature = new o(e.signature), this.secret.once('close', function () { !this.signature.writable && this.readable && this.verify() }.bind(this)), this.signature.once('close', function () { !this.secret.writable && this.readable && this.verify() }.bind(this)) }u.inherits(g, s), g.prototype.verify = function () { try { const e = d(this.signature.buffer, this.algorithm, this.key.buffer); const t = v(this.signature.buffer, this.encoding); return this.emit('done', e, t), this.emit('data', e), this.emit('end'), this.readable = !1, e } catch (e) { this.readable = !1, this.emit('error', e), this.emit('close') } }, g.decode = v, g.isValid = h, g.verify = d, e.exports = g }, function (e, t, r) { const n = r(26); const o = r(61); const i = r(62); const s = r(57); const a = r(63); const u = r(65); const c = r(29); const f = ['RS256', 'RS384', 'RS512', 'ES256', 'ES384', 'ES512']; const l = ['RS256', 'RS384', 'RS512']; const p = ['HS256', 'HS384', 'HS512']; u && (f.splice(3, 0, 'PS256', 'PS384', 'PS512'), l.splice(3, 0, 'PS256', 'PS384', 'PS512')), e.exports = function (e, t, r, u) { let h; if (typeof r !== 'function' || u || (u = r, r = {}), r || (r = {}), r = Object.assign({}, r), h = u || function (e, t) { if (e) throw e; return t }, r.clockTimestamp && typeof r.clockTimestamp !== 'number') return h(new n('clockTimestamp must be a number')); if (void 0 !== r.nonce && (typeof r.nonce !== 'string' || r.nonce.trim() === '')) return h(new n('nonce must be a non-empty string')); const d = r.clockTimestamp || Math.floor(Date.now() / 1e3); if (!e) return h(new n('jwt must be provided')); if (typeof e !== 'string') return h(new n('jwt must be a string')); let v; const g = e.split('.'); if (g.length !== 3) return h(new n('jwt malformed')); try { v = s(e, { complete: !0 }) } catch (e) { return h(e) } if (!v) return h(new n('invalid token')); let y; const m = v.header; if (typeof t === 'function') { if (!u) return h(new n('verify must be called asynchronous if secret or public key is provided as a callback')); y = t } else y = function (e, r) { return r(null, t) }; return y(m, function (t, s) { if (t) return h(new n('error in secret or public key callback: ' + t.message)); let u; const y = g[2].trim() !== ''; if (!y && s) return h(new n('jwt signature is required')); if (y && !s) return h(new n('secret or public key must be provided')); if (y || r.algorithms || (r.algorithms = ['none']), r.algorithms || (r.algorithms = ~s.toString().indexOf('BEGIN CERTIFICATE') || ~s.toString().indexOf('BEGIN PUBLIC KEY') ? f : ~s.toString().indexOf('BEGIN RSA PUBLIC KEY') ? l : p), !~r.algorithms.indexOf(v.header.alg)) return h(new n('invalid algorithm')); try { u = c.verify(e, v.header.alg, s) } catch (e) { return h(e) } if (!u) return h(new n('invalid signature')); const b = v.payload; if (void 0 !== b.nbf && !r.ignoreNotBefore) { if (typeof b.nbf !== 'number') return h(new n('invalid nbf value')); if (b.nbf > d + (r.clockTolerance || 0)) return h(new o('jwt not active', new Date(1e3 * b.nbf))) } if (void 0 !== b.exp && !r.ignoreExpiration) { if (typeof b.exp !== 'number') return h(new n('invalid exp value')); if (d >= b.exp + (r.clockTolerance || 0)) return h(new i('jwt expired', new Date(1e3 * b.exp))) } if (r.audience) { const w = Array.isArray(r.audience) ? r.audience : [r.audience]; if (!(Array.isArray(b.aud) ? b.aud : [b.aud]).some(function (e) { return w.some(function (t) { return t instanceof RegExp ? t.test(e) : t === e }) })) return h(new n('jwt audience invalid. expected: ' + w.join(' or '))) } if (r.issuer && (typeof r.issuer === 'string' && b.iss !== r.issuer || Array.isArray(r.issuer) && r.issuer.indexOf(b.iss) === -1)) return h(new n('jwt issuer invalid. expected: ' + r.issuer)); if (r.subject && b.sub !== r.subject) return h(new n('jwt subject invalid. expected: ' + r.subject)); if (r.jwtid && b.jti !== r.jwtid) return h(new n('jwt jwtid invalid. expected: ' + r.jwtid)); if (r.nonce && b.nonce !== r.nonce) return h(new n('jwt nonce invalid. expected: ' + r.nonce)); if (r.maxAge) { if (typeof b.iat !== 'number') return h(new n('iat required when maxAge is specified')); const x = a(r.maxAge, b.iat); if (void 0 === x) return h(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60')); if (d >= x + (r.clockTolerance || 0)) return h(new i('maxAge exceeded', new Date(1e3 * x))) } if (!0 === r.complete) { const _ = v.signature; return h(null, { header: m, payload: b, signature: _ }) } return h(null, b) }) } }, function (e, t) { let r; t = e.exports = H, r = typeof process === 'object' && process.env && process.env.NODE_DEBUG && /\bsemver\b/i.test(process.env.NODE_DEBUG) ? function () { const e = Array.prototype.slice.call(arguments, 0); e.unshift('SEMVER'), console.log.apply(console, e) } : function () {}, t.SEMVER_SPEC_VERSION = '2.0.0'; const n = Number.MAX_SAFE_INTEGER || 9007199254740991; const o = t.re = []; const i = t.src = []; let s = 0; const a = s++; i[a] = '0|[1-9]\\d*'; const u = s++; i[u] = '[0-9]+'; const c = s++; i[c] = '\\d*[a-zA-Z-][a-zA-Z0-9-]*'; const f = s++; i[f] = '(' + i[a] + ')\\.(' + i[a] + ')\\.(' + i[a] + ')'; const l = s++; i[l] = '(' + i[u] + ')\\.(' + i[u] + ')\\.(' + i[u] + ')'; const p = s++; i[p] = '(?:' + i[a] + '|' + i[c] + ')'; const h = s++; i[h] = '(?:' + i[u] + '|' + i[c] + ')'; const d = s++; i[d] = '(?:-(' + i[p] + '(?:\\.' + i[p] + ')*))'; const v = s++; i[v] = '(?:-?(' + i[h] + '(?:\\.' + i[h] + ')*))'; const g = s++; i[g] = '[0-9A-Za-z-]+'; const y = s++; i[y] = '(?:\\+(' + i[g] + '(?:\\.' + i[g] + ')*))'; const m = s++; const b = 'v?' + i[f] + i[d] + '?' + i[y] + '?'; i[m] = '^' + b + '$'; const w = '[v=\\s]*' + i[l] + i[v] + '?' + i[y] + '?'; const x = s++; i[x] = '^' + w + '$'; const _ = s++; i[_] = '((?:<|>)?=?)'; const S = s++; i[S] = i[u] + '|x|X|\\*'; const E = s++; i[E] = i[a] + '|x|X|\\*'; const j = s++; i[j] = '[v=\\s]*(' + i[E] + ')(?:\\.(' + i[E] + ')(?:\\.(' + i[E] + ')(?:' + i[d] + ')?' + i[y] + '?)?)?'; const k = s++; i[k] = '[v=\\s]*(' + i[S] + ')(?:\\.(' + i[S] + ')(?:\\.(' + i[S] + ')(?:' + i[v] + ')?' + i[y] + '?)?)?'; const O = s++; i[O] = '^' + i[_] + '\\s*' + i[j] + '$'; const C = s++; i[C] = '^' + i[_] + '\\s*' + i[k] + '$'; const A = s++; i[A] = '(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])'; const R = s++; i[R] = '(?:~>?)'; const T = s++; i[T] = '(\\s*)' + i[R] + '\\s+', o[T] = new RegExp(i[T], 'g'); const P = s++; i[P] = '^' + i[R] + i[j] + '$'; const B = s++; i[B] = '^' + i[R] + i[k] + '$'; const I = s++; i[I] = '(?:\\^)'; const N = s++; i[N] = '(\\s*)' + i[I] + '\\s+', o[N] = new RegExp(i[N], 'g'); const F = s++; i[F] = '^' + i[I] + i[j] + '$'; const L = s++; i[L] = '^' + i[I] + i[k] + '$'; const M = s++; i[M] = '^' + i[_] + '\\s*(' + w + ')$|^$'; const K = s++; i[K] = '^' + i[_] + '\\s*(' + b + ')$|^$'; const U = s++; i[U] = '(\\s*)' + i[_] + '\\s*(' + w + '|' + i[j] + ')', o[U] = new RegExp(i[U], 'g'); const q = s++; i[q] = '^\\s*(' + i[j] + ')\\s+-\\s+(' + i[j] + ')\\s*$'; const D = s++; i[D] = '^\\s*(' + i[k] + ')\\s+-\\s+(' + i[k] + ')\\s*$'; const J = s++; i[J] = '(<|>)?=?\\s*\\*'; for (let $ = 0; $ < 35; $++)r($, i[$]), o[$] || (o[$] = new RegExp(i[$])); function z (e, t) { if (t && typeof t === 'object' || (t = { loose: !!t, includePrerelease: !1 }), e instanceof H) return e; if (typeof e !== 'string') return null; if (e.length > 256) return null; if (!(t.loose ? o[x] : o[m]).test(e)) return null; try { return new H(e, t) } catch (e) { return null } } function H (e, t) { if (t && typeof t === 'object' || (t = { loose: !!t, includePrerelease: !1 }), e instanceof H) { if (e.loose === t.loose) return e; e = e.version } else if (typeof e !== 'string') throw new TypeError('Invalid Version: ' + e); if (e.length > 256) throw new TypeError('version is longer than 256 characters'); if (!(this instanceof H)) return new H(e, t); r('SemVer', e, t), this.options = t, this.loose = !!t.loose; const i = e.trim().match(t.loose ? o[x] : o[m]); if (!i) throw new TypeError('Invalid Version: ' + e); if (this.raw = e, this.major = +i[1], this.minor = +i[2], this.patch = +i[3], this.major > n || this.major < 0) throw new TypeError('Invalid major version'); if (this.minor > n || this.minor < 0) throw new TypeError('Invalid minor version'); if (this.patch > n || this.patch < 0) throw new TypeError('Invalid patch version'); i[4] ? this.prerelease = i[4].split('.').map(function (e) { if (/^[0-9]+$/.test(e)) { const t = +e; if (t >= 0 && t < n) return t } return e }) : this.prerelease = [], this.build = i[5] ? i[5].split('.') : [], this.format() }t.parse = z, t.valid = function (e, t) { const r = z(e, t); return r ? r.version : null }, t.clean = function (e, t) { const r = z(e.trim().replace(/^[=v]+/, ''), t); return r ? r.version : null }, t.SemVer = H, H.prototype.format = function () { return this.version = this.major + '.' + this.minor + '.' + this.patch, this.prerelease.length && (this.version += '-' + this.prerelease.join('.')), this.version }, H.prototype.toString = function () { return this.version }, H.prototype.compare = function (e) { return r('SemVer.compare', this.version, this.options, e), e instanceof H || (e = new H(e, this.options)), this.compareMain(e) || this.comparePre(e) }, H.prototype.compareMain = function (e) { return e instanceof H || (e = new H(e, this.options)), G(this.major, e.major) || G(this.minor, e.minor) || G(this.patch, e.patch) }, H.prototype.comparePre = function (e) { if (e instanceof H || (e = new H(e, this.options)), this.prerelease.length && !e.prerelease.length) return -1; if (!this.prerelease.length && e.prerelease.length) return 1; if (!this.prerelease.length && !e.prerelease.length) return 0; let t = 0; do { const n = this.prerelease[t]; const o = e.prerelease[t]; if (r('prerelease compare', t, n, o), void 0 === n && void 0 === o) return 0; if (void 0 === o) return 1; if (void 0 === n) return -1; if (n !== o) return G(n, o) } while (++t) }, H.prototype.inc = function (e, t) { switch (e) { case 'premajor':this.prerelease.length = 0, this.patch = 0, this.minor = 0, this.major++, this.inc('pre', t); break; case 'preminor':this.prerelease.length = 0, this.patch = 0, this.minor++, this.inc('pre', t); break; case 'prepatch':this.prerelease.length = 0, this.inc('patch', t), this.inc('pre', t); break; case 'prerelease':this.prerelease.length === 0 && this.inc('patch', t), this.inc('pre', t); break; case 'major':this.minor === 0 && this.patch === 0 && this.prerelease.length !== 0 || this.major++, this.minor = 0, this.patch = 0, this.prerelease = []; break; case 'minor':this.patch === 0 && this.prerelease.length !== 0 || this.minor++, this.patch = 0, this.prerelease = []; break; case 'patch':this.prerelease.length === 0 && this.patch++, this.prerelease = []; break; case 'pre':if (this.prerelease.length === 0) this.prerelease = [0]; else { for (var r = this.prerelease.length; --r >= 0;) typeof this.prerelease[r] === 'number' && (this.prerelease[r]++, r = -2); r === -1 && this.prerelease.push(0) }t && (this.prerelease[0] === t ? isNaN(this.prerelease[1]) && (this.prerelease = [t, 0]) : this.prerelease = [t, 0]); break; default:throw new Error('invalid increment argument: ' + e) } return this.format(), this.raw = this.version, this }, t.inc = function (e, t, r, n) { typeof r === 'string' && (n = r, r = void 0); try { return new H(e, r).inc(t, n).version } catch (e) { return null } }, t.diff = function (e, t) { if (Z(e, t)) return null; const r = z(e); const n = z(t); let o = ''; if (r.prerelease.length || n.prerelease.length) { o = 'pre'; var i = 'prerelease' } for (const s in r) if ((s === 'major' || s === 'minor' || s === 'patch') && r[s] !== n[s]) return o + s; return i }, t.compareIdentifiers = G; const V = /^[0-9]+$/; function G (e, t) { const r = V.test(e); const n = V.test(t); return r && n && (e = +e, t = +t), e === t ? 0 : r && !n ? -1 : n && !r ? 1 : e < t ? -1 : 1 } function W (e, t, r) { return new H(e, r).compare(new H(t, r)) } function Y (e, t, r) { return W(e, t, r) > 0 } function X (e, t, r) { return W(e, t, r) < 0 } function Z (e, t, r) { return W(e, t, r) === 0 } function Q (e, t, r) { return W(e, t, r) !== 0 } function ee (e, t, r) { return W(e, t, r) >= 0 } function te (e, t, r) { return W(e, t, r) <= 0 } function re (e, t, r, n) { switch (t) { case '===':return typeof e === 'object' && (e = e.version), typeof r === 'object' && (r = r.version), e === r; case '!==':return typeof e === 'object' && (e = e.version), typeof r === 'object' && (r = r.version), e !== r; case '':case '=':case '==':return Z(e, r, n); case '!=':return Q(e, r, n); case '>':return Y(e, r, n); case '>=':return ee(e, r, n); case '<':return X(e, r, n); case '<=':return te(e, r, n); default:throw new TypeError('Invalid operator: ' + t) } } function ne (e, t) { if (t && typeof t === 'object' || (t = { loose: !!t, includePrerelease: !1 }), e instanceof ne) { if (e.loose === !!t.loose) return e; e = e.value } if (!(this instanceof ne)) return new ne(e, t); r('comparator', e, t), this.options = t, this.loose = !!t.loose, this.parse(e), this.semver === oe ? this.value = '' : this.value = this.operator + this.semver.version, r('comp', this) }t.rcompareIdentifiers = function (e, t) { return G(t, e) }, t.major = function (e, t) { return new H(e, t).major }, t.minor = function (e, t) { return new H(e, t).minor }, t.patch = function (e, t) { return new H(e, t).patch }, t.compare = W, t.compareLoose = function (e, t) { return W(e, t, !0) }, t.rcompare = function (e, t, r) { return W(t, e, r) }, t.sort = function (e, r) { return e.sort(function (e, n) { return t.compare(e, n, r) }) }, t.rsort = function (e, r) { return e.sort(function (e, n) { return t.rcompare(e, n, r) }) }, t.gt = Y, t.lt = X, t.eq = Z, t.neq = Q, t.gte = ee, t.lte = te, t.cmp = re, t.Comparator = ne; var oe = {}; function ie (e, t) { if (t && typeof t === 'object' || (t = { loose: !!t, includePrerelease: !1 }), e instanceof ie) return e.loose === !!t.loose && e.includePrerelease === !!t.includePrerelease ? e : new ie(e.raw, t); if (e instanceof ne) return new ie(e.value, t); if (!(this instanceof ie)) return new ie(e, t); if (this.options = t, this.loose = !!t.loose, this.includePrerelease = !!t.includePrerelease, this.raw = e, this.set = e.split(/\s*\|\|\s*/).map(function (e) { return this.parseRange(e.trim()) }, this).filter(function (e) { return e.length }), !this.set.length) throw new TypeError('Invalid SemVer Range: ' + e); this.format() } function se (e) { return !e || e.toLowerCase() === 'x' || e === '*' } function ae (e, t, r, n, o, i, s, a, u, c, f, l, p) { return ((t = se(r) ? '' : se(n) ? '>=' + r + '.0.0' : se(o) ? '>=' + r + '.' + n + '.0' : '>=' + t) + ' ' + (a = se(u) ? '' : se(c) ? '<' + (+u + 1) + '.0.0' : se(f) ? '<' + u + '.' + (+c + 1) + '.0' : l ? '<=' + u + '.' + c + '.' + f + '-' + l : '<=' + a)).trim() } function ue (e, t, n) { for (var o = 0; o < e.length; o++) if (!e[o].test(t)) return !1; if (t.prerelease.length && !n.includePrerelease) { for (o = 0; o < e.length; o++) if (r(e[o].semver), e[o].semver !== oe && e[o].semver.prerelease.length > 0) { const i = e[o].semver; if (i.major === t.major && i.minor === t.minor && i.patch === t.patch) return !0 } return !1 } return !0 } function ce (e, t, r) { try { t = new ie(t, r) } catch (e) { return !1 } return t.test(e) } function fe (e, t, r, n) { let o, i, s, a, u; switch (e = new H(e, n), t = new ie(t, n), r) { case '>':o = Y, i = te, s = X, a = '>', u = '>='; break; case '<':o = X, i = ee, s = Y, a = '<', u = '<='; break; default:throw new TypeError('Must provide a hilo val of "<" or ">"') } if (ce(e, t, n)) return !1; for (let c = 0; c < t.set.length; ++c) { const f = t.set[c]; var l = null; var p = null; if (f.forEach(function (e) { e.semver === oe && (e = new ne('>=0.0.0')), l = l || e, p = p || e, o(e.semver, l.semver, n) ? l = e : s(e.semver, p.semver, n) && (p = e) }), l.operator === a || l.operator === u) return !1; if ((!p.operator || p.operator === a) && i(e, p.semver)) return !1; if (p.operator === u && s(e, p.semver)) return !1 } return !0 }ne.prototype.parse = function (e) { const t = this.options.loose ? o[M] : o[K]; const r = e.match(t); if (!r) throw new TypeError('Invalid comparator: ' + e); this.operator = r[1], this.operator === '=' && (this.operator = ''), r[2] ? this.semver = new H(r[2], this.options.loose) : this.semver = oe }, ne.prototype.toString = function () { return this.value }, ne.prototype.test = function (e) { return r('Comparator.test', e, this.options.loose), this.semver === oe || (typeof e === 'string' && (e = new H(e, this.options)), re(e, this.operator, this.semver, this.options)) }, ne.prototype.intersects = function (e, t) { if (!(e instanceof ne)) throw new TypeError('a Comparator is required'); let r; if (t && typeof t === 'object' || (t = { loose: !!t, includePrerelease: !1 }), this.operator === '') return r = new ie(e.value, t), ce(this.value, r, t); if (e.operator === '') return r = new ie(this.value, t), ce(e.semver, r, t); const n = !(this.operator !== '>=' && this.operator !== '>' || e.operator !== '>=' && e.operator !== '>'); const o = !(this.operator !== '<=' && this.operator !== '<' || e.operator !== '<=' && e.operator !== '<'); const i = this.semver.version === e.semver.version; const s = !(this.operator !== '>=' && this.operator !== '<=' || e.operator !== '>=' && e.operator !== '<='); const a = re(this.semver, '<', e.semver, t) && (this.operator === '>=' || this.operator === '>') && (e.operator === '<=' || e.operator === '<'); const u = re(this.semver, '>', e.semver, t) && (this.operator === '<=' || this.operator === '<') && (e.operator === '>=' || e.operator === '>'); return n || o || i && s || a || u }, t.Range = ie, ie.prototype.format = function () { return this.range = this.set.map(function (e) { return e.join(' ').trim() }).join('||').trim(), this.range }, ie.prototype.toString = function () { return this.range }, ie.prototype.parseRange = function (e) { const t = this.options.loose; e = e.trim(); const n = t ? o[D] : o[q]; e = e.replace(n, ae), r('hyphen replace', e), e = e.replace(o[U], '$1$2$3'), r('comparator trim', e, o[U]), e = (e = (e = e.replace(o[T], '$1~')).replace(o[N], '$1^')).split(/\s+/).join(' '); const i = t ? o[M] : o[K]; let s = e.split(' ').map(function (e) { return (function (e, t) { return r('comp', e, t), e = (function (e, t) { return e.trim().split(/\s+/).map(function (e) { return (function (e, t) { r('caret', e, t); const n = t.loose ? o[L] : o[F]; return e.replace(n, function (t, n, o, i, s) { let a; return r('caret', e, t, n, o, i, s), se(n) ? a = '' : se(o) ? a = '>=' + n + '.0.0 <' + (+n + 1) + '.0.0' : se(i) ? a = '0' === n ? '>=' + n + '.' + o + '.0 <' + n + '.' + (+o + 1) + '.0' : '>=' + n + '.' + o + '.0 <' + (+n + 1) + '.0.0' : s ? (r('replaceCaret pr', s), a = '0' === n ? '0' === o ? '>=' + n + '.' + o + '.' + i + '-' + s + ' <' + n + '.' + o + '.' + (+i + 1) : '>=' + n + '.' + o + '.' + i + '-' + s + ' <' + n + '.' + (+o + 1) + '.0' : '>=' + n + '.' + o + '.' + i + '-' + s + ' <' + (+n + 1) + '.0.0') : (r('no pr'), a = '0' === n ? '0' === o ? '>=' + n + '.' + o + '.' + i + ' <' + n + '.' + o + '.' + (+i + 1) : '>=' + n + '.' + o + '.' + i + ' <' + n + '.' + (+o + 1) + '.0' : '>=' + n + '.' + o + '.' + i + ' <' + (+n + 1) + '.0.0'), r('caret return', a), a }) }(e, t)) }).join(' ') }(e, t)), r('caret', e), e = (function (e, t) { return e.trim().split(/\s+/).map(function (e) { return (function (e, t) { const n = t.loose ? o[B] : o[P]; return e.replace(n, function (t, n, o, i, s) { let a; return r('tilde', e, t, n, o, i, s), se(n) ? a = '' : se(o) ? a = '>=' + n + '.0.0 <' + (+n + 1) + '.0.0' : se(i) ? a = '>=' + n + '.' + o + '.0 <' + n + '.' + (+o + 1) + '.0' : s ? (r('replaceTilde pr', s), a = '>=' + n + '.' + o + '.' + i + '-' + s + ' <' + n + '.' + (+o + 1) + '.0') : a = '>=' + n + '.' + o + '.' + i + ' <' + n + '.' + (+o + 1) + '.0', r('tilde return', a), a }) }(e, t)) }).join(' ') }(e, t)), r('tildes', e), e = (function (e, t) { return r('replaceXRanges', e, t), e.split(/\s+/).map(function (e) { return (function (e, t) { e = e.trim(); const n = t.loose ? o[C] : o[O]; return e.replace(n, function (t, n, o, i, s, a) { r('xRange', e, t, n, o, i, s, a); let u = se(o); let c = u || se(i); let f = c || se(s); return '=' === n && f && (n = ''), u ? t = '>' === n || '<' === n ? '<0.0.0' : '*' : n && f ? (c && (i = 0), s = 0, '>' === n ? (n = '>=', c ? (o = +o + 1, i = 0, s = 0) : (i = +i + 1, s = 0)) : '<=' === n && (n = '<', c ? o = +o + 1 : i = +i + 1), t = n + o + '.' + i + '.' + s) : c ? t = '>=' + o + '.0.0 <' + (+o + 1) + '.0.0' : f && (t = '>=' + o + '.' + i + '.0 <' + o + '.' + (+i + 1) + '.0'), r('xRange return', t), t }) }(e, t)) }).join(' ') }(e, t)), r('xrange', e), e = (function (e, t) { return r('replaceStars', e, t), e.trim().replace(o[J], '') }(e, t)), r('stars', e), e }(e, this.options)) }, this).join(' ').split(/\s+/); return this.options.loose && (s = s.filter(function (e) { return !!e.match(i) })), s = s.map(function (e) { return new ne(e, this.options) }, this) }, ie.prototype.intersects = function (e, t) { if (!(e instanceof ie)) throw new TypeError('a Range is required'); return this.set.some(function (r) { return r.every(function (r) { return e.set.some(function (e) { return e.every(function (e) { return r.intersects(e, t) }) }) }) }) }, t.toComparators = function (e, t) { return new ie(e, t).set.map(function (e) { return e.map(function (e) { return e.value }).join(' ').trim().split(' ') }) }, ie.prototype.test = function (e) { if (!e) return !1; typeof e === 'string' && (e = new H(e, this.options)); for (let t = 0; t < this.set.length; t++) if (ue(this.set[t], e, this.options)) return !0; return !1 }, t.satisfies = ce, t.maxSatisfying = function (e, t, r) { let n = null; let o = null; try { var i = new ie(t, r) } catch (e) { return null } return e.forEach(function (e) { i.test(e) && (n && o.compare(e) !== -1 || (o = new H(n = e, r))) }), n }, t.minSatisfying = function (e, t, r) { let n = null; let o = null; try { var i = new ie(t, r) } catch (e) { return null } return e.forEach(function (e) { i.test(e) && (n && o.compare(e) !== 1 || (o = new H(n = e, r))) }), n }, t.minVersion = function (e, t) { e = new ie(e, t); let r = new H('0.0.0'); if (e.test(r)) return r; if (r = new H('0.0.0-0'), e.test(r)) return r; r = null; for (let n = 0; n < e.set.length; ++n) { e.set[n].forEach(function (e) { const t = new H(e.semver.version); switch (e.operator) { case '>':t.prerelease.length === 0 ? t.patch++ : t.prerelease.push(0), t.raw = t.format(); case '':case '>=':r && !Y(r, t) || (r = t); break; case '<':case '<=':break; default:throw new Error('Unexpected operation: ' + e.operator) } }) } if (r && e.test(r)) return r; return null }, t.validRange = function (e, t) { try { return new ie(e, t).range || '*' } catch (e) { return null } }, t.ltr = function (e, t, r) { return fe(e, t, '<', r) }, t.gtr = function (e, t, r) { return fe(e, t, '>', r) }, t.outside = fe, t.prerelease = function (e, t) { const r = z(e, t); return r && r.prerelease.length ? r.prerelease : null }, t.intersects = function (e, t, r) { return e = new ie(e, r), t = new ie(t, r), e.intersects(t) }, t.coerce = function (e) { if (e instanceof H) return e; if (typeof e !== 'string') return null; const t = e.match(o[A]); if (t == null) return null; return z(t[1] + '.' + (t[2] || '0') + '.' + (t[3] || '0')) } }, function (e, t, r) { const n = r(63); const o = r(65); const i = r(29); const s = r(88); const a = r(89); const u = r(90); const c = r(91); const f = r(92); const l = r(93); const p = r(94); const h = ['RS256', 'RS384', 'RS512', 'ES256', 'ES384', 'ES512', 'HS256', 'HS384', 'HS512', 'none']; o && h.splice(3, 0, 'PS256', 'PS384', 'PS512'); const d = { expiresIn: { isValid: function (e) { return u(e) || l(e) && e }, message: '"expiresIn" should be a number of seconds or string representing a timespan' }, notBefore: { isValid: function (e) { return u(e) || l(e) && e }, message: '"notBefore" should be a number of seconds or string representing a timespan' }, audience: { isValid: function (e) { return l(e) || Array.isArray(e) }, message: '"audience" must be a string or array' }, algorithm: { isValid: s.bind(null, h), message: '"algorithm" must be a valid string enum value' }, header: { isValid: f, message: '"header" must be an object' }, encoding: { isValid: l, message: '"encoding" must be a string' }, issuer: { isValid: l, message: '"issuer" must be a string' }, subject: { isValid: l, message: '"subject" must be a string' }, jwtid: { isValid: l, message: '"jwtid" must be a string' }, noTimestamp: { isValid: a, message: '"noTimestamp" must be a boolean' }, keyid: { isValid: l, message: '"keyid" must be a string' }, mutatePayload: { isValid: a, message: '"mutatePayload" must be a boolean' } }; const v = { iat: { isValid: c, message: '"iat" should be a number of seconds' }, exp: { isValid: c, message: '"exp" should be a number of seconds' }, nbf: { isValid: c, message: '"nbf" should be a number of seconds' } }; function g (e, t, r, n) { if (!f(r)) throw new Error('Expected "' + n + '" to be a plain object.'); Object.keys(r).forEach(function (o) { const i = e[o]; if (i) { if (!i.isValid(r[o])) throw new Error(i.message) } else if (!t) throw new Error('"' + o + '" is not allowed in "' + n + '"') }) } const y = { audience: 'aud', issuer: 'iss', subject: 'sub', jwtid: 'jti' }; const m = ['expiresIn', 'notBefore', 'noTimestamp', 'audience', 'issuer', 'subject', 'jwtid']; e.exports = function (e, t, r, o) { typeof r === 'function' ? (o = r, r = {}) : r = r || {}; const s = typeof e === 'object' && !Buffer.isBuffer(e); const a = Object.assign({ alg: r.algorithm || 'HS256', typ: s ? 'JWT' : void 0, kid: r.keyid }, r.header); function u (e) { if (o) return o(e); throw e } if (!t && r.algorithm !== 'none') return u(new Error('secretOrPrivateKey must have a value')); if (void 0 === e) return u(new Error('payload is required')); if (s) { try { !(function (e) { g(v, !0, e, 'payload') }(e)) } catch (e) { return u(e) }r.mutatePayload || (e = Object.assign({}, e)) } else { const c = m.filter(function (e) { return void 0 !== r[e] }); if (c.length > 0) return u(new Error('invalid ' + c.join(',') + ' option for ' + typeof e + ' payload')) } if (void 0 !== e.exp && void 0 !== r.expiresIn) return u(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.')); if (void 0 !== e.nbf && void 0 !== r.notBefore) return u(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.')); try { !(function (e) { g(d, !1, e, 'options') }(r)) } catch (e) { return u(e) } const f = e.iat || Math.floor(Date.now() / 1e3); if (r.noTimestamp ? delete e.iat : s && (e.iat = f), void 0 !== r.notBefore) { try { e.nbf = n(r.notBefore, f) } catch (e) { return u(e) } if (void 0 === e.nbf) return u(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60')) } if (void 0 !== r.expiresIn && typeof e === 'object') { try { e.exp = n(r.expiresIn, f) } catch (e) { return u(e) } if (void 0 === e.exp) return u(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60')) }Object.keys(y).forEach(function (t) { const n = y[t]; if (void 0 !== r[t]) { if (void 0 !== e[n]) return u(new Error('Bad "options.' + t + '" option. The payload already has an "' + n + '" property.')); e[n] = r[t] } }); const l = r.encoding || 'utf8'; if (typeof o !== 'function') return i.sign({ header: a, payload: e, secret: t, encoding: l }); o = o && p(o), i.createSign({ header: a, privateKey: t, payload: e, encoding: l }).once('error', o).once('done', function (e) { o(null, e) }) } }, function (e, t) { const r = /^\s+|\s+$/g; const n = /^[-+]0x[0-9a-f]+$/i; const o = /^0b[01]+$/i; const i = /^0o[0-7]+$/i; const s = /^(?:0|[1-9]\d*)$/; const a = parseInt; function u (e) { return e != e } function c (e, t) { return (function (e, t) { for (var r = -1, n = e ? e.length : 0, o = Array(n); ++r < n;)o[r] = t(e[r], r, e); return o }(t, function (t) { return e[t] })) } let f; let l; const p = Object.prototype; const h = p.hasOwnProperty; const d = p.toString; const v = p.propertyIsEnumerable; const g = (f = Object.keys, l = Object, function (e) { return f(l(e)) }); const y = Math.max; function m (e, t) { const r = x(e) || (function (e) { return (function (e) { return E(e) && _(e) }(e)) && h.call(e, 'callee') && (!v.call(e, 'callee') || d.call(e) == '[object Arguments]') }(e)) ? (function (e, t) { for (var r = -1, n = Array(e); ++r < e;)n[r] = t(r); return n }(e.length, String)) : []; const n = r.length; const o = !!n; for (const i in e)!t && !h.call(e, i) || o && (i == 'length' || w(i, n)) || r.push(i); return r } function b (e) { if (r = (t = e) && t.constructor, n = typeof r === 'function' && r.prototype || p, t !== n) return g(e); let t; let r; let n; const o = []; for (const i in Object(e))h.call(e, i) && i != 'constructor' && o.push(i); return o } function w (e, t) { return !!(t = t == null ? 9007199254740991 : t) && (typeof e === 'number' || s.test(e)) && e > -1 && e % 1 == 0 && e < t } var x = Array.isArray; function _ (e) { return e != null && (function (e) { return typeof e === 'number' && e > -1 && e % 1 == 0 && e <= 9007199254740991 }(e.length)) && !(function (e) { const t = S(e) ? d.call(e) : ''; return t == '[object Function]' || t == '[object GeneratorFunction]' }(e)) } function S (e) { const t = typeof e; return !!e && (t == 'object' || t == 'function') } function E (e) { return !!e && typeof e === 'object' }e.exports = function (e, t, s, f) { let l; e = _(e) ? e : (l = e) ? c(l, (function (e) { return _(e) ? m(e) : b(e) }(l))) : [], s = s && !f ? (function (e) { const t = (function (e) { if (!e) return e === 0 ? e : 0; if ((e = (function (e) { if (typeof e === 'number') return e; if (function (e) { return typeof e === 'symbol' || E(e) && d.call(e) == '[object Symbol]' }(e)) return NaN; if (S(e)) { const t = typeof e.valueOf==='function' ? e.valueOf() : e; e = S(t) ? t + '' : t } if (typeof e !== 'string') return e === 0 ? e : +e; e = e.replace(r, ''); const s = o.test(e); return s || i.test(e) ? a(e.slice(2), s ? 2 : 8) : n.test(e) ? NaN : +e }(e))) === 1 / 0 || e === -1 / 0) { return 17976931348623157e292 * (e < 0 ? -1 : 1) } return e == e ? e : 0 }(e)); const s = t % 1; return t == t ? s ? t - s : t : 0 }(s)) : 0; const p = e.length; return s < 0 && (s = y(p + s, 0)), (function (e) { return typeof e === 'string' || !x(e) && E(e) && d.call(e) == '[object String]' }(e)) ? s <= p && e.indexOf(t, s) > -1 : !!p && (function (e, t, r) { if (t != t) return (function (e, t, r, n) { for (let o = e.length, i = r + (n ? 1 : -1); n ? i-- : ++i < o;) if (t(e[i], i, e)) return i; return -1 }(e, u, r)); for (let n = r - 1, o = e.length; ++n < o;) if (e[n] === t) return n; return -1 }(e, t, s)) > -1 } }, function (e, t) { const r = Object.prototype.toString; e.exports = function (e) { return !0 === e || !1 === e || (function (e) { return !!e && typeof e === 'object' }(e)) && r.call(e) == '[object Boolean]' } }, function (e, t) { const r = /^\s+|\s+$/g; const n = /^[-+]0x[0-9a-f]+$/i; const o = /^0b[01]+$/i; const i = /^0o[0-7]+$/i; const s = parseInt; const a = Object.prototype.toString; function u (e) { const t = typeof e; return !!e && (t == 'object' || t == 'function') }e.exports = function (e) { return typeof e === 'number' && e == (function (e) { const t = (function (e) { if (!e) return e === 0 ? e : 0; if ((e = (function (e) { if (typeof e === 'number') return e; if (function (e) { return typeof e === 'symbol' || (function (e) { return !!e && typeof e==='object' }(e)) && a.call(e) == '[object Symbol]' }(e)) return NaN; if (u(e)) { const t = typeof e.valueOf==='function' ? e.valueOf() : e; e = u(t) ? t + '' : t } if (typeof e !== 'string') return e === 0 ? e : +e; e = e.replace(r, ''); const c = o.test(e); return c || i.test(e) ? s(e.slice(2), c ? 2 : 8) : n.test(e) ? NaN : +e }(e))) === 1 / 0 || e === -1 / 0) { return 17976931348623157e292 * (e < 0 ? -1 : 1) } return e == e ? e : 0 }(e)); const c = t % 1; return t == t ? c ? t - c : t : 0 }(e)) } }, function (e, t) { const r = Object.prototype.toString; e.exports = function (e) { return typeof e === 'number' || (function (e) { return !!e && typeof e === 'object' }(e)) && r.call(e) == '[object Number]' } }, function (e, t) { let r; let n; const o = Function.prototype; const i = Object.prototype; const s = o.toString; const a = i.hasOwnProperty; const u = s.call(Object); const c = i.toString; const f = (r = Object.getPrototypeOf, n = Object, function (e) { return r(n(e)) }); e.exports = function (e) { if (!(function (e) { return !!e && typeof e === 'object' }(e)) || c.call(e) != '[object Object]' || (function (e) { let t = !1; if (e != null && typeof e.toString !== 'function') try { t = !!(e + '') } catch (e) {} return t }(e))) return !1; const t = f(e); if (t === null) return !0; const r = a.call(t, 'constructor') && t.constructor; return typeof r === 'function' && r instanceof r && s.call(r) == u } }, function (e, t) { const r = Object.prototype.toString; const n = Array.isArray; e.exports = function (e) { return typeof e === 'string' || !n(e) && (function (e) { return !!e && typeof e === 'object' }(e)) && r.call(e) == '[object String]' } }, function (e, t) { const r = /^\s+|\s+$/g; const n = /^[-+]0x[0-9a-f]+$/i; const o = /^0b[01]+$/i; const i = /^0o[0-7]+$/i; const s = parseInt; const a = Object.prototype.toString; function u (e, t) { let u; if (typeof t !== 'function') throw new TypeError('Expected a function'); return e = (function (e) { const t = (function (e) { if (!e) return e === 0 ? e : 0; if ((e = (function (e) { if (typeof e === 'number') return e; if (function (e) { return typeof e === 'symbol' || (function (e) { return !!e && typeof e==='object' }(e)) && a.call(e) == '[object Symbol]' }(e)) return NaN; if (c(e)) { const t = typeof e.valueOf==='function' ? e.valueOf() : e; e = c(t) ? t + '' : t } if (typeof e !== 'string') return e === 0 ? e : +e; e = e.replace(r, ''); const u = o.test(e); return u || i.test(e) ? s(e.slice(2), u ? 2 : 8) : n.test(e) ? NaN : +e }(e))) === 1 / 0 || e === -1 / 0) { return 17976931348623157e292 * (e < 0 ? -1 : 1) } return e == e ? e : 0 }(e)); const u = t % 1; return t == t ? u ? t - u : t : 0 }(e)), function () { return --e > 0 && (u = t.apply(this, arguments)), e <= 1 && (t = void 0), u } } function c (e) { const t = typeof e; return !!e && (t == 'object' || t == 'function') }e.exports = function (e) { return u(2, e) } }, function (e, t, r) { 'use strict'; const n = r(13); const o = (function (e) { if (e && e.__esModule) return e; const t = {}; if (e != null) for (const r in e)Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]); return t.default = e, t }(r(14))); const i = r(119); const s = r(120); const a = r(121); const u = r(122); e.exports = function (e) { return new n.JwksClient(e) }, e.exports.JwksClient = n.JwksClient, e.exports.ArgumentError = o.ArgumentError, e.exports.JwksError = o.JwksError, e.exports.JwksRateLimitError = o.JwksRateLimitError, e.exports.SigningKeyNotFoundError = o.SigningKeyNotFoundError, e.exports.expressJwtSecret = s.expressJwtSecret, e.exports.hapiJwt2Key = i.hapiJwt2Key, e.exports.hapiJwt2KeyAsync = i.hapiJwt2KeyAsync, e.exports.koaJwtSecret = a.koaJwtSecret, e.exports.passportJwtSecret = u.passportJwtSecret }, function (e, t, r) { 'use strict'; Object.defineProperty(t, '__esModule', { value: !0 }); const n = Object.assign || function (e) { for (let t = 1; t < arguments.length; t++) { const r = arguments[t]; for (const n in r)Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }; t.default = function (e, t) { const r = { url: e.uri, headers: e.headers, timeout: e.timeout }; const f = e.proxy || (0, c.getProxyForUrl)(e.uri); if (f || e.agentOptions || e.strictSSL != null) { const p = n({}, e.strictSSL != null && { rejectUnauthorized: e.strictSSL }, e.headers && { headers: e.headers }, e.agentOptions); if (f) { const h = s.default.parse(f); r.proxy = !1; const d = n({}, p, h); r.httpAgent = new a.default(d), r.httpsAgent = new u.default(d) } else r.httpAgent = new o.default.Agent(p), r.httpsAgent = new i.default.Agent(p) }l.request(r).then(function (e) { return t(null, e) }).catch(function (e) { return t(e) }) }; var o = f(r(10)); var i = f(r(11)); var s = f(r(3)); var a = f(r(97)); var u = f(r(101)); var c = r(104); function f (e) { return e && e.__esModule ? e : { default: e } } var l = r(27).default }, function (e, t, r) { 'use strict'; const n = (this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } })(r(98)); function o (e) { return new n.default(e) }!(function (e) { e.HttpProxyAgent = n.default, e.prototype = n.default.prototype }(o || (o = {}))), e.exports = o }, function (e, t, r) { 'use strict'; const n = this && this.__awaiter || function (e, t, r, n) { return new (r || (r = Promise))(function (o, i) { function s (e) { try { u(n.next(e)) } catch (e) { i(e) } } function a (e) { try { u(n.throw(e)) } catch (e) { i(e) } } function u (e) { let t; e.done ? o(e.value) : (t = e.value, t instanceof r ? t : new r(function (e) { e(t) })).then(s, a) }u((n = n.apply(e, t || [])).next()) }) }; const o = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, '__esModule', { value: !0 }); const i = o(r(66)); const s = o(r(67)); const a = o(r(3)); const u = o(r(2)); const c = o(r(99)); const f = r(68); const l = u.default('http-proxy-agent'); class p extends f.Agent {constructor (e) { let t; if (t = typeof e === 'string' ? a.default.parse(e) : e, !t) throw new Error('an HTTP(S) proxy server `host` and `port` must be specified!'); l('Creating new HttpProxyAgent instance: %o', t), super(t); const r = Object.assign({}, t); let n; this.secureProxy = t.secureProxy || typeof (n = r.protocol) === 'string' && /^https:?$/i.test(n), r.host = r.hostname || r.host, typeof r.port === 'string' && (r.port = parseInt(r.port, 10)), !r.port && r.host && (r.port = this.secureProxy ? 443 : 80), r.host && r.path && (delete r.path, delete r.pathname), this.proxy = r }callback (e, t) { return n(this, void 0, void 0, function * () { const { proxy: r, secureProxy: n } = this; const o = a.default.parse(e.path); let u; if (o.protocol || (o.protocol = 'http:'), o.hostname || (o.hostname = t.hostname || t.host || null), o.port == null && (t.port, 1) && (o.port = String(t.port)), o.port === '80' && delete o.port, e.path = a.default.format(o), r.auth && e.setHeader('Proxy-Authorization', 'Basic ' + Buffer.from(r.auth).toString('base64')), n ? (l('Creating `tls.Socket`: %o', r), u = s.default.connect(r)) : (l('Creating `net.Socket`: %o', r), u = i.default.connect(r)), e._header) { let t, r; l('Regenerating stored HTTP header string for request'), e._header = null, e._implicitHeader(), e.output && e.output.length > 0 ? (l('Patching connection write() output buffer with updated header'), t = e.output[0], r = t.indexOf('\r\n\r\n') + 4, e.output[0] = e._header + t.substring(r), l('Output buffer: %o', e.output)) : e.outputData && e.outputData.length > 0 && (l('Patching connection write() output buffer with updated header'), t = e.outputData[0].data, r = t.indexOf('\r\n\r\n') + 4, e.outputData[0].data = e._header + t.substring(r), l('Output buffer: %o', e.outputData[0].data)) } return yield c.default(u, 'connect'), u }) }}t.default = p }, function (e, t, r) { 'use strict'; function n () {} function o (e, t) { const r = o.spread(e, t); const n = r.then(e => e[0]); return n.cancel = r.cancel, n }!(function (e) { e.spread = function (e, t) { let r = null; const o = new Promise((i, s) => { function a () { e.removeListener(t, u), e.removeListener('error', c), o.cancel = n } function u (...e) { a(), i(e) } function c (e) { a(), s(e) }r = a, e.on(t, u), e.on('error', c) }); if (!r) throw new TypeError('Could not get `cancel()` function'); return o.cancel = r, o } }(o || (o = {}))), e.exports = o }, function (e, t, r) { 'use strict'; Object.defineProperty(t, '__esModule', { value: !0 }), t.default = function (e) { return function (t, r) { return new Promise((n, o) => { e.call(this, t, r, (e, t) => { e ? o(e) : n(t) }) }) } } }, function (e, t, r) { 'use strict'; const n = (this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } })(r(102)); function o (e) { return new n.default(e) }!(function (e) { e.HttpsProxyAgent = n.default, e.prototype = n.default.prototype }(o || (o = {}))), e.exports = o }, function (e, t, r) { 'use strict'; const n = this && this.__awaiter || function (e, t, r, n) { return new (r || (r = Promise))(function (o, i) { function s (e) { try { u(n.next(e)) } catch (e) { i(e) } } function a (e) { try { u(n.throw(e)) } catch (e) { i(e) } } function u (e) { let t; e.done ? o(e.value) : (t = e.value, t instanceof r ? t : new r(function (e) { e(t) })).then(s, a) }u((n = n.apply(e, t || [])).next()) }) }; const o = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, '__esModule', { value: !0 }); const i = o(r(66)); const s = o(r(67)); const a = o(r(3)); const u = o(r(28)); const c = o(r(2)); const f = r(68); const l = o(r(103)); const p = c.default('https-proxy-agent:agent'); class h extends f.Agent {constructor (e) { let t; if (t = typeof e === 'string' ? a.default.parse(e) : e, !t) throw new Error('an HTTP(S) proxy server `host` and `port` must be specified!'); p('creating new HttpsProxyAgent instance: %o', t), super(t); const r = Object.assign({}, t); let n; this.secureProxy = t.secureProxy || typeof (n = r.protocol) === 'string' && /^https:?$/i.test(n), r.host = r.hostname || r.host, typeof r.port === 'string' && (r.port = parseInt(r.port, 10)), !r.port && r.host && (r.port = this.secureProxy ? 443 : 80), this.secureProxy && !('ALPNProtocols' in r) && (r.ALPNProtocols = ['http 1.1']), r.host && r.path && (delete r.path, delete r.pathname), this.proxy = r }callback (e, t) { return n(this, void 0, void 0, function * () { const { proxy: r, secureProxy: n } = this; let o; n ? (p('Creating `tls.Socket`: %o', r), o = s.default.connect(r)) : (p('Creating `net.Socket`: %o', r), o = i.default.connect(r)); const a = Object.assign({}, r.headers); let c = `CONNECT ${`${t.host}:${t.port}`} HTTP/1.1\r\n`; r.auth && (a['Proxy-Authorization'] = 'Basic ' + Buffer.from(r.auth).toString('base64')); let { host: f, port: h, secureEndpoint: v } = t; (function (e, t) { return Boolean(!t && e === 80 || t && e === 443) })(h, v) || (f += ':' + h), a.Host = f, a.Connection = 'close'; for (const e of Object.keys(a))c += `${e}: ${a[e]}\r\n`; const g = l.default(o); o.write(c + '\r\n'); const { statusCode: y, buffered: m } = yield g; if (y === 200) { if (e.once('socket', d), t.secureEndpoint) { const e = t.servername || t.host; if (!e) throw new Error('Could not determine "servername"'); return p('Upgrading socket connection to TLS'), s.default.connect(Object.assign(Object.assign({}, (function (e, ...t) { const r = {}; let n; for (n in e)t.includes(n) || (r[n] = e[n]); return r }(t, 'host', 'hostname', 'path', 'port'))), { socket: o, servername: e })) } return o }o.destroy(); const b = new i.default.Socket(); return b.readable = !0, e.once('socket', e => { p('replaying proxy buffer for failed request'), u.default(e.listenerCount('data') > 0), e.push(m), e.push(null) }), b }) }} function d (e) { e.resume() }t.default = h }, function (e, t, r) { 'use strict'; const n = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, '__esModule', { value: !0 }); const o = n(r(2)).default('https-proxy-agent:parse-proxy-response'); t.default = function (e) { return new Promise((t, r) => { let n = 0; const i = []; function s () { const r = e.read(); r ? (function (e) { i.push(e), n += e.length; const r = Buffer.concat(i, n); if (r.indexOf('\r\n\r\n') === -1) return o('have not received end of HTTP headers yet...'), void s(); const a = r.toString('ascii', 0, r.indexOf('\r\n')); const u = +a.split(' ')[1]; o('got proxy server response: %o', a), t({ statusCode: u, buffered: r }) }(r)) : e.once('readable', s) } function a (e) { o('onclose had error %o', e) } function u () { o('onend') } function c (t) { e.removeListener('end', u), e.removeListener('error', c), e.removeListener('close', a), e.removeListener('readable', s), o('onerror %o', t), r(t) }e.on('error', c), e.on('close', a), e.on('end', u), s() }) } }, function (e, t, r) { 'use strict'; const n = r(3).parse; const o = { ftp: 21, gopher: 70, http: 80, https: 443, ws: 80, wss: 443 }; const i = String.prototype.endsWith || function (e) { return e.length <= this.length && this.indexOf(e, this.length - e.length) !== -1 }; function s (e) { return process.env[e.toLowerCase()] || process.env[e.toUpperCase()] || '' }t.getProxyForUrl = function (e) { const t = typeof e === 'string' ? n(e) : e || {}; let r = t.protocol; let a = t.host; let u = t.port; if (typeof a !== 'string' || !a || typeof r !== 'string') return ''; if (r = r.split(':', 1)[0], !(function (e, t) { const r = (s('npm_config_no_proxy') || s('no_proxy')).toLowerCase(); if (!r) return !0; if (r === '*') return !1; return r.split(/[,\s]/).every(function (r) { if (!r) return !0; const n = r.match(/^(.+):(\d+)$/); let o = n ? n[1] : r; const s = n ? parseInt(n[2]) : 0; return !(!s || s === t) || (/^[.*]/.test(o) ? (o.charAt(0) === '*' && (o = o.slice(1)), !i.call(e, o)) : e !== o) }) }(a = a.replace(/:\d*$/, ''), u = parseInt(u) || o[r] || 0))) return ''; let c = s('npm_config_' + r + '_proxy') || s(r + '_proxy') || s('npm_config_proxy') || s('all_proxy'); return c && c.indexOf('://') === -1 && (c = r + '://' + c), c } }, function (e, t, r) { 'use strict'; Object.defineProperty(t, '__esModule', { value: !0 }), t.getKeysInterceptor = t.rateLimitSigningKey = t.cacheSigningKey = void 0; const n = s(r(106)); const o = s(r(113)); const i = s(r(117)); function s (e) { return e && e.__esModule ? e : { default: e } }t.cacheSigningKey = n.default, t.rateLimitSigningKey = o.default, t.getKeysInterceptor = i.default }, function (e, t, r) { 'use strict'; Object.defineProperty(t, '__esModule', { value: !0 }), t.default = function (e) { const t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : options; const r = t.cacheMaxEntries; const s = void 0 === r ? 5 : r; const a = t.cacheMaxAge; const u = void 0 === a ? (0, n.default)('10m') : a; const c = (0, o.default)('jwks'); const f = e.getSigningKey; return c('Configured caching of signing keys. Max: ' + s + ' / Age: ' + u), (0, i.default)({ load: function (e, t) { f(e, function (r, n) { return r ? t(r) : (c("Caching signing key for '" + e + "':", n), t(null, n)) }) }, hash: function (e) { return e }, maxAge: u, max: s }) }; var n = s(r(64)); var o = s(r(2)); var i = s(r(107)); function s (e) { return e && e.__esModule ? e : { default: e } } }, function (e, t, r) { 'use strict'; const n = r(108); e.exports = n.asyncMemoizer }, function (e, t, r) { 'use strict'; const n = this && this.__read || function (e, t) { let r = typeof Symbol === 'function' && e[Symbol.iterator]; if (!r) return e; let n; let o; const i = r.call(e); const s = []; try { for (;(void 0 === t || t-- > 0) && !(n = i.next()).done;)s.push(n.value) } catch (e) { o = { error: e } } finally { try { n && !n.done && (r = i.return) && r.call(i) } finally { if (o) throw o.error } } return s }; const o = this && this.__spread || function () { for (var e = [], t = 0; t < arguments.length; t++)e = e.concat(n(arguments[t])); return e }; const i = this && this.__values || function (e) { const t = typeof Symbol === 'function' && e[Symbol.iterator]; let r = 0; return t ? t.call(e) : { next: function () { return e && r >= e.length && (e = void 0), { value: e && e[r++], done: !e } } } }; const s = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, '__esModule', { value: !0 }); const a = s(r(72)); const u = r(30); const c = s(r(73)); const f = r(74); const l = r(112); function p (e) { const t = new a.default(e); const r = e.load; const n = e.hash; const s = e.bypass; const l = e.itemMaxAge; const p = e.freeze; const h = e.clone; const d = e.queueMaxAge || 1e3; const v = new Map(); const g = new u.EventEmitter(); const y = Object.assign({ del: function () { for (var e = [], r = 0; r < arguments.length; r++)e[r] = arguments[r]; const i = n.apply(void 0, o(e)); t.del(i) }, reset: function () { return t.reset() }, keys: t.keys.bind(t), on: g.on.bind(g), once: g.once.bind(g) }, e); if (e.disable) return Object.assign(r, y); function m (e, r, n) { p && n.forEach(f.deepFreeze), l ? t.set(e, n, l.apply(void 0, o(r.concat(n)))) : t.set(e, n) } function b (e, t) { let r, n; try { for (var s = i(e), a = s.next(); !a.done; a = s.next()) { const u = a.value; h ? setImmediate.apply(void 0, o([u], t.map(c.default))) : setImmediate.apply(void 0, o([u], t)) } } catch (e) { r = { error: e } } finally { try { a && !a.done && (n = s.return) && n.call(s) } finally { if (r) throw r.error } } } function w (e) { for (var t = [], r = 1; r < arguments.length; r++)t[r - 1] = arguments[r]; g.emit.apply(g, o([e], t)) } return Object.assign(function () { for (var e = [], i = 0; i < arguments.length; i++)e[i] = arguments[i]; let a; const u = e.slice(0, -1); const c = e.slice(-1).pop(); if (s && s.apply(void 0, o(u))) return w.apply(void 0, o(['miss'], u)), r.apply(void 0, o(e)); a = u.length !== 0 || n ? n.apply(void 0, o(u)) : '_'; const f = t.get(a); if (f) return w.apply(void 0, o(['hit'], u)), b([c], [null].concat(f)); const l = v.get(a); if (l && l.expiresAt > Date.now()) return l.queue.push(c), void w.apply(void 0, o(['queue'], u)); w.apply(void 0, o(['miss'], u)); const p = Date.now(); const h = [c]; v.set(a, { queue: h, expiresAt: p + d }); const g = function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; const r = e[0]; r || m(a, u, e.slice(1)), v.delete(a), w.apply(void 0, o(['loaded', Date.now() - p], u)), b(h, e) }; r.apply(void 0, o(u, [g])) }, y) }t.asyncMemoizer = p, p.sync = l.syncMemoizer }, function (e, t, r) { process.env.npm_package_name === 'pseudomap' && process.env.npm_lifecycle_script === 'test' && (process.env.TEST_PSEUDOMAP = 'true'), typeof Map !== 'function' || process.env.TEST_PSEUDOMAP ? e.exports = r(110) : e.exports = Map }, function (e, t) { const r = Object.prototype.hasOwnProperty; function n (e) { if (!(this instanceof n)) throw new TypeError("Constructor PseudoMap requires 'new'"); if (this.clear(), e) if (e instanceof n || typeof Map === 'function' && e instanceof Map)e.forEach(function (e, t) { this.set(t, e) }, this); else { if (!Array.isArray(e)) throw new TypeError('invalid argument'); e.forEach(function (e) { this.set(e[0], e[1]) }, this) } } function o (e, t) { return e === t || e != e && t != t } function i (e, t, r) { this.key = e, this.value = t, this._index = r } function s (e, t) { for (let n = 0, i = '_' + t, s = i; r.call(e, s); s = i + n++) if (o(e[s].key, t)) return e[s] }e.exports = n, n.prototype.forEach = function (e, t) { t = t || this, Object.keys(this._data).forEach(function (r) { r !== 'size' && e.call(t, this._data[r].value, this._data[r].key) }, this) }, n.prototype.has = function (e) { return !!s(this._data, e) }, n.prototype.get = function (e) { const t = s(this._data, e); return t && t.value }, n.prototype.set = function (e, t) { !(function (e, t, n) { for (var s = 0, a = '_' + t, u = a; r.call(e, u); u = a + s++) if (o(e[u].key, t)) return void (e[u].value = n); e.size++, e[u] = new i(t, n, u) }(this._data, e, t)) }, n.prototype.delete = function (e) { const t = s(this._data, e); t && (delete this._data[t._index], this._data.size--) }, n.prototype.clear = function () { const e = Object.create(null); e.size = 0, Object.defineProperty(this, '_data', { value: e, enumerable: !1, configurable: !0, writable: !1 }) }, Object.defineProperty(n.prototype, 'size', { get: function () { return this._data.size }, set: function (e) {}, enumerable: !0, configurable: !0 }), n.prototype.values = n.prototype.keys = n.prototype.entries = function () { throw new Error('iterators are not implemented in this version') } }, function (e, t) { function r (e) { let t = this; if (t instanceof r || (t = new r()), t.tail = null, t.head = null, t.length = 0, e && typeof e.forEach === 'function')e.forEach(function (e) { t.push(e) }); else if (arguments.length > 0) for (let n = 0, o = arguments.length; n < o; n++)t.push(arguments[n]); return t } function n (e, t) { e.tail = new i(t, e.tail, null, e), e.head || (e.head = e.tail), e.length++ } function o (e, t) { e.head = new i(t, null, e.head, e), e.tail || (e.tail = e.head), e.length++ } function i (e, t, r, n) { if (!(this instanceof i)) return new i(e, t, r, n); this.list = n, this.value = e, t ? (t.next = this, this.prev = t) : this.prev = null, r ? (r.prev = this, this.next = r) : this.next = null }e.exports = r, r.Node = i, r.create = r, r.prototype.removeNode = function (e) { if (e.list !== this) throw new Error('removing node which does not belong to this list'); const t = e.next; const r = e.prev; t && (t.prev = r), r && (r.next = t), e === this.head && (this.head = t), e === this.tail && (this.tail = r), e.list.length--, e.next = null, e.prev = null, e.list = null }, r.prototype.unshiftNode = function (e) { if (e !== this.head) { e.list && e.list.removeNode(e); const t = this.head; e.list = this, e.next = t, t && (t.prev = e), this.head = e, this.tail || (this.tail = e), this.length++ } }, r.prototype.pushNode = function (e) { if (e !== this.tail) { e.list && e.list.removeNode(e); const t = this.tail; e.list = this, e.prev = t, t && (t.next = e), this.tail = e, this.head || (this.head = e), this.length++ } }, r.prototype.push = function () { for (let e = 0, t = arguments.length; e < t; e++)n(this, arguments[e]); return this.length }, r.prototype.unshift = function () { for (let e = 0, t = arguments.length; e < t; e++)o(this, arguments[e]); return this.length }, r.prototype.pop = function () { if (this.tail) { const e = this.tail.value; return this.tail = this.tail.prev, this.tail ? this.tail.next = null : this.head = null, this.length--, e } }, r.prototype.shift = function () { if (this.head) { const e = this.head.value; return this.head = this.head.next, this.head ? this.head.prev = null : this.tail = null, this.length--, e } }, r.prototype.forEach = function (e, t) { t = t || this; for (let r = this.head, n = 0; r !== null; n++)e.call(t, r.value, n, this), r = r.next }, r.prototype.forEachReverse = function (e, t) { t = t || this; for (let r = this.tail, n = this.length - 1; r !== null; n--)e.call(t, r.value, n, this), r = r.prev }, r.prototype.get = function (e) { for (var t = 0, r = this.head; r !== null && t < e; t++)r = r.next; if (t === e && r !== null) return r.value }, r.prototype.getReverse = function (e) { for (var t = 0, r = this.tail; r !== null && t < e; t++)r = r.prev; if (t === e && r !== null) return r.value }, r.prototype.map = function (e, t) { t = t || this; for (var n = new r(), o = this.head; o !== null;)n.push(e.call(t, o.value, this)), o = o.next; return n }, r.prototype.mapReverse = function (e, t) { t = t || this; for (var n = new r(), o = this.tail; o !== null;)n.push(e.call(t, o.value, this)), o = o.prev; return n }, r.prototype.reduce = function (e, t) { let r; let n = this.head; if (arguments.length > 1)r = t; else { if (!this.head) throw new TypeError('Reduce of empty list with no initial value'); n = this.head.next, r = this.head.value } for (let o = 0; n !== null; o++)r = e(r, n.value, o), n = n.next; return r }, r.prototype.reduceReverse = function (e, t) { let r; let n = this.tail; if (arguments.length > 1)r = t; else { if (!this.tail) throw new TypeError('Reduce of empty list with no initial value'); n = this.tail.prev, r = this.tail.value } for (let o = this.length - 1; n !== null; o--)r = e(r, n.value, o), n = n.prev; return r }, r.prototype.toArray = function () { for (var e = new Array(this.length), t = 0, r = this.head; r !== null; t++)e[t] = r.value, r = r.next; return e }, r.prototype.toArrayReverse = function () { for (var e = new Array(this.length), t = 0, r = this.tail; r !== null; t++)e[t] = r.value, r = r.prev; return e }, r.prototype.slice = function (e, t) { (t = t || this.length) < 0 && (t += this.length), (e = e || 0) < 0 && (e += this.length); const n = new r(); if (t < e || t < 0) return n; e < 0 && (e = 0), t > this.length && (t = this.length); for (var o = 0, i = this.head; i !== null && o < e; o++)i = i.next; for (;i !== null && o < t; o++, i = i.next)n.push(i.value); return n }, r.prototype.sliceReverse = function (e, t) { (t = t || this.length) < 0 && (t += this.length), (e = e || 0) < 0 && (e += this.length); const n = new r(); if (t < e || t < 0) return n; e < 0 && (e = 0), t > this.length && (t = this.length); for (var o = this.length, i = this.tail; i !== null && o > t; o--)i = i.prev; for (;i !== null && o > e; o--, i = i.prev)n.push(i.value); return n }, r.prototype.reverse = function () { for (var e = this.head, t = this.tail, r = e; r !== null; r = r.prev) { const n = r.prev; r.prev = r.next, r.next = n } return this.head = t, this.tail = e, this } }, function (e, t, r) { 'use strict'; const n = this && this.__read || function (e, t) { let r = typeof Symbol === 'function' && e[Symbol.iterator]; if (!r) return e; let n; let o; const i = r.call(e); const s = []; try { for (;(void 0 === t || t-- > 0) && !(n = i.next()).done;)s.push(n.value) } catch (e) { o = { error: e } } finally { try { n && !n.done && (r = i.return) && r.call(i) } finally { if (o) throw o.error } } return s }; const o = this && this.__spread || function () { for (var e = [], t = 0; t < arguments.length; t++)e = e.concat(n(arguments[t])); return e }; const i = this && this.__importDefault || function (e) { return e && e.__esModule ? e : { default: e } }; Object.defineProperty(t, '__esModule', { value: !0 }); const s = i(r(72)); const a = r(30); const u = i(r(73)); const c = r(74); t.syncMemoizer = function (e) { const t = new s.default(e); const r = e.load; const n = e.hash; const i = e.bypass; const f = e.itemMaxAge; const l = e.freeze; const p = e.clone; const h = new a.EventEmitter(); const d = Object.assign({ del: function () { const e = n.apply(void 0, o(arguments)); t.del(e) }, reset: function () { return t.reset() }, keys: t.keys.bind(t), on: h.on.bind(h), once: h.once.bind(h) }, e); if (e.disable) return Object.assign(r, d); function v (e) { for (var t = [], r = 1; r < arguments.length; r++)t[r - 1] = arguments[r]; h.emit.apply(h, o([e], t)) } function g (e) { return e && e.then && typeof e.then === 'function' } function y (e) { let t = e; return p && (t = g(t) ? t.then(u.default) : u.default(t)), l && (g(t) ? t = t.then(c.deepFreeze) : c.deepFreeze(t)), t } return Object.assign(function () { for (var e = [], s = 0; s < arguments.length; s++)e[s] = arguments[s]; if (i && i.apply(void 0, o(e))) return v.apply(void 0, o(['miss'], e)), r.apply(void 0, o(e)); const a = n.apply(void 0, o(e)); const u = t.get(a); if (u) return v.apply(void 0, o(['hit'], e)), y(u); v.apply(void 0, o(['miss'], e)); const c = r.apply(void 0, o(e)); return f ? t.set(a, c, f.apply(void 0, o(e.concat([c])))) : t.set(a, c), y(c) }, d) } }, function (e, t, r) { 'use strict'; Object.defineProperty(t, '__esModule', { value: !0 }), t.default = function (e) { const t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : options; const r = t.jwksRequestsPerMinute; const s = void 0 === r ? 10 : r; const a = (0, n.default)('jwks'); const u = e.getSigningKey; const c = new o.RateLimiter(s, 'minute', !0); return a('Configured rate limiting to JWKS endpoint at ' + s + '/minute'), function (e, t) { c.removeTokens(1, function (r, n) { return r ? t(r) : (a('Requests to the JWKS endpoint available for the next minute:', n), n < 0 ? (a('Too many requests to the JWKS endpoint'), t(new i.default('Too many requests to the JWKS endpoint'))) : u(e, t)) }) } }; var n = s(r(2)); var o = r(114); var i = s(r(76)); function s (e) { return e && e.__esModule ? e : { default: e } } }, function (e, t, r) { t.RateLimiter = r(115), t.TokenBucket = r(75) }, function (e, t, r) { const n = r(75); const o = r(116); const i = function (e, t, r) { this.tokenBucket = new n(e, e, t, null), this.tokenBucket.content = e, this.curIntervalStart = o(), this.tokensThisInterval = 0, this.fireImmediately = r }; i.prototype = { tokenBucket: null, curIntervalStart: 0, tokensThisInterval: 0, fireImmediately: !1, removeTokens: function (e, t) { if (e > this.tokenBucket.bucketSize) return process.nextTick(t.bind(null, 'Requested tokens ' + e + ' exceeds maximum tokens per interval ' + this.tokenBucket.bucketSize, null)), !1; const r = this; const n = o(); if ((n < this.curIntervalStart || n - this.curIntervalStart >= this.tokenBucket.interval) && (this.curIntervalStart = n, this.tokensThisInterval = 0), e > this.tokenBucket.tokensPerInterval - this.tokensThisInterval) { if (this.fireImmediately)process.nextTick(t.bind(null, null, -1)); else { const i = Math.ceil(this.curIntervalStart + this.tokenBucket.interval - n); setTimeout(function () { r.tokenBucket.removeTokens(e, s) }, i) } return !1 } return this.tokenBucket.removeTokens(e, s); function s (n, o) { if (n) return t(n, null); r.tokensThisInterval += e, t(null, o) } }, tryRemoveTokens: function (e) { if (e > this.tokenBucket.bucketSize) return !1; const t = o(); if ((t < this.curIntervalStart || t - this.curIntervalStart >= this.tokenBucket.interval) && (this.curIntervalStart = t, this.tokensThisInterval = 0), e > this.tokenBucket.tokensPerInterval - this.tokensThisInterval) return !1; const r = this.tokenBucket.tryRemoveTokens(e); return r && (this.tokensThisInterval += e), r }, getTokensRemaining: function () { return this.tokenBucket.drip(), this.tokenBucket.content } }, e.exports = i }, function (e, t) { e.exports = function () { if (typeof process !== 'undefined' && process.hrtime) { const e = process.hrtime(); const t = e[0]; const r = e[1]; return 1e3 * t + Math.floor(r / 1e6) } return (new Date()).getTime() } }, function (e, t, r) { 'use strict'; Object.defineProperty(t, '__esModule', { value: !0 }), t.default = function (e) { const t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : options; const r = t.getKeysInterceptor; const o = e.getSigningKey; return function (e, t) { r(function (r, i) { if (r) return t(r); let s = void 0; if (i && i.length && (s = (0, n.retrieveSigningKeys)(i)), s && s.length) { const a = s.find(function (t) { return !e || t.kid === e }); if (a) return t(null, a) } return o(e, t) }) } }; var n = r(71) }, function (e, t, r) { 'use strict'; function n (e) { Error.call(this, e), Error.captureStackTrace(this, this.constructor), this.name = 'ArgumentError', this.message = e }n.prototype = Object.create(Error.prototype), n.prototype.constructor = n, e.exports = n }, function (e, t, r) { 'use strict'; const n = r(14); const o = r(13); const i = function (e, t) { return e && e.name === 'SigningKeyNotFoundError' || e ? t(e, null, null) : void 0 }; e.exports.hapiJwt2KeyAsync = function (t) { const r = e.exports.hapiJwt2Key(t); return function (e) { return new Promise(function (t, n) { r(e, function (e, r) { !r || e ? n(e) : t({ key: r }) }) }) } }, e.exports.hapiJwt2Key = function (e) { if (e == null) throw new n.ArgumentError('An options object must be provided when initializing hapiJwt2Key'); const t = new o.JwksClient(e); const r = e.handleSigningKeyError || i; return function (e, n) { return e && e.header ? e.header.alg !== 'RS256' ? n(new Error('Unsupported algorithm ' + e.header.alg + ' supplied. node-jwks-rsa supports only RS256'), null, null) : void t.getSigningKey(e.header.kid, function (e, t) { return e ? r(e, function (e) { return n(e, null, null) }) : n(null, t.publicKey || t.rsaPublicKey, t) }) : n(new Error('Cannot find a signing certificate if there is no header'), null, null) } } }, function (e, t, r) { 'use strict'; const n = r(14); const o = r(13); const i = function (e, t) { return e && e.name === 'SigningKeyNotFoundError' ? t(null) : e ? t(e) : void 0 }; e.exports.expressJwtSecret = function (e) { if (e == null) throw new n.ArgumentError('An options object must be provided when initializing expressJwtSecret'); const t = new o.JwksClient(e); const r = e.handleSigningKeyError || i; return function (e, n, o, i) { if (!n || n.alg !== 'RS256') return i(null, null); t.getSigningKey(n.kid, function (e, t) { return e ? r(e, function (e) { return i(e, null) }) : i(null, t.publicKey || t.rsaPublicKey) }) } } }, function (e, t, r) { 'use strict'; const n = r(14); const o = r(13); e.exports.koaJwtSecret = function () { const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; if (!e.jwksUri && !e.jwksObject) throw new n.ArgumentError('No JWKS provided. Please provide a jwksUri or jwksObject'); const t = new o.JwksClient(e); return function () { const r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; const n = r.alg; const o = r.kid; return new Promise(function (r, i) { if (n !== 'RS256') return i(new Error('Missing / invalid token algorithm')); t.getSigningKey(o, function (t, n) { if (t) return e.handleSigningKeyError ? e.handleSigningKeyError(t).then(i) : i(t); r(n.publicKey || n.rsaPublicKey) }) }) } } }, function (e, t, r) { 'use strict'; let n; const o = r(56); const i = (n = o) && n.__esModule ? n : { default: n }; const s = r(14); const a = r(13); const u = function (e, t) { return e && e.name === 'SigningKeyNotFoundError' ? t(null) : e ? t(e) : void 0 }; e.exports.passportJwtSecret = function (e) { if (e == null) throw new s.ArgumentError('An options object must be provided when initializing passportJwtSecret'); if (!e.jwksUri && !e.jwksObject) throw new s.ArgumentError('No JWKS provided. Please provide a jwksUri or jwksObject'); const t = new a.JwksClient(e); const r = e.handleSigningKeyError || u; return function (e, n, o) { const s = i.default.decode(n, { complete: !0 }); if (!s || !s.header || s.header.alg !== 'RS256') return o(null, null); t.getSigningKey(s.header.kid, function (e, t) { return e ? r(e, function (e) { return o(e, null) }) : o(null, t.publicKey || t.rsaPublicKey) }) } } },,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,, function (e, t, r) { 'use strict'; r.r(t); r(264); const n = r(27); const o = r(78); const i = r(56); const s = r(95); exports.handler = function (e, t, r) { let a = null; if (e.headers.cookie) { const t = o.parse(e.headers.cookie); try { a = t.jwt } catch (e) { return console.log(e), r(null, { statusCode: 401, body: 'Unauthorized' }) } } if (!a) return r(null, { statusCode: 401, body: 'Unauthorized' }); const u = s({ jwksUri: 'https://grandgarage.eu.auth0.com/.well-known/jwks.json' }); i.verify(a, function (e, t) { u.getSigningKey(e.kid, function (e, r) { const n = r.publicKey || r.rsaPublicKey; t(null, n) }) }, function (t, o) { if (t)console.log(t), r(null, { statusCode: 500, body: 'ERROR' }); else { const t = o['https://grandgarage.eu/fabmanId']; const i = n.create({ baseURL: 'https://fabman.io/api/v1/', headers: { Authorization: 'Bearer ' + process.env.FABMAN_TOKEN } }); const s = JSON.parse(e.body); i.put('members/' + t, s).then(e => { const t = { firstName: e.data.firstName, lastName: e.data.lastName, memberNumber: e.data.memberNumber, emailAddress: e.data.emailAddress, address: e.data.address, address2: e.data.address2, city: e.data.city, zip: e.data.zip, lockVersion: e.data.lockVersion }; r(null, { statusCode: 200, body: JSON.stringify(t) }) }).catch(e => { r(null, { statusCode: 500, body: 'ERROR' }) }) } }) } }, function (e, t) { e.exports = require('querystring') }]))))
